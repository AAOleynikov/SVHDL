(self["webpackChunkplaycode"]=self["webpackChunkplaycode"]||[]).push([[3278],{90127:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}",""]);const c=a},72478:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=i(61667),c=i.n(a),l=new URL(i(76610),i.b),d=s()(o()),u=c()(l);d.push([e.id,"@font-face{font-family:codicon;font-display:block;src:url("+u+') format("truetype")}.codicon[class*=codicon-]{font:normal normal normal 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none}',""]);const h=d},89917:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover a:hover:not(.disabled){cursor:pointer}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover h1,.monaco-hover h2,.monaco-hover h3,.monaco-hover h4,.monaco-hover h5,.monaco-hover h6{line-height:1.1}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin-top:4px;margin-bottom:-4px;margin-left:-8px;margin-right:-8px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .info{font-style:italic;padding:0 8px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid #0000;text-underline-position:under;color:var(--vscode-textLink-foreground)}.monaco-hover .hover-contents a.code-link>span:hover{color:var(--vscode-textLink-activeForeground)}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}',""]);const c=a},72880:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-toolbar{height:100%}.monaco-toolbar .toolbar-toggle-more{display:inline-block;padding:0}",""]);const c=a},87314:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}",""]);const c=a},19180:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .bracket-match{box-sizing:border-box;background-color:var(--vscode-editorBracketMatch-background);border:1px solid var(--vscode-editorBracketMatch-border)}",""]);const c=a},59899:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .lightBulbWidget{display:flex;align-items:center;justify-content:center}.monaco-editor .lightBulbWidget:hover{cursor:pointer}.monaco-editor .lightBulbWidget.codicon-light-bulb{color:var(--vscode-editorLightBulb-foreground)}.monaco-editor .lightBulbWidget.codicon-lightbulb-autofix{color:var(--vscode-editorLightBulbAutoFix-foreground,var(--vscode-editorLightBulb-foreground))}.monaco-editor .lightBulbWidget:before{position:relative;z-index:2}.monaco-editor .lightBulbWidget:after{position:absolute;top:0;left:0;content:"";display:block;width:100%;height:100%;opacity:.3;background-color:var(--vscode-editor-background);z-index:1}',""]);const c=a},64743:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap;color:var(--vscode-editorCodeLens-foreground);line-height:var(--vscode-editorCodeLens-lineHeight);font-size:var(--vscode-editorCodeLens-fontSize);padding-right:calc(var(--vscode-editorCodeLens-fontSize)*.5);font-feature-settings:var(--vscode-editorCodeLens-fontFeatureSettings);font-family:var(--vscode-editorCodeLens-fontFamily),var(--vscode-editorCodeLens-fontFamilyDefault)}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration>a:hover,.monaco-editor .codelens-decoration>a:hover .codicon{color:var(--vscode-editorLink-activeForeground)!important}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important;color:var(--vscode-editorCodeLens-foreground);line-height:var(--vscode-editorCodeLens-lineHeight);font-size:var(--vscode-editorCodeLens-fontSize)}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}",""]);const c=a},54897:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=i(61667),c=i.n(a),l=new URL(i(46908),i.b),d=s()(o()),u=c()(l);d.push([e.id,".colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none}.colorpicker-color-decoration,.hc-light .colorpicker-color-decoration{border:.1em solid #000;box-sizing:border-box;margin:.1em .2em 0 .2em;width:.8em;height:.8em;line-height:.8em;display:inline-block;cursor:pointer}.hc-black .colorpicker-color-decoration,.vs-dark .colorpicker-color-decoration{border:.1em solid #eee}.colorpicker-header{display:flex;height:24px;position:relative;background:url("+u+");background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:240px;display:flex;align-items:center;justify-content:center;line-height:24px;cursor:pointer;color:#fff;flex:1}.colorpicker-header .picked-color .codicon{color:inherit;font-size:14px;position:absolute;left:8px}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.standalone-colorpicker{color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.colorpicker-header.standalone-colorpicker{border-bottom:none}.colorpicker-header .close-button{cursor:pointer;background-color:var(--vscode-editorHoverWidget-background);border-left:1px solid var(--vscode-editorHoverWidget-border)}.colorpicker-header .close-button-inner-div{width:100%;height:100%;text-align:center}.colorpicker-header .close-button-inner-div:hover{background-color:var(--vscode-toolbar-hoverBackground)}.colorpicker-header .close-icon{padding:3px}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .standalone-strip{width:25px;height:122px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url("+u+");background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid #ffffffb5;box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.colorpicker-body .standalone-strip .standalone-overlay{height:122px;pointer-events:none}.standalone-colorpicker-body{display:block;border:1px solid #0000;border-bottom:1px solid var(--vscode-editorHoverWidget-border);overflow:hidden}.colorpicker-body .insert-button{height:20px;width:58px;position:absolute;right:8px;bottom:8px;background:var(--vscode-button-background);color:var(--vscode-button-foreground);border-radius:2px;border:none;cursor:pointer}.colorpicker-body .insert-button:hover{background:var(--vscode-button-hoverBackground)}",""]);const h=d},29913:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor.hc-light .dnd-target,.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.hc-light.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.hc-light.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}",""]);const c=a},13162:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .findOptionsWidget{background-color:var(--vscode-editorWidget-background);color:var(--vscode-editorWidget-foreground);box-shadow:0 0 8px 2px var(--vscode-widget-shadow);border:2px solid var(--vscode-contrastBorder)}",""]);const c=a},17120:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px));border-bottom-left-radius:4px;border-bottom-right-radius:4px}.monaco-workbench.reduce-motion .monaco-editor .find-widget{transition:transform 0ms linear}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:initial;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:3px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{color:var(--vscode-disabledForeground);cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}",""]);const c=a},56205:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded{transition:initial}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:grey;margin:.1em .2em 0 .2em;content:"\\22EF";display:inline;line-height:1em;cursor:pointer}.monaco-editor .folded-background{background-color:var(--vscode-editor-foldBackground)}.monaco-editor .cldr.codicon.codicon-folding-collapsed,.monaco-editor .cldr.codicon.codicon-folding-expanded,.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed,.monaco-editor .cldr.codicon.codicon-folding-manual-expanded{color:var(--vscode-editorGutter-foldingControlForeground)!important}',""]);const c=a},49117:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid #0000;text-underline-position:under;color:var(--vscode-textLink-foreground);color:var(--vscode-textLink-activeForeground)}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}',""]);const c=a},92102:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}",""]);const c=a},35609:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px;background-color:var(--vscode-peekViewResult-background);color:var(--vscode-peekViewResult-lineForeground)}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%;color:var(--vscode-peekViewResult-fileForeground)}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows>.monaco-list-row.selected:not(.highlighted){background-color:var(--vscode-peekViewResult-selectionBackground);color:var(--vscode-peekViewResult-selectionForeground)!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight{background-color:var(--vscode-peekViewResult-matchHighlightBackground)}.monaco-editor .reference-zone-widget .preview .reference-decoration{background-color:var(--vscode-peekViewEditor-matchHighlightBackground);border:2px solid var(--vscode-peekViewEditor-matchHighlightBorder);box-sizing:border-box}.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input,.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background{background-color:var(--vscode-peekViewEditor-background)}.monaco-editor .reference-zone-widget .preview .monaco-editor .margin{background-color:var(--vscode-peekViewEditorGutter-background)}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight{border:1px dotted var(--vscode-contrastActiveBorder,#0000);box-sizing:border-box}",""]);const c=a},15568:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .hoverHighlight{background-color:var(--vscode-editor-hoverHighlightBackground)}.monaco-editor .monaco-hover{color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .monaco-hover a{color:var(--vscode-textLink-foreground)}.monaco-editor .monaco-hover a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .monaco-hover .hover-row .actions{background-color:var(--vscode-editorHoverWidget-statusBarBackground)}.monaco-editor .monaco-hover code{background-color:var(--vscode-textCodeBlock-background)}",""]);const c=a},28822:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor.vs .valueSetReplacement{outline:solid 2px var(--vscode-editorBracketMatch-border)}",""]);const c=a},91666:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:#0000;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text .ghost-text{font-style:italic}.monaco-editor .inline-completion-text-to-replace{text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-decoration,.monaco-editor .ghost-text-decoration-preview,.monaco-editor .suggest-preview-text .ghost-text{color:var(--vscode-editorGhostText-foreground)!important;background-color:var(--vscode-editorGhostText-background);border:1px solid var(--vscode-editorGhostText-border)}",""]);const c=a},16363:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .inlineSuggestionsHints.withBorder{z-index:39;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .inlineSuggestionsHints a,.monaco-editor .inlineSuggestionsHints a:hover{color:var(--vscode-foreground)}.monaco-editor .inlineSuggestionsHints .keybinding{display:flex;margin-left:4px;opacity:.6}.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key{font-size:8px;padding:2px 3px}.monaco-editor .inlineSuggestionsHints .custom-actions .action-item:nth-child(2) a{display:flex;min-width:19px;justify-content:center}.monaco-editor .inlineSuggestionStatusBarItemLabel{margin-right:2px}",""]);const c=a},25333:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .linked-editing-decoration{background-color:var(--vscode-editor-linkedEditingBackground);min-width:1px}",""]);const c=a},33386:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer;color:var(--vscode-editorLink-activeForeground)!important}",""]);const c=a},48437:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .rendered-markdown kbd{background-color:var(--vscode-keybindingLabel-background);color:var(--vscode-keybindingLabel-foreground);border-style:solid;border-width:1px;border-radius:3px;border-color:var(--vscode-keybindingLabel-border);border-bottom-color:var(--vscode-keybindingLabel-bottomBorder);box-shadow:inset 0 -1px 0 var(--vscode-widget-shadow);vertical-align:middle;padding:1px 3px}",""]);const c=a},36585:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px;color:var(--vscode-inputValidation-infoForeground);background-color:var(--vscode-inputValidation-infoBackground);border:1px solid var(--vscode-inputValidation-infoBorder)}.monaco-editor.hc-black .monaco-editor-overlaymessage .message,.monaco-editor.hc-light .monaco-editor-overlaymessage .message{border-width:2px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;border-color:#0000;border-style:solid;z-index:1000;border-width:8px;position:absolute}.monaco-editor .monaco-editor-overlaymessage .anchor.top{border-bottom-color:var(--vscode-inputValidation-infoBorder)}.monaco-editor .monaco-editor-overlaymessage .anchor.below{border-top-color:var(--vscode-inputValidation-infoBorder)}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}",""]);const c=a},73827:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .parameter-hints-widget{z-index:39;display:flex;flex-direction:column;line-height:1.5em;cursor:default;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.hc-black .monaco-editor .parameter-hints-widget,.hc-light .monaco-editor .parameter-hints-widget{border-width:2px}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.multiple .body:before{content:"";display:block;height:100%;position:absolute;opacity:.5;border-left:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px;position:relative}.monaco-editor .parameter-hints-widget .signature.has-docs:after{content:"";display:block;position:absolute;left:0;width:100%;padding-top:4px;opacity:.5;border-bottom:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs a{color:var(--vscode-textLink-foreground)}.monaco-editor .parameter-hints-widget .docs a:hover{color:var(--vscode-textLink-activeForeground);cursor:pointer}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs code{font-family:var(--monaco-monospace-font);border-radius:3px;padding:0 .4em;background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .parameter-hints-widget .docs .code,.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{color:var(--vscode-editorHoverWidget-highlightForeground);font-weight:700}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}',""]);const c=a},95925:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex;justify-content:space-between;flex-wrap:nowrap}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:baseline;font-size:13px;margin-left:20px;min-width:0;text-overflow:ellipsis;overflow:hidden}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .filename,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px;align-self:center}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}',""]);const c=a},61868:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .rename-box{z-index:100;color:inherit;border-radius:4px}.monaco-editor .rename-box.preview{padding:4px 4px 0 4px}.monaco-editor .rename-box .rename-input{padding:3px;border-radius:2px}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}",""]);const c=a},27989:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .snippet-placeholder{min-width:2px;outline-style:solid;outline-width:1px;background-color:var(--vscode-editor-snippetTabstopHighlightBackground,#0000);outline-color:var(--vscode-editor-snippetTabstopHighlightBorder,#0000)}.monaco-editor .finish-snippet-placeholder{outline-style:solid;outline-width:1px;background-color:var(--vscode-editor-snippetFinalTabstopHighlightBackground,#0000);outline-color:var(--vscode-editor-snippetFinalTabstopHighlightBorder,#0000)}",""]);const c=a},87252:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px;border-color:var(--vscode-editorSuggestWidget-border);background-color:var(--vscode-editorSuggestWidget-background)}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget,.monaco-editor.hc-light .suggest-details,.monaco-editor.hc-light .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px 0 4px;border-top:1px solid var(--vscode-editorSuggestWidget-border);overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{color:var(--vscode-editorSuggestWidgetStatus-foreground)}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused{color:var(--vscode-editorSuggestWidget-selectedForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon{color:var(--vscode-editorSuggestWidget-selectedIconForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label{color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-highlightForeground)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight{color:var(--vscode-editorSuggestWidget-focusHighlightForeground)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default;color:var(--vscode-editorSuggestWidget-foreground)}.monaco-editor .suggest-details.focused{border-color:var(--vscode-focusBorder)}.monaco-editor .suggest-details a{color:var(--vscode-textLink-foreground)}.monaco-editor .suggest-details a:hover{color:var(--vscode-textLink-activeForeground)}.monaco-editor .suggest-details code{background-color:var(--vscode-textCodeBlock-background)}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px;overflow:hidden}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source{white-space:pre}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}',""]);const c=a},96624:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .codicon.codicon-symbol-array,.monaco-workbench .codicon.codicon-symbol-array{color:var(--vscode-symbolIcon-arrayForeground)}.monaco-editor .codicon.codicon-symbol-boolean,.monaco-workbench .codicon.codicon-symbol-boolean{color:var(--vscode-symbolIcon-booleanForeground)}.monaco-editor .codicon.codicon-symbol-class,.monaco-workbench .codicon.codicon-symbol-class{color:var(--vscode-symbolIcon-classForeground)}.monaco-editor .codicon.codicon-symbol-method,.monaco-workbench .codicon.codicon-symbol-method{color:var(--vscode-symbolIcon-methodForeground)}.monaco-editor .codicon.codicon-symbol-color,.monaco-workbench .codicon.codicon-symbol-color{color:var(--vscode-symbolIcon-colorForeground)}.monaco-editor .codicon.codicon-symbol-constant,.monaco-workbench .codicon.codicon-symbol-constant{color:var(--vscode-symbolIcon-constantForeground)}.monaco-editor .codicon.codicon-symbol-constructor,.monaco-workbench .codicon.codicon-symbol-constructor{color:var(--vscode-symbolIcon-constructorForeground)}.monaco-editor .codicon.codicon-symbol-enum,.monaco-editor .codicon.codicon-symbol-value,.monaco-workbench .codicon.codicon-symbol-enum,.monaco-workbench .codicon.codicon-symbol-value{color:var(--vscode-symbolIcon-enumeratorForeground)}.monaco-editor .codicon.codicon-symbol-enum-member,.monaco-workbench .codicon.codicon-symbol-enum-member{color:var(--vscode-symbolIcon-enumeratorMemberForeground)}.monaco-editor .codicon.codicon-symbol-event,.monaco-workbench .codicon.codicon-symbol-event{color:var(--vscode-symbolIcon-eventForeground)}.monaco-editor .codicon.codicon-symbol-field,.monaco-workbench .codicon.codicon-symbol-field{color:var(--vscode-symbolIcon-fieldForeground)}.monaco-editor .codicon.codicon-symbol-file,.monaco-workbench .codicon.codicon-symbol-file{color:var(--vscode-symbolIcon-fileForeground)}.monaco-editor .codicon.codicon-symbol-folder,.monaco-workbench .codicon.codicon-symbol-folder{color:var(--vscode-symbolIcon-folderForeground)}.monaco-editor .codicon.codicon-symbol-function,.monaco-workbench .codicon.codicon-symbol-function{color:var(--vscode-symbolIcon-functionForeground)}.monaco-editor .codicon.codicon-symbol-interface,.monaco-workbench .codicon.codicon-symbol-interface{color:var(--vscode-symbolIcon-interfaceForeground)}.monaco-editor .codicon.codicon-symbol-key,.monaco-workbench .codicon.codicon-symbol-key{color:var(--vscode-symbolIcon-keyForeground)}.monaco-editor .codicon.codicon-symbol-keyword,.monaco-workbench .codicon.codicon-symbol-keyword{color:var(--vscode-symbolIcon-keywordForeground)}.monaco-editor .codicon.codicon-symbol-module,.monaco-workbench .codicon.codicon-symbol-module{color:var(--vscode-symbolIcon-moduleForeground)}.monaco-editor .codicon.codicon-symbol-namespace,.monaco-workbench .codicon.codicon-symbol-namespace{color:var(--vscode-symbolIcon-namespaceForeground)}.monaco-editor .codicon.codicon-symbol-null,.monaco-workbench .codicon.codicon-symbol-null{color:var(--vscode-symbolIcon-nullForeground)}.monaco-editor .codicon.codicon-symbol-number,.monaco-workbench .codicon.codicon-symbol-number{color:var(--vscode-symbolIcon-numberForeground)}.monaco-editor .codicon.codicon-symbol-object,.monaco-workbench .codicon.codicon-symbol-object{color:var(--vscode-symbolIcon-objectForeground)}.monaco-editor .codicon.codicon-symbol-operator,.monaco-workbench .codicon.codicon-symbol-operator{color:var(--vscode-symbolIcon-operatorForeground)}.monaco-editor .codicon.codicon-symbol-package,.monaco-workbench .codicon.codicon-symbol-package{color:var(--vscode-symbolIcon-packageForeground)}.monaco-editor .codicon.codicon-symbol-property,.monaco-workbench .codicon.codicon-symbol-property{color:var(--vscode-symbolIcon-propertyForeground)}.monaco-editor .codicon.codicon-symbol-reference,.monaco-workbench .codicon.codicon-symbol-reference{color:var(--vscode-symbolIcon-referenceForeground)}.monaco-editor .codicon.codicon-symbol-snippet,.monaco-workbench .codicon.codicon-symbol-snippet{color:var(--vscode-symbolIcon-snippetForeground)}.monaco-editor .codicon.codicon-symbol-string,.monaco-workbench .codicon.codicon-symbol-string{color:var(--vscode-symbolIcon-stringForeground)}.monaco-editor .codicon.codicon-symbol-struct,.monaco-workbench .codicon.codicon-symbol-struct{color:var(--vscode-symbolIcon-structForeground)}.monaco-editor .codicon.codicon-symbol-text,.monaco-workbench .codicon.codicon-symbol-text{color:var(--vscode-symbolIcon-textForeground)}.monaco-editor .codicon.codicon-symbol-type-parameter,.monaco-workbench .codicon.codicon-symbol-type-parameter{color:var(--vscode-symbolIcon-typeParameterForeground)}.monaco-editor .codicon.codicon-symbol-unit,.monaco-workbench .codicon.codicon-symbol-unit{color:var(--vscode-symbolIcon-unitForeground)}.monaco-editor .codicon.codicon-symbol-variable,.monaco-workbench .codicon.codicon-symbol-variable{color:var(--vscode-symbolIcon-variableForeground)}",""]);const c=a},30254:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .focused .selectionHighlight{background-color:var(--vscode-editor-selectionHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-selectionHighlightBorder)}.monaco-editor.hc-black .focused .selectionHighlight,.monaco-editor.hc-light .focused .selectionHighlight{border-style:dotted}.monaco-editor .wordHighlight{background-color:var(--vscode-editor-wordHighlightBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightBorder)}.monaco-editor.hc-black .wordHighlight,.monaco-editor.hc-light .wordHighlight{border-style:dotted}.monaco-editor .wordHighlightStrong{background-color:var(--vscode-editor-wordHighlightStrongBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightStrongBorder)}.monaco-editor.hc-black .wordHighlightStrong,.monaco-editor.hc-light .wordHighlightStrong{border-style:dotted}.monaco-editor .wordHighlightText{background-color:var(--vscode-editor-wordHighlightTextBackground);box-sizing:border-box;border:1px solid var(--vscode-editor-wordHighlightTextBorder)}.monaco-editor.hc-black .wordHighlightText,.monaco-editor.hc-light .wordHighlightText{border-style:dotted}",""]);const c=a},31982:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}",""]);const c=a},46109:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll;color:var(--vscode-editorWidget-foreground);background-color:var(--vscode-editorWidget-background);box-shadow:0 2px 8px var(--vscode-widget-shadow);border:2px solid var(--vscode-contrastBorder)}",""]);const c=a},88995:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=i(61667),c=i.n(a),l=new URL(i(31631),i.b),d=new URL(i(95574),i.b),u=s()(o()),h=c()(l),g=c()(d);u.push([e.id,".monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url("+h+") 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url("+g+") 50% no-repeat;border:4px solid #252526}",""]);const p=u},35015:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;padding:10px;color:var(--vscode-editorHoverWidget-foreground);background-color:var(--vscode-editorHoverWidget-background);border:1px solid var(--vscode-editorHoverWidget-border)}.monaco-editor.hc-black .tokens-inspect-widget,.monaco-editor.hc-light .tokens-inspect-widget{border-width:2px}.monaco-editor .tokens-inspect-widget .tokens-inspect-separator{height:1px;border:0;background-color:var(--vscode-editorHoverWidget-border)}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}",""]);const c=a},21131:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,'.action-widget{font-size:13px;border-radius:0;min-width:160px;max-width:500px;z-index:40;display:block;width:100%;border:1px solid var(--vscode-editorWidget-border)!important;background-color:var(--vscode-editorWidget-background);color:var(--vscode-editorWidget-foreground)}.context-view-block{z-index:-1}.context-view-block,.context-view-pointerBlock{position:fixed;cursor:auto;left:0;top:0;width:100%;height:100%}.context-view-pointerBlock{z-index:2}.action-widget .monaco-list{user-select:none;-webkit-user-select:none;border:none!important;border-width:0!important}.action-widget .monaco-list:focus:before{outline:0!important}.action-widget .monaco-list .monaco-scrollable-element{overflow:visible}.action-widget .monaco-list .monaco-list-row{padding:0 10px;white-space:nowrap;cursor:pointer;touch-action:none;width:100%}.action-widget .monaco-list .monaco-list-row.action.focused:not(.option-disabled){background-color:var(--vscode-quickInputList-focusBackground)!important;color:var(--vscode-quickInputList-focusForeground);outline:1px solid var(--vscode-menu-selectionBorder,#0000);outline-offset:-1px}.action-widget .monaco-list-row.group-header{color:var(--vscode-pickerGroup-foreground)!important;font-weight:600}.action-widget .monaco-list .group-header,.action-widget .monaco-list .option-disabled,.action-widget .monaco-list .option-disabled .focused,.action-widget .monaco-list .option-disabled .focused:before,.action-widget .monaco-list .option-disabled:before{cursor:default!important;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none;background-color:initial!important;outline:0 solid!important}.action-widget .monaco-list-row.action{display:flex;gap:6px;align-items:center}.action-widget .monaco-list-row.action.option-disabled{color:var(--vscode-disabledForeground)}.action-widget .monaco-list-row.action.option-disabled .codicon{opacity:.4}.action-widget .monaco-list-row.action:not(.option-disabled) .codicon{color:inherit}.action-widget .monaco-list-row.action .title{flex:1;overflow:hidden;text-overflow:ellipsis}.action-widget .action-widget-action-bar{background-color:var(--vscode-editorHoverWidget-statusBarBackground);border-top:1px solid var(--vscode-editorHoverWidget-border)}.action-widget .action-widget-action-bar:before{display:block;content:"";width:100%}.action-widget .action-widget-action-bar .actions-container{padding:0 8px}.action-widget-action-bar .action-label{color:var(--vscode-textLink-activeForeground);font-size:12px;line-height:22px;padding:0;pointer-events:all}.action-widget-action-bar .action-item{margin-right:16px;pointer-events:none}.action-widget-action-bar .action-label:hover{background-color:initial!important}',""]);const c=a},77840:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>c});var n=i(8081),o=i.n(n),r=i(23645),s=i.n(r),a=s()(o());a.push([e.id,".extension-editor .codicon.codicon-error,.extensions-viewlet>.extensions .codicon.codicon-error,.markers-panel .marker-icon .codicon.codicon-error,.markers-panel .marker-icon.error,.monaco-editor .zone-widget .codicon.codicon-error,.preferences-editor .codicon.codicon-error,.text-search-provider-messages .providerMessage .codicon.codicon-error{color:var(--vscode-problemsErrorIcon-foreground)}.extension-editor .codicon.codicon-warning,.extensions-viewlet>.extensions .codicon.codicon-warning,.markers-panel .marker-icon .codicon.codicon-warning,.markers-panel .marker-icon.warning,.monaco-editor .zone-widget .codicon.codicon-warning,.preferences-editor .codicon.codicon-warning,.text-search-provider-messages .providerMessage .codicon.codicon-warning{color:var(--vscode-problemsWarningIcon-foreground)}.extension-editor .codicon.codicon-info,.extensions-viewlet>.extensions .codicon.codicon-info,.markers-panel .marker-icon .codicon.codicon-info,.markers-panel .marker-icon.info,.monaco-editor .zone-widget .codicon.codicon-info,.preferences-editor .codicon.codicon-info,.text-search-provider-messages .providerMessage .codicon.codicon-info{color:var(--vscode-problemsInfoIcon-foreground)}",""]);const c=a},28609:(e,t,i)=>{"use strict";i(73109),i(72199)},49056:(e,t,i)=>{"use strict";i.d(t,{EH:()=>c,nJ:()=>l,Dz:()=>u,nK:()=>s,rD:()=>g,GN:()=>v,aq:()=>m,uh:()=>n.uh,PS:()=>n.PS});var n=i(29869),o=i(17301),r=i(60536);function s(e,t){return new a(e,t)}(0,n.Qv)(s);class a extends n.hm{get debugName(){return"function"===typeof this._debugName?this._debugName():this._debugName}constructor(e,t){var i;super(),this._debugName=e,this.computeFn=t,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,null===(i=(0,r.jl)())||void 0===i||i.handleDerivedCreated(this)}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}get(){if(0===this.observers.size){const e=this.computeFn(this);return this.onLastObserverRemoved(),e}do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){var e;if(3===this.state)return;const t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t;const i=0!==this.state,n=this.value;this.state=3;try{this.value=this.computeFn(this)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}const o=i&&n!==this.value;if(null===(e=(0,r.jl)())||void 0===e||e.handleDerivedRecomputed(this,{oldValue:n,newValue:this.value,change:void 0,didChange:o}),o)for(const r of this.observers)r.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(){this.updateCount++;const e=1===this.updateCount;if(3===this.state&&(this.state=1,!e))for(const t of this.observers)t.handlePossibleChange(this);if(e)for(const t of this.observers)t.beginUpdate(this)}endUpdate(){if(this.updateCount--,0===this.updateCount){const e=[...this.observers];for(const t of e)t.endUpdate(this)}if(this.updateCount<0)throw new o.he}handlePossibleChange(e){if(3===this.state&&this.dependencies.has(e)){this.state=1;for(const e of this.observers)e.handlePossibleChange(this)}}handleChange(e,t){const i=3===this.state;if((1===this.state||i)&&this.dependencies.has(e)&&(this.state=2,i))for(const n of this.observers)n.handlePossibleChange(this)}readObservable(e){e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}function c(e,t){return new d(e,t,void 0)}function l(e,t,i){return new d(e,i,t.handleChange)}class d{constructor(e,t,i){var n;this.debugName=e,this.runFn=t,this._handleChange=i,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,null===(n=(0,r.jl)())||void 0===n||n.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var e;if(3===this.state)return;const t=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=t,this.state=3,null===(e=(0,r.jl)())||void 0===e||e.handleAutorunTriggered(this);try{this.runFn(this)}finally{for(const e of this.dependenciesToBeRemoved)e.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--}handlePossibleChange(e){3===this.state&&this.dependencies.has(e)&&(this.state=1)}handleChange(e,t){if(this.dependencies.has(e)){const i=!this._handleChange||this._handleChange({changedObservable:e,change:t,didChange:t=>t===e});i&&(this.state=2)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const t=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),t}}function u(e){return new h(e)}(function(e){e.Observer=d})(c||(c={}));class h extends n.Nc{constructor(e){super(),this.value=e}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function g(e,t){return new p(e,t)}class p extends n.hm{constructor(e,t){super(),this.event=e,this.getValue=t,this.hasValue=!1,this.handleEvent=e=>{var t;const i=this.getValue(e),o=!this.hasValue||this.value!==i;null===(t=(0,r.jl)())||void 0===t||t.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:i,change:void 0,didChange:o}),o&&(this.value=i,this.hasValue&&(0,n.PS)((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>{const e=this.getDebugName();return"Event fired"+(e?`: ${e}`:"")})),this.hasValue=!0)}}getDebugName(){return(0,n.$P)(this.getValue)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this.getValue(void 0)}}function m(e,t){return new f(e,t)}(function(e){e.Observer=p})(g||(g={}));class f extends n.hm{constructor(e,t){super(),this.debugName=e,this.event=t,this.handleEvent=()=>{(0,n.PS)((e=>{for(const t of this.observers)e.updateObserver(t,this),t.handleChange(this,void 0)}),(()=>this.debugName))}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function v(e){return new _(e)}class _ extends n.hm{constructor(e){super(),this.debugName=e}trigger(e,t){if(e)for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,t);else(0,n.PS)((e=>{this.trigger(e,t)}),(()=>`Trigger signal ${this.debugName}`))}get(){}}const b=!1;b&&(0,r.EK)(new r.Qy)},29869:(e,t,i)=>{"use strict";i.d(t,{$P:()=>d,DN:()=>g,Nc:()=>s,PS:()=>c,Qv:()=>r,hm:()=>a,uh:()=>u});var n=i(60536);let o;function r(e){o=e}class s{get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e){return o((()=>{const t=d(e);return void 0!==t?t:`${this.debugName} (mapped)`}),(t=>e(this.read(t),t)))}}class a extends s{constructor(){super(...arguments),this.observers=new Set}addObserver(e){const t=this.observers.size;this.observers.add(e),0===t&&this.onFirstObserverAdded()}removeObserver(e){const t=this.observers.delete(e);t&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function c(e,t){var i,o;const r=new l(e,t);try{null===(i=(0,n.jl)())||void 0===i||i.handleBeginTransaction(r),e(r)}finally{r.finish(),null===(o=(0,n.jl)())||void 0===o||o.handleEndTransaction()}}class l{constructor(e,t){this.fn=e,this._getDebugName=t,this.updatingObservers=[]}getDebugName(){return this._getDebugName?this._getDebugName():d(this.fn)}updateObserver(e,t){this.updatingObservers.push({observer:e,observable:t}),e.beginUpdate(t)}finish(){const e=this.updatingObservers;this.updatingObservers=null;for(const{observer:t,observable:i}of e)t.endUpdate(i)}}function d(e){const t=e.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//,n=i.exec(t),o=n?n[1]:void 0;return null===o||void 0===o?void 0:o.trim()}function u(e,t){return new h(e,t)}class h extends a{constructor(e,t){super(),this.debugName=e,this._value=t}get(){return this._value}set(e,t,i){var o;if(this._value===e)return;let r;t||(t=r=new l((()=>{}),(()=>`Setting ${this.debugName}`)));try{const s=this._value;this._setValue(e),null===(o=(0,n.jl)())||void 0===o||o.handleObservableChanged(this,{oldValue:s,newValue:e,change:i,didChange:!0});for(const e of this.observers)t.updateObserver(e,this),e.handleChange(this,i)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function g(e,t){return new p(e,t)}class p extends h{_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){var e;null===(e=this._value)||void 0===e||e.dispose()}}},60536:(e,t,i)=>{"use strict";i.d(t,{EK:()=>r,Qy:()=>a,jl:()=>s});var n=i(25108);let o;function r(e){o=e}function s(){return o}class a{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(e){return c([l(m("|  ",this.indentation)),e])}formatInfo(e){return e.didChange?[l(" "),u(h(e.oldValue,70),{color:"red",strikeThrough:!0}),l(" "),u(h(e.newValue,60),{color:"green"})]:[l(" (unchanged)")]}handleObservableChanged(e,t){n.log(...this.textToConsoleArgs([d("observable value changed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}formatChanges(e){if(0!==e.size)return u(" (changed deps: "+[...e].map((e=>e.debugName)).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,n)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,n]))}handleDerivedRecomputed(e,t){const i=this.changedObservablesSets.get(e);n.log(...this.textToConsoleArgs([d("derived recomputed"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t),this.formatChanges(i)])),i.clear()}handleFromEventObservableTriggered(e,t){n.log(...this.textToConsoleArgs([d("observable from event triggered"),u(e.debugName,{color:"BlueViolet"}),...this.formatInfo(t)]))}handleAutorunCreated(e){const t=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(i,n)=>(this.changedObservablesSets.get(e).add(i),t.apply(e,[i,n]))}handleAutorunTriggered(e){const t=this.changedObservablesSets.get(e);n.log(...this.textToConsoleArgs([d("autorun"),u(e.debugName,{color:"BlueViolet"}),this.formatChanges(t)])),t.clear()}handleBeginTransaction(e){let t=e.getDebugName();void 0===t&&(t=""),n.log(...this.textToConsoleArgs([d("transaction"),u(t,{color:"BlueViolet"})])),this.indentation++}handleEndTransaction(){this.indentation--}}function c(e){const t=new Array,i={},n=i;let o="";function r(e){if("length"in e)for(const t of e)t&&r(t);else"text"in e?(o+=`%c${e.text}`,t.push(e.style),e.data&&Object.assign(n,e.data)):"data"in e&&Object.assign(n,e.data)}r(e);const s=[o,...t];return Object.keys(n).length>0&&s.push(n),s}function l(e){return u(e,{color:"black"})}function d(e){return u(f(`${e}: `,10),{color:"black",bold:!0})}function u(e,t={color:"black"}){function i(e){return Object.entries(e).reduce(((e,[t,i])=>`${e}${t}:${i};`),"")}const n={color:t.color};return t.strikeThrough&&(n["text-decoration"]="line-through"),t.bold&&(n["font-weight"]="bold"),{text:e,style:i(n)}}function h(e,t){switch(typeof e){case"number":return""+e;case"string":return e.length+2<=t?`"${e}"`:`"${e.substr(0,t-7)}"+...`;case"boolean":return e?"true":"false";case"undefined":return"undefined";case"object":return null===e?"null":Array.isArray(e)?g(e,t):p(e,t);case"symbol":return e.toString();case"function":return`[[Function${e.name?" "+e.name:""}]]`;default:return""+e}}function g(e,t){let i="[ ",n=!0;for(const o of e){if(n||(i+=", "),i.length-5>t){i+="...";break}n=!1,i+=`${h(o,t-i.length)}`}return i+=" ]",i}function p(e,t){let i="{ ",n=!0;for(const[o,r]of Object.entries(e)){if(n||(i+=", "),i.length-5>t){i+="...";break}n=!1,i+=`${o}: ${h(r,t-i.length)}`}return i+=" }",i}function m(e,t){let i="";for(let n=1;n<=t;n++)i+=e;return i}function f(e,t){while(e.length<t)e+=" ";return e}},21147:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>n,language:()=>o});
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#%\^\&\*\(\)\=\$\-\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{blockComment:["###","###"],lineComment:"#"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*#region\\b"),end:new RegExp("^\\s*#endregion\\b")}}},o={defaultToken:"",ignoreCase:!0,tokenPostfix:".coffee",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"}],regEx:/\/(?!\/\/)(?:[^\/\\]|\\.)*\/[igm]*/,keywords:["and","or","is","isnt","not","on","yes","@","no","off","true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super","undefined","then","unless","until","loop","of","by","when"],symbols:/[=><!~?&%|+\-*\/\^\.,\:]+/,escapes:/\\(?:[abfnrtv\\"'$]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/\@[a-zA-Z_]\w*/,"variable.predefined"],[/[a-zA-Z_]\w*/,{cases:{this:"variable.predefined","@keywords":{token:"keyword.$0"},"@default":""}}],[/[ \t\r\n]+/,""],[/###/,"comment","@comment"],[/#.*$/,"comment"],["///",{token:"regexp",next:"@hereregexp"}],[/^(\s*)(@regEx)/,["","regexp"]],[/(\()(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\,)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\=)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\:)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\[)(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\!)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\&)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\|)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\?)(\s*)(@regEx)/,["delimiter","","regexp"]],[/(\{)(\s*)(@regEx)/,["@brackets","","regexp"]],[/(\;)(\s*)(@regEx)/,["","","regexp"]],[/}/,{cases:{"$S2==interpolatedstring":{token:"string",next:"@pop"},"@default":"@brackets"}}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d+[eE]([\-+]?\d+)?/,"number.float"],[/\d+\.\d+([eE][\-+]?\d+)?/,"number.float"],[/0[xX][0-9a-fA-F]+/,"number.hex"],[/0[0-7]+(?!\d)/,"number.octal"],[/\d+/,"number"],[/[,.]/,"delimiter"],[/"""/,"string",'@herestring."""'],[/'''/,"string","@herestring.'''"],[/"/,{cases:{"@eos":"string","@default":{token:"string",next:'@string."'}}}],[/'/,{cases:{"@eos":"string","@default":{token:"string",next:"@string.'"}}}]],string:[[/[^"'\#\\]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/\./,"string.escape.invalid"],[/#{/,{cases:{'$S2=="':{token:"string",next:"root.interpolatedstring"},"@default":"string"}}],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/#/,"string"]],herestring:[[/("""|''')/,{cases:{"$1==$S2":{token:"string",next:"@pop"},"@default":"string"}}],[/[^#\\'"]+/,"string"],[/['"]+/,"string"],[/@escapes/,"string.escape"],[/\./,"string.escape.invalid"],[/#{/,{token:"string.quote",next:"root.interpolatedstring"}],[/#/,"string"]],comment:[[/[^#]+/,"comment"],[/###/,"comment","@pop"],[/#/,"comment"]],hereregexp:[[/[^\\\/#]+/,"regexp"],[/\\./,"regexp"],[/#.*$/,"comment"],["///[igm]*",{token:"regexp",next:"@pop"}],[/\//,"regexp"]]}}},62075:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>n,language:()=>o});
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={wordPattern:/(#?-?\d*\.\d\w*%?)|((::|[@#.!:])?[\w-?]+%?)|::|[@#.!:]/g,comments:{blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},o={defaultToken:"",tokenPostfix:".css",ws:"[ \t\n\r\f]*",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.bracket"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@strings"},["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@selectorname"},["[\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.bracket",next:"@selectorbody"}]],selectorbody:[{include:"@comments"},["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],["}",{token:"delimiter.bracket",next:"@pop"}]],selectorname:[["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["(url-prefix)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],["(url)(\\()",["attribute.value",{token:"delimiter.parenthesis",next:"@urldeclaration"}]],{include:"@functioninvocation"},{include:"@numbers"},{include:"@name"},{include:"@strings"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","delimiter"],[",","delimiter"]],rulevalue:[{include:"@comments"},{include:"@strings"},{include:"@term"},["!important","keyword"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[/[^*/]+/,"comment"],[/./,"comment"]],name:[["@identifier","attribute.value"]],numbers:[["-?(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],keyframedeclaration:[["@identifier","attribute.value"],["{",{token:"delimiter.bracket",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.bracket",next:"@selectorbody"}],["}",{token:"delimiter.bracket",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"attribute.value",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"attribute.value",next:"@pop"}]],strings:[['~?"',{token:"string",next:"@stringenddoublequote"}],["~?'",{token:"string",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string",next:"@pop"}],[/[^\\"]+/,"string"],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string",next:"@pop"}],[/[^\\']+/,"string"],[".","string"]]}}},3878:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>h,language:()=>g});var n=i(6097),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))a.call(e,c)||c===i||o(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,i)=>(c(e,t,"default"),i&&c(i,t,"default")),d={};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/l(d,n);var u=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],h={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,comments:{blockComment:["\x3c!--","--\x3e"]},brackets:[["\x3c!--","--\x3e"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:'"',close:'"'},{open:"'",close:"'"},{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"}],onEnterRules:[{beforeText:new RegExp(`<(?!(?:${u.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>$/i,action:{indentAction:d.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${u.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:d.languages.IndentAction.Indent}}],folding:{markers:{start:new RegExp("^\\s*\x3c!--\\s*#region\\b.*--\x3e"),end:new RegExp("^\\s*\x3c!--\\s*#endregion\\b.*--\x3e")}}},g={defaultToken:"",tokenPostfix:".html",ignoreCase:!0,tokenizer:{root:[[/<!DOCTYPE/,"metatag","@doctype"],[/<!--/,"comment","@comment"],[/(<)((?:[\w\-]+:)?[\w\-]+)(\s*)(\/>)/,["delimiter","tag","","delimiter"]],[/(<)(script)/,["delimiter",{token:"tag",next:"@script"}]],[/(<)(style)/,["delimiter",{token:"tag",next:"@style"}]],[/(<)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/(<\/)((?:[\w\-]+:)?[\w\-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/</,"delimiter"],[/[^<]+/]],doctype:[[/[^>]+/,"metatag.content"],[/>/,"metatag","@pop"]],comment:[[/-->/,"comment","@pop"],[/[^-]+/,"comment.content"],[/./,"comment.content"]],otherTag:[[/\/?>/,"delimiter","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],scriptAfterType:[[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/"module"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.text/javascript"}],[/'module'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.text/javascript"}],[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/>/,{token:"delimiter",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]],style:[[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],styleAfterType:[[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/>/,{token:"delimiter",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w\-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]]}}},41134:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>o,language:()=>r});var n=i(96717),o=n.conf,r={defaultToken:"invalid",tokenPostfix:".js",keywords:["break","case","catch","class","continue","const","constructor","debugger","default","delete","do","else","export","extends","false","finally","for","from","function","get","if","import","in","instanceof","let","new","null","return","set","super","switch","symbol","this","throw","true","try","typeof","undefined","var","void","while","with","yield","async","await","of"],typeKeywords:[],operators:n.language.operators,symbols:n.language.symbols,escapes:n.language.escapes,digits:n.language.digits,octaldigits:n.language.octaldigits,binarydigits:n.language.binarydigits,hexdigits:n.language.hexdigits,regexpctl:n.language.regexpctl,regexpesc:n.language.regexpesc,tokenizer:n.language.tokenizer};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/},35593:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>n,language:()=>o});
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={wordPattern:/(#?-?\d*\.\d\w*%?)|([@#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},o={defaultToken:"",tokenPostfix:".less",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",identifierPlus:"-?-?([a-zA-Z:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-:.]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@nestedJSBegin"},["[ \\t\\r\\n]+",""],{include:"@comments"},{include:"@keyword"},{include:"@strings"},{include:"@numbers"},["[*_]?[a-zA-Z\\-\\s]+(?=:.*(;|(\\\\$)))","attribute.name","@attribute"],["url(\\-prefix)?\\(",{token:"tag",next:"@urldeclaration"}],["[{}()\\[\\]]","@brackets"],["[,:;]","delimiter"],["#@identifierPlus","tag.id"],["&","tag"],["\\.@identifierPlus(?=\\()","tag.class","@attribute"],["\\.@identifierPlus","tag.class"],["@identifierPlus","tag"],{include:"@operators"},["@(@identifier(?=[:,\\)]))","variable","@attribute"],["@(@identifier)","variable"],["@","key","@atRules"]],nestedJSBegin:[["``","delimiter.backtick"],["`",{token:"delimiter.backtick",next:"@nestedJSEnd",nextEmbedded:"text/javascript"}]],nestedJSEnd:[["`",{token:"delimiter.backtick",next:"@pop",nextEmbedded:"@pop"}]],operators:[["[<>=\\+\\-\\*\\/\\^\\|\\~]","operator"]],keyword:[["(@[\\s]*import|![\\s]*important|true|false|when|iscolor|isnumber|isstring|iskeyword|isurl|ispixel|ispercentage|isem|hue|saturation|lightness|alpha|lighten|darken|saturate|desaturate|fadein|fadeout|fade|spin|mix|round|ceil|floor|percentage)\\b","keyword"]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"tag",next:"@pop"}]],attribute:[{include:"@nestedJSBegin"},{include:"@comments"},{include:"@strings"},{include:"@numbers"},{include:"@keyword"},["[a-zA-Z\\-]+(?=\\()","attribute.value","@attribute"],[">","operator","@pop"],["@identifier","attribute.value"],{include:"@operators"},["@(@identifier)","variable"],["[)\\}]","@brackets","@pop"],["[{}()\\[\\]>]","@brackets"],["[;]","delimiter","@pop"],["[,=:]","delimiter"],["\\s",""],[".","attribute.value"]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"attribute.value.number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","attribute.value.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","attribute.value.unit","@pop"]],strings:[['~?"',{token:"string.delimiter",next:"@stringsEndDoubleQuote"}],["~?'",{token:"string.delimiter",next:"@stringsEndQuote"}]],stringsEndDoubleQuote:[['\\\\"',"string"],['"',{token:"string.delimiter",next:"@popall"}],[".","string"]],stringsEndQuote:[["\\\\'","string"],["'",{token:"string.delimiter",next:"@popall"}],[".","string"]],atRules:[{include:"@comments"},{include:"@strings"},["[()]","delimiter"],["[\\{;]","delimiter","@pop"],[".","key"]]}}},22892:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>n,language:()=>o});
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={comments:{lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]}],folding:{offSide:!0}},o={defaultToken:"",tokenPostfix:".pug",ignoreCase:!0,brackets:[{token:"delimiter.curly",open:"{",close:"}"},{token:"delimiter.array",open:"[",close:"]"},{token:"delimiter.parenthesis",open:"(",close:")"}],keywords:["append","block","case","default","doctype","each","else","extends","for","if","in","include","mixin","typeof","unless","var","when"],tags:["a","abbr","acronym","address","area","article","aside","audio","b","base","basefont","bdi","bdo","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","keygen","kbd","label","li","link","map","mark","menu","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","tracks","tt","u","ul","video","wbr"],symbols:/[\+\-\*\%\&\|\!\=\/\.\,\:]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/^(\s*)([a-zA-Z_-][\w-]*)/,{cases:{"$2@tags":{cases:{"@eos":["","tag"],"@default":["",{token:"tag",next:"@tag.$1"}]}},"$2@keywords":["",{token:"keyword.$2"}],"@default":["",""]}}],[/^(\s*)(#[a-zA-Z_-][\w-]*)/,{cases:{"@eos":["","tag.id"],"@default":["",{token:"tag.id",next:"@tag.$1"}]}}],[/^(\s*)(\.[a-zA-Z_-][\w-]*)/,{cases:{"@eos":["","tag.class"],"@default":["",{token:"tag.class",next:"@tag.$1"}]}}],[/^(\s*)(\|.*)$/,""],{include:"@whitespace"},[/[a-zA-Z_$][\w$]*/,{cases:{"@keywords":{token:"keyword.$0"},"@default":""}}],[/[{}()\[\]]/,"@brackets"],[/@symbols/,"delimiter"],[/\d+\.\d+([eE][\-+]?\d+)?/,"number.float"],[/\d+/,"number"],[/"/,"string",'@string."'],[/'/,"string","@string.'"]],tag:[[/(\.)(\s*$)/,[{token:"delimiter",next:"@blockText.$S2."},""]],[/\s+/,{token:"",next:"@simpleText"}],[/#[a-zA-Z_-][\w-]*/,{cases:{"@eos":{token:"tag.id",next:"@pop"},"@default":"tag.id"}}],[/\.[a-zA-Z_-][\w-]*/,{cases:{"@eos":{token:"tag.class",next:"@pop"},"@default":"tag.class"}}],[/\(/,{token:"delimiter.parenthesis",next:"@attributeList"}]],simpleText:[[/[^#]+$/,{token:"",next:"@popall"}],[/[^#]+/,{token:""}],[/(#{)([^}]*)(})/,{cases:{"@eos":["interpolation.delimiter","interpolation",{token:"interpolation.delimiter",next:"@popall"}],"@default":["interpolation.delimiter","interpolation","interpolation.delimiter"]}}],[/#$/,{token:"",next:"@popall"}],[/#/,""]],attributeList:[[/\s+/,""],[/(\w+)(\s*=\s*)("|')/,["attribute.name","delimiter",{token:"attribute.value",next:"@value.$3"}]],[/\w+/,"attribute.name"],[/,/,{cases:{"@eos":{token:"attribute.delimiter",next:"@popall"},"@default":"attribute.delimiter"}}],[/\)$/,{token:"delimiter.parenthesis",next:"@popall"}],[/\)/,{token:"delimiter.parenthesis",next:"@pop"}]],whitespace:[[/^(\s*)(\/\/.*)$/,{token:"comment",next:"@blockText.$1.comment"}],[/[ \t\r\n]+/,""],[/<!--/,{token:"comment",next:"@comment"}]],blockText:[[/^\s+.*$/,{cases:{"($S2\\s+.*$)":{token:"$S3"},"@default":{token:"@rematch",next:"@popall"}}}],[/./,{token:"@rematch",next:"@popall"}]],comment:[[/[^<\-]+/,"comment.content"],[/-->/,{token:"comment",next:"@pop"}],[/<!--/,"comment.content.invalid"],[/[<\-]/,"comment.content"]],string:[[/[^\\"'#]+/,{cases:{"@eos":{token:"string",next:"@popall"},"@default":"string"}}],[/@escapes/,{cases:{"@eos":{token:"string.escape",next:"@popall"},"@default":"string.escape"}}],[/\\./,{cases:{"@eos":{token:"string.escape.invalid",next:"@popall"},"@default":"string.escape.invalid"}}],[/(#{)([^}]*)(})/,["interpolation.delimiter","interpolation","interpolation.delimiter"]],[/#/,"string"],[/["']/,{cases:{"$#==$S2":{token:"string",next:"@pop"},"@default":{token:"string"}}}]],value:[[/[^\\"']+/,{cases:{"@eos":{token:"attribute.value",next:"@popall"},"@default":"attribute.value"}}],[/\\./,{cases:{"@eos":{token:"attribute.value",next:"@popall"},"@default":"attribute.value"}}],[/["']/,{cases:{"$#==$S2":{token:"attribute.value",next:"@pop"},"@default":{token:"attribute.value"}}}]]}}},90525:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>n,language:()=>o});
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
var n={wordPattern:/(#?-?\d*\.\d\w*%?)|([@$#!.:]?[\w-?]+%?)|[@#!.]/g,comments:{blockComment:["/*","*/"],lineComment:"//"},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string","comment"]},{open:"[",close:"]",notIn:["string","comment"]},{open:"(",close:")",notIn:["string","comment"]},{open:'"',close:'"',notIn:["string","comment"]},{open:"'",close:"'",notIn:["string","comment"]}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],folding:{markers:{start:new RegExp("^\\s*\\/\\*\\s*#region\\b\\s*(.*?)\\s*\\*\\/"),end:new RegExp("^\\s*\\/\\*\\s*#endregion\\b.*\\*\\/")}}},o={defaultToken:"",tokenPostfix:".scss",ws:"[ \t\n\r\f]*",identifier:"-?-?([a-zA-Z]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))([\\w\\-]|(\\\\(([0-9a-fA-F]{1,6}\\s?)|[^[0-9a-fA-F])))*",brackets:[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.bracket"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}],tokenizer:{root:[{include:"@selector"}],selector:[{include:"@comments"},{include:"@import"},{include:"@variabledeclaration"},{include:"@warndebug"},["[@](include)",{token:"keyword",next:"@includedeclaration"}],["[@](keyframes|-webkit-keyframes|-moz-keyframes|-o-keyframes)",{token:"keyword",next:"@keyframedeclaration"}],["[@](page|content|font-face|-moz-document)",{token:"keyword"}],["[@](charset|namespace)",{token:"keyword",next:"@declarationbody"}],["[@](function)",{token:"keyword",next:"@functiondeclaration"}],["[@](mixin)",{token:"keyword",next:"@mixindeclaration"}],["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@controlstatement"},{include:"@selectorname"},["[&\\*]","tag"],["[>\\+,]","delimiter"],["\\[",{token:"delimiter.bracket",next:"@selectorattribute"}],["{",{token:"delimiter.curly",next:"@selectorbody"}]],selectorbody:[["[*_]?@identifier@ws:(?=(\\s|\\d|[^{;}]*[;}]))","attribute.name","@rulevalue"],{include:"@selector"},["[@](extend)",{token:"keyword",next:"@extendbody"}],["[@](return)",{token:"keyword",next:"@declarationbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],selectorname:[["#{",{token:"meta",next:"@variableinterpolation"}],["(\\.|#(?=[^{])|%|(@identifier)|:)+","tag"]],selectorattribute:[{include:"@term"},["]",{token:"delimiter.bracket",next:"@pop"}]],term:[{include:"@comments"},["url(\\-prefix)?\\(",{token:"meta",next:"@urldeclaration"}],{include:"@functioninvocation"},{include:"@numbers"},{include:"@strings"},{include:"@variablereference"},["(and\\b|or\\b|not\\b)","operator"],{include:"@name"},["([<>=\\+\\-\\*\\/\\^\\|\\~,])","operator"],[",","delimiter"],["!default","literal"],["\\(",{token:"delimiter.parenthesis",next:"@parenthizedterm"}]],rulevalue:[{include:"@term"},["!important","literal"],[";","delimiter","@pop"],["{",{token:"delimiter.curly",switchTo:"@nestedproperty"}],["(?=})",{token:"",next:"@pop"}]],nestedproperty:[["[*_]?@identifier@ws:","attribute.name","@rulevalue"],{include:"@comments"},["}",{token:"delimiter.curly",next:"@pop"}]],warndebug:[["[@](warn|debug)",{token:"keyword",next:"@declarationbody"}]],import:[["[@](import)",{token:"keyword",next:"@declarationbody"}]],variabledeclaration:[["\\$@identifier@ws:","variable.decl","@declarationbody"]],urldeclaration:[{include:"@strings"},["[^)\r\n]+","string"],["\\)",{token:"meta",next:"@pop"}]],parenthizedterm:[{include:"@term"},["\\)",{token:"delimiter.parenthesis",next:"@pop"}]],declarationbody:[{include:"@term"},[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],extendbody:[{include:"@selectorname"},["!optional","literal"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}]],variablereference:[["\\$@identifier","variable.ref"],["\\.\\.\\.","operator"],["#{",{token:"meta",next:"@variableinterpolation"}]],variableinterpolation:[{include:"@variablereference"},["}",{token:"meta",next:"@pop"}]],comments:[["\\/\\*","comment","@comment"],["\\/\\/+.*","comment"]],comment:[["\\*\\/","comment","@pop"],[".","comment"]],name:[["@identifier","attribute.value"]],numbers:[["(\\d*\\.)?\\d+([eE][\\-+]?\\d+)?",{token:"number",next:"@units"}],["#[0-9a-fA-F_]+(?!\\w)","number.hex"]],units:[["(em|ex|ch|rem|fr|vmin|vmax|vw|vh|vm|cm|mm|in|px|pt|pc|deg|grad|rad|turn|s|ms|Hz|kHz|%)?","number","@pop"]],functiondeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["{",{token:"delimiter.curly",switchTo:"@functionbody"}]],mixindeclaration:[["@identifier@ws\\(",{token:"meta",next:"@parameterdeclaration"}],["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],parameterdeclaration:[["\\$@identifier@ws:","variable.decl"],["\\.\\.\\.","operator"],[",","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],includedeclaration:[{include:"@functioninvocation"},["@identifier","meta"],[";","delimiter","@pop"],["(?=})",{token:"",next:"@pop"}],["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],keyframedeclaration:[["@identifier","meta"],["{",{token:"delimiter.curly",switchTo:"@keyframebody"}]],keyframebody:[{include:"@term"},["{",{token:"delimiter.curly",next:"@selectorbody"}],["}",{token:"delimiter.curly",next:"@pop"}]],controlstatement:[["[@](if|else|for|while|each|media)",{token:"keyword.flow",next:"@controlstatementdeclaration"}]],controlstatementdeclaration:[["(in|from|through|if|to)\\b",{token:"keyword.flow"}],{include:"@term"},["{",{token:"delimiter.curly",switchTo:"@selectorbody"}]],functionbody:[["[@](return)",{token:"keyword"}],{include:"@variabledeclaration"},{include:"@term"},{include:"@controlstatement"},[";","delimiter"],["}",{token:"delimiter.curly",next:"@pop"}]],functioninvocation:[["@identifier\\(",{token:"meta",next:"@functionarguments"}]],functionarguments:[["\\$@identifier@ws:","attribute.name"],["[,]","delimiter"],{include:"@term"},["\\)",{token:"meta",next:"@pop"}]],strings:[['~?"',{token:"string.delimiter",next:"@stringenddoublequote"}],["~?'",{token:"string.delimiter",next:"@stringendquote"}]],stringenddoublequote:[["\\\\.","string"],['"',{token:"string.delimiter",next:"@pop"}],[".","string"]],stringendquote:[["\\\\.","string"],["'",{token:"string.delimiter",next:"@pop"}],[".","string"]]}}},96717:(e,t,i)=>{"use strict";i.r(t),i.d(t,{conf:()=>u,language:()=>h});var n=i(6097),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))a.call(e,c)||c===i||o(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,i)=>(c(e,t,"default"),i&&c(i,t,"default")),d={};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/l(d,n);var u={wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],onEnterRules:[{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,afterText:/^\s*\*\/$/,action:{indentAction:d.languages.IndentAction.IndentOutdent,appendText:" * "}},{beforeText:/^\s*\/\*\*(?!\/)([^\*]|\*(?!\/))*$/,action:{indentAction:d.languages.IndentAction.None,appendText:" * "}},{beforeText:/^(\t|(\ \ ))*\ \*(\ ([^\*]|\*(?!\/))*)?$/,action:{indentAction:d.languages.IndentAction.None,appendText:"* "}},{beforeText:/^(\t|(\ \ ))*\ \*\/\s*$/,action:{indentAction:d.languages.IndentAction.None,removeText:1}}],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"',notIn:["string"]},{open:"'",close:"'",notIn:["string","comment"]},{open:"`",close:"`",notIn:["string","comment"]},{open:"/**",close:" */",notIn:["string"]}],folding:{markers:{start:new RegExp("^\\s*//\\s*#?region\\b"),end:new RegExp("^\\s*//\\s*#?endregion\\b")}}},h={defaultToken:"invalid",tokenPostfix:".ts",keywords:["abstract","any","as","asserts","bigint","boolean","break","case","catch","class","continue","const","constructor","debugger","declare","default","delete","do","else","enum","export","extends","false","finally","for","from","function","get","if","implements","import","in","infer","instanceof","interface","is","keyof","let","module","namespace","never","new","null","number","object","out","package","private","protected","public","override","readonly","require","global","return","satisfies","set","static","string","super","switch","symbol","this","throw","true","try","type","typeof","undefined","unique","unknown","var","void","while","with","yield","async","await","of"],operators:["<=",">=","==","!=","===","!==","=>","+","-","**","*","/","%","++","--","<<","</",">>",">>>","&","|","^","!","~","&&","||","??","?",":","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=","@"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/\/(?=([^\\\/]|\\.)+\/([dgimsuy]*)(\s*)(\.|;|,|\)|\]|\}|$))/,{token:"regexp",bracket:"@open",next:"@regexp"}],[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/!(?=([^=]|$))/,"delimiter"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/0[xX](@hexdigits)n?/,"number.hex"],[/0[oO]?(@octaldigits)n?/,"number.octal"],[/0[bB](@binarydigits)n?/,"number.binary"],[/(@digits)n?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],regexp:[[/(\{)(\d+(?:,\d*)?)(\})/,["regexp.escape.control","regexp.escape.control","regexp.escape.control"]],[/(\[)(\^?)(?=(?:[^\]\\\/]|\\.)+)/,["regexp.escape.control",{token:"regexp.escape.control",next:"@regexrange"}]],[/(\()(\?:|\?=|\?!)/,["regexp.escape.control","regexp.escape.control"]],[/[()]/,"regexp.escape.control"],[/@regexpctl/,"regexp.escape.control"],[/[^\\\/]/,"regexp"],[/@regexpesc/,"regexp.escape"],[/\\\./,"regexp.invalid"],[/(\/)([dgimsuy]*)/,[{token:"regexp",bracket:"@close",next:"@pop"},"keyword.other"]]],regexrange:[[/-/,"regexp.escape.control"],[/\^/,"regexp.invalid"],[/@regexpesc/,"regexp.escape"],[/[^\]]/,"regexp"],[/\]/,{token:"regexp.escape.control",next:"@pop",bracket:"@close"}]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}}},84527:(e,t,i)=>{"use strict";i.d(t,{H:()=>f});var n=i(36248),o=i(11640),r=i(1401),s=i(94565),a=i(32064),c=i(72065),l=i(59422),d=i(97781),u=i(31106),h=i(4256),g=i(71922),p=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},m=function(e,t){return function(i,n){t(i,n,e)}};let f=class extends r.Gm{constructor(e,t,i,n,o,r,s,a,c,l,d,u,h){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),i,o,r,s,a,c,l,d,u,h),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){n.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};f=p([m(4,c.TG),m(5,o.$),m(6,s.H),m(7,a.i6),m(8,d.XE),m(9,l.lT),m(10,u.F),m(11,h.c_),m(12,g.p)],f)},90236:(e,t,i)=>{"use strict";var n=i(85152),o=i(59365),r=i(22258),s=(i(64321),i(16830)),a=i(3860),c=i(29102),l=i(63580),d=i(32064),u=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=function(e,t){return function(i,n){t(i,n,e)}},g=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const p=new d.uy("selectionAnchorSet",!1);let m=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=p.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations((t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(a.Y.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:(new o.W5).appendText((0,l.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})})),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,n.Z9)((0,l.NC)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(a.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations((t=>{t.removeDecoration(e),this.decorationId=void 0})),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};m.ID="editor.contrib.selectionAnchorController",m=u([h(1,d.i6)],m);class f extends s.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,l.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,r.gx)(2089,2080),weight:100}})}run(e,t){var i;return g(this,void 0,void 0,(function*(){null===(i=m.get(t))||void 0===i||i.setSelectionAnchor()}))}}class v extends s.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,l.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:p})}run(e,t){var i;return g(this,void 0,void 0,(function*(){null===(i=m.get(t))||void 0===i||i.goToSelectionAnchor()}))}}class _ extends s.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,l.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:p,kbOpts:{kbExpr:c.u.editorTextFocus,primary:(0,r.gx)(2089,2089),weight:100}})}run(e,t){var i;return g(this,void 0,void 0,(function*(){null===(i=m.get(t))||void 0===i||i.selectFromAnchorToCursor()}))}}class b extends s.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,l.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:p,kbOpts:{kbExpr:c.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var i;return g(this,void 0,void 0,(function*(){null===(i=m.get(t))||void 0===i||i.cancelSelectionAnchor()}))}}(0,s._K)(m.ID,m,4),(0,s.Qr)(f),(0,s.Qr)(v),(0,s.Qr)(_),(0,s.Qr)(b)},71387:(e,t,i)=>{"use strict";var n=i(15393),o=i(9917),r=(i(57440),i(16830)),s=i(50187),a=i(24314),c=i(3860),l=i(29102),d=i(84973),u=i(51722),h=i(63580),g=i(84144),p=i(73910),m=i(97781);const f=(0,p.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},h.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class v extends r.R6{constructor(){super({id:"editor.action.jumpToBracket",label:h.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3165,weight:100}})}run(e,t){var i;null===(i=w.get(t))||void 0===i||i.jumpToBracket()}}class _ extends r.R6{constructor(){super({id:"editor.action.selectToBracket",label:h.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,i){var n;let o=!0;i&&!1===i.selectBrackets&&(o=!1),null===(n=w.get(t))||void 0===n||n.selectToBracket(o)}}class b extends r.R6{constructor(){super({id:"editor.action.removeBrackets",label:h.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:l.u.editorTextFocus,primary:2561,weight:100}})}run(e,t){var i;null===(i=w.get(t))||void 0===i||i.removeBrackets(this.id)}}class y{constructor(e,t,i){this.position=e,this.brackets=t,this.options=i}}class w extends o.JT{static get(e){return e.getContribution(w.ID)}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new n.pY((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(69),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(69)&&(this._matchBrackets=this._editor.getOption(69),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())}))),this._register(e.onDidBlurEditorWidget((()=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidFocusEditorWidget((()=>{this._updateBracketsSoon.schedule()})))}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const i=t.getStartPosition(),n=e.bracketPairs.matchBracket(i);let o=null;if(n)n[0].containsPosition(i)&&!n[1].containsPosition(i)?o=n[1].getStartPosition():n[1].containsPosition(i)&&(o=n[0].getStartPosition());else{const t=e.bracketPairs.findEnclosingBrackets(i);if(t)o=t[1].getStartPosition();else{const t=e.bracketPairs.findNextBracket(i);t&&t.range&&(o=t.range.getStartPosition())}}return o?new c.Y(o.lineNumber,o.column,o.lineNumber,o.column):new c.Y(i.lineNumber,i.column,i.lineNumber,i.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=[];this._editor.getSelections().forEach((n=>{const o=n.getStartPosition();let r=t.bracketPairs.matchBracket(o);if(!r&&(r=t.bracketPairs.findEnclosingBrackets(o),!r)){const e=t.bracketPairs.findNextBracket(o);e&&e.range&&(r=t.bracketPairs.matchBracket(e.range.getStartPosition()))}let s=null,l=null;if(r){r.sort(a.e.compareRangesUsingStarts);const[t,i]=r;if(s=e?t.getStartPosition():t.getEndPosition(),l=e?i.getEndPosition():i.getStartPosition(),i.containsPosition(o)){const e=s;s=l,l=e}}s&&l&&i.push(new c.Y(s.lineNumber,s.column,l.lineNumber,l.column))})),i.length>0&&(this._editor.setSelections(i),this._editor.revealRange(i[0]))}removeBrackets(e){if(!this._editor.hasModel())return;const t=this._editor.getModel();this._editor.getSelections().forEach((i=>{const n=i.getPosition();let o=t.bracketPairs.matchBracket(n);o||(o=t.bracketPairs.findEnclosingBrackets(n)),o&&(this._editor.pushUndoStop(),this._editor.executeEdits(e,[{range:o[0],text:""},{range:o[1],text:""}]),this._editor.pushUndoStop())}))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const e=[];let t=0;for(const i of this._lastBracketsData){const n=i.brackets;n&&(e[t++]={range:n[0],options:i.options},e[t++]={range:n[1],options:i.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),i=t.getVersionId();let n=[];this._lastVersionId===i&&(n=this._lastBracketsData);const o=[];let r=0;for(let s=0,u=e.length;s<u;s++){const t=e[s];t.isEmpty()&&(o[r++]=t.getStartPosition())}o.length>1&&o.sort(s.L.compare);const a=[];let c=0,l=0;const d=n.length;for(let s=0,u=o.length;s<u;s++){const e=o[s];while(l<d&&n[l].position.isBefore(e))l++;if(l<d&&n[l].position.equals(e))a[c++]=n[l];else{let i=t.bracketPairs.matchBracket(e,20),n=w._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;i||"always"!==this._matchBrackets||(i=t.bracketPairs.findEnclosingBrackets(e,20),n=w._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),a[c++]=new y(e,i,n)}}this._lastBracketsData=a,this._lastVersionId=i}}w.ID="editor.contrib.bracketMatchingController",w._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=u.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,m.EN)(f),position:d.sh.Center}}),w._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=u.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,r._K)(w.ID,w,1),(0,r.Qr)(_),(0,r.Qr)(v),(0,r.Qr)(b),g.BH.appendMenuItem(g.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:h.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},24336:(e,t,i)=>{"use strict";var n=i(16830),o=i(29102),r=i(24314),s=i(3860);class a{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const i=this._selection.startLineNumber,n=this._selection.startColumn,o=this._selection.endColumn;if((!this._isMovingLeft||1!==n)&&(this._isMovingLeft||o!==e.getLineMaxColumn(i)))if(this._isMovingLeft){const s=new r.e(i,n-1,i,n),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r.e(i,o,i,o),a)}else{const s=new r.e(i,o,i,o+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new r.e(i,n,i,n),a)}}computeCursorState(e,t){return this._isMovingLeft?new s.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new s.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var c=i(63580);class l extends n.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const i=[],n=t.getSelections();for(const o of n)i.push(new a(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}}class d extends l{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:c.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:o.u.writable})}}class u extends l{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:c.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:o.u.writable})}}(0,n.Qr)(d),(0,n.Qr)(u)},72102:(e,t,i)=>{"use strict";var n=i(16830),o=i(61329),r=i(10839),s=i(24314),a=i(29102),c=i(63580);class l extends n.R6{constructor(){super({id:"editor.action.transposeLetters",label:c.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a.u.writable,kbOpts:{kbExpr:a.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=[],a=t.getSelections();for(const c of a){if(!c.isEmpty())continue;const e=c.startLineNumber,t=c.startColumn,a=i.getLineMaxColumn(e);if(1===e&&(1===t||2===t&&2===a))continue;const l=t===a?c.getPosition():r.o.rightPosition(i,c.getPosition().lineNumber,c.getPosition().column),d=r.o.leftPosition(i,l),u=r.o.leftPosition(i,d),h=i.getValueInRange(s.e.fromPositions(u,d)),g=i.getValueInRange(s.e.fromPositions(d,l)),p=s.e.fromPositions(u,l);n.push(new o.T4(p,g+h))}n.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop())}}(0,n.Qr)(l)},55833:(e,t,i)=>{"use strict";var n=i(16268),o=i(1432),r=i(35715),s=i(16830),a=i(11640),c=i(29102),l=i(63580),d=i(84144),u=i(84972),h=i(32064),g=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const p="9_cutcopypaste",m=o.tY||document.queryCommandSupported("cut"),f=o.tY||document.queryCommandSupported("copy"),v="undefined"!==typeof navigator.clipboard&&!n.isFirefox||document.queryCommandSupported("paste");function _(e){return e.register(),e}const b=m?_(new s.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:o.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:d.eH.MenubarEditMenu,group:"2_ccp",title:l.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:d.eH.EditorContext,group:p,title:l.NC("actions.clipboard.cutLabel","Cut"),when:c.u.writable,order:1},{menuId:d.eH.CommandPalette,group:"",title:l.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:d.eH.SimpleEditorContext,group:p,title:l.NC("actions.clipboard.cutLabel","Cut"),when:c.u.writable,order:1}]})):void 0,y=f?_(new s.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:o.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:d.eH.MenubarEditMenu,group:"2_ccp",title:l.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:d.eH.EditorContext,group:p,title:l.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:d.eH.CommandPalette,group:"",title:l.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:d.eH.SimpleEditorContext,group:p,title:l.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;d.BH.appendMenuItem(d.eH.MenubarEditMenu,{submenu:d.eH.MenubarCopy,title:{value:l.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),d.BH.appendMenuItem(d.eH.EditorContext,{submenu:d.eH.EditorContextCopy,title:{value:l.NC("copy as","Copy As"),original:"Copy As"},group:p,order:3}),d.BH.appendMenuItem(d.eH.EditorContext,{submenu:d.eH.EditorContextShare,title:{value:l.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:h.Ao.and(h.Ao.notEquals("resourceScheme","output"),c.u.editorTextFocus)}),d.BH.appendMenuItem(d.eH.EditorTitleContext,{submenu:d.eH.EditorTitleContextShare,title:{value:l.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),d.BH.appendMenuItem(d.eH.ExplorerContext,{submenu:d.eH.ExplorerContextShare,title:{value:l.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const w=v?_(new s.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:o.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:d.eH.MenubarEditMenu,group:"2_ccp",title:l.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:d.eH.EditorContext,group:p,title:l.NC("actions.clipboard.pasteLabel","Paste"),when:c.u.writable,order:4},{menuId:d.eH.CommandPalette,group:"",title:l.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:d.eH.SimpleEditorContext,group:p,title:l.NC("actions.clipboard.pasteLabel","Paste"),when:c.u.writable,order:4}]})):void 0;class C extends s.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:l.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:c.u.textInputFocus,primary:0,weight:100}})}run(e,t){if(!t.hasModel())return;const i=t.getOption(35);!i&&t.getSelection().isEmpty()||(r.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),r.RA.forceCopyWithSyntaxHighlighting=!1)}}function S(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,i)=>{const n=e.get(a.$).getFocusedCodeEditor();if(n&&n.hasTextFocus()){const e=n.getOption(35),i=n.getSelection();return i&&i.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,i)=>(document.execCommand(t),!0))))}S(b,"cut"),S(y,"copy"),w&&(w.addImplementation(1e4,"code-editor",((e,t)=>{const i=e.get(a.$),n=e.get(u.p),s=i.getFocusedCodeEditor();if(s&&s.hasTextFocus()){const e=document.execCommand("paste");return!(!e&&o.$L)||(()=>g(void 0,void 0,void 0,(function*(){const e=yield n.readText();if(""!==e){const t=r.Nl.INSTANCE.get(e);let i=!1,n=null,o=null;t&&(i=s.getOption(35)&&!!t.isFromEmptySelection,n="undefined"!==typeof t.multicursorText?t.multicursorText:null,o=t.mode),s.trigger("keyboard","paste",{text:e,pasteOnNewLine:i,multicursorText:n,mode:o})}})))()}return!1})),w.addImplementation(0,"generic-dom",((e,t)=>(document.execCommand("paste"),!0)))),f&&(0,s.Qr)(C)},75396:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>x,LR:()=>T,MN:()=>k,RB:()=>w,TM:()=>L,UX:()=>A,aI:()=>D,cz:()=>C,pZ:()=>S,uH:()=>N});var n=i(9488),o=i(71050),r=i(17301),s=i(9917),a=i(70666),c=i(66007),l=i(24314),d=i(3860),u=i(71922),h=i(73733),g=i(14410),p=i(63580),m=i(94565),f=i(59422),v=i(90535),_=i(10829),b=i(87997),y=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const w="editor.action.codeAction",C="editor.action.quickFix",S="editor.action.autoFix",x="editor.action.refactor",k="editor.action.sourceAction",N="editor.action.organizeImports",L="editor.action.fixAll";class I extends s.JT{static codeActionsPreferredComparator(e,t){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:0}static codeActionsComparator({action:e},{action:t}){return(0,n.Of)(e.diagnostics)?(0,n.Of)(t.diagnostics)?I.codeActionsPreferredComparator(e,t):-1:(0,n.Of)(t.diagnostics)?1:I.codeActionsPreferredComparator(e,t)}constructor(e,t,i){super(),this.documentation=t,this._register(i),this.allActions=[...e].sort(I.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&b.yN.QuickFix.contains(new b.yN(e.kind))&&!!e.isPreferred))}}const R={actions:[],documentation:void 0};function D(e,t,i,o,a,c){var l;return y(this,void 0,void 0,(function*(){const d=o.filter||{},u={only:null===(l=d.include)||void 0===l?void 0:l.value,trigger:o.type},h=new g.YQ(t,c),p=M(e,t,d),m=new s.SL,f=p.map((e=>y(this,void 0,void 0,(function*(){try{a.report(e);const n=yield e.provideCodeActions(t,i,u,h.token);if(n&&m.add(n),h.token.isCancellationRequested)return R;const o=((null===n||void 0===n?void 0:n.actions)||[]).filter((e=>e&&(0,b.Yl)(d,e))),r=E(e,o,d.include);return{actions:o.map((t=>new b.bA(t,e))),documentation:r}}catch(n){if((0,r.n2)(n))throw n;return(0,r.Cp)(n),R}})))),v=e.onDidChange((()=>{const i=e.all(t);(0,n.fS)(i,p)||h.cancel()}));try{const i=yield Promise.all(f),r=i.map((e=>e.actions)).flat(),s=[...(0,n.kX)(i.map((e=>e.documentation))),...P(e,t,o,r)];return new I(r,s,m)}finally{v.dispose(),h.dispose()}}))}function M(e,t,i){return e.all(t).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>(0,b.EU)(i,new b.yN(e))))))}function*P(e,t,i,n){var o,r,s;if(t&&n.length)for(const a of e.all(t))a._getAdditionalMenuItems&&(yield*null===(o=a._getAdditionalMenuItems)||void 0===o?void 0:o.call(a,{trigger:i.type,only:null===(s=null===(r=i.filter)||void 0===r?void 0:r.include)||void 0===s?void 0:s.value},n.map((e=>e.action))))}function E(e,t,i){if(!e.documentation)return;const n=e.documentation.map((e=>({kind:new b.yN(e.kind),command:e.command})));if(i){let e;for(const t of n)t.kind.contains(i)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null===e||void 0===e?void 0:e.command}for(const o of t)if(o.kind)for(const e of n)if(e.kind.contains(new b.yN(o.kind)))return e.command}var A;function T(e,t,i,n,r=o.T.None){var s;return y(this,void 0,void 0,(function*(){const o=e.get(c.vu),a=e.get(m.H),l=e.get(_.b),d=e.get(f.lT);if(l.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred,reason:i}),yield t.resolve(r),!r.isCancellationRequested){if(null===(s=t.action.edit)||void 0===s?void 0:s.edits.length){const e=yield o.apply(t.action.edit,{editor:null===n||void 0===n?void 0:n.editor,label:t.action.title,quotableLabel:t.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:i!==A.OnSave,showPreview:null===n||void 0===n?void 0:n.preview});if(!e.isApplied)return}if(t.action.command)try{yield a.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(u){const e=O(u);d.error("string"===typeof e?e:p.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}}))}function O(e){return"string"===typeof e?e:e instanceof Error&&"string"===typeof e.message?e.message:void 0}(function(e){e["OnSave"]="onSave",e["FromProblemsView"]="fromProblemsView",e["FromCodeActions"]="fromCodeActions"})(A||(A={})),m.P.registerCommand("_executeCodeActionProvider",(function(e,t,i,n,s){return y(this,void 0,void 0,(function*(){if(!(t instanceof a.o))throw(0,r.b1)();const{codeActionProvider:c}=e.get(u.p),g=e.get(h.q).getModel(t);if(!g)throw(0,r.b1)();const p=d.Y.isISelection(i)?d.Y.liftSelection(i):l.e.isIRange(i)?g.validateRange(i):void 0;if(!p)throw(0,r.b1)();const m="string"===typeof n?new b.yN(n):void 0,f=yield D(c,g,p,{type:1,triggerAction:b.aQ.Default,filter:{includeSourceActions:!0,include:m}},v.Ex.None,o.T.None),_=[],y=Math.min(f.validActions.length,"number"===typeof s?s:0);for(let e=0;e<y;e++)_.push(f.validActions[e].resolve(o.T.None));try{return yield Promise.all(_),f.validActions.map((e=>e.action))}finally{setTimeout((()=>f.dispose()),100)}}))}))},86687:(e,t,i)=>{"use strict";var n=i(16830),o=i(800),r=i(97295),s=i(29102),a=i(75396),c=i(63580),l=i(32064),d=i(87997),u=i(58197),h=i(17016);function g(e){return l.Ao.regex(h.fj.keys()[0],new RegExp("(\\s|^)"+(0,r.ec)(e.value)+"\\b"))}const p={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:c.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:c.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[c.NC("args.schema.apply.first","Always apply the first returned code action."),c.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),c.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:c.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function m(e,t,i,n,o=d.aQ.Default){if(e.hasModel()){const r=u.G.get(e);null===r||void 0===r||r.manualTriggerAtCurrentPosition(t,o,i,n)}}class f extends n.R6{constructor(){super({id:a.cz,label:c.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:l.Ao.and(s.u.writable,s.u.hasCodeActionsProvider),kbOpts:{kbExpr:s.u.textInputFocus,primary:2137,weight:100}})}run(e,t){return m(t,c.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,d.aQ.QuickFix)}}class v extends n._l{constructor(){super({id:a.RB,precondition:l.Ao.and(s.u.writable,s.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:p}]}})}runEditorCommand(e,t,i){const n=d.wZ.fromUser(i,{kind:d.yN.Empty,apply:"ifSingle"});return m(t,"string"===typeof(null===i||void 0===i?void 0:i.kind)?n.preferred?c.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",i.kind):c.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",i.kind):n.preferred?c.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):c.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:n.kind,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply)}}class _ extends n.R6{constructor(){super({id:a.Bb,label:c.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:l.Ao.and(s.u.writable,s.u.hasCodeActionsProvider),kbOpts:{kbExpr:s.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:l.Ao.and(s.u.writable,g(d.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:p}]}})}run(e,t,i){const n=d.wZ.fromUser(i,{kind:d.yN.Refactor,apply:"never"});return m(t,"string"===typeof(null===i||void 0===i?void 0:i.kind)?n.preferred?c.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",i.kind):c.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",i.kind):n.preferred?c.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):c.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:d.yN.Refactor.contains(n.kind)?n.kind:d.yN.None,onlyIncludePreferredActions:n.preferred},n.apply,d.aQ.Refactor)}}class b extends n.R6{constructor(){super({id:a.MN,label:c.NC("source.label","Source Action..."),alias:"Source Action...",precondition:l.Ao.and(s.u.writable,s.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:l.Ao.and(s.u.writable,g(d.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:p}]}})}run(e,t,i){const n=d.wZ.fromUser(i,{kind:d.yN.Source,apply:"never"});return m(t,"string"===typeof(null===i||void 0===i?void 0:i.kind)?n.preferred?c.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",i.kind):c.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",i.kind):n.preferred?c.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):c.NC("editor.action.source.noneMessage","No source actions available"),{include:d.yN.Source.contains(n.kind)?n.kind:d.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:n.preferred},n.apply,d.aQ.SourceAction)}}class y extends n.R6{constructor(){super({id:a.uH,label:c.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:l.Ao.and(s.u.writable,g(d.yN.SourceOrganizeImports)),kbOpts:{kbExpr:s.u.textInputFocus,primary:1581,weight:100}})}run(e,t){return m(t,c.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:d.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",d.aQ.OrganizeImports)}}class w extends n.R6{constructor(){super({id:a.TM,label:c.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:l.Ao.and(s.u.writable,g(d.yN.SourceFixAll))})}run(e,t){return m(t,c.NC("fixAll.noneMessage","No fix all action available"),{include:d.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",d.aQ.FixAll)}}class C extends n.R6{constructor(){super({id:a.pZ,label:c.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:l.Ao.and(s.u.writable,g(d.yN.QuickFix)),kbOpts:{kbExpr:s.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(e,t){return m(t,c.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:d.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",d.aQ.AutoFix)}}var S=i(86490),x=i(23193),k=i(89872);(0,n._K)(u.G.ID,u.G,3),(0,n._K)(S.f.ID,S.f,4),(0,n.Qr)(f),(0,n.Qr)(_),(0,n.Qr)(b),(0,n.Qr)(y),(0,n.Qr)(C),(0,n.Qr)(w),(0,n.fK)(new v),k.B.as(x.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},o.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:c.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}))},58197:(e,t,i)=>{"use strict";i.d(t,{G:()=>ue});var n=i(79579),o=i(9917),r=i(71922),s=i(75396),a=i(65321),c=i(17301),l=i(50187),d=i(87997),u=i(91847),h=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},g=function(e,t){return function(i,n){t(i,n,e)}};let p=class e{constructor(e){this.keybindingService=e}getResolver(){const t=new n.o((()=>this.keybindingService.getKeybindings().filter((t=>e.codeActionCommands.indexOf(t.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return e.command===s.uH?t={kind:d.yN.SourceOrganizeImports.value}:e.command===s.TM&&(t={kind:d.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},d.wZ.fromUser(t,{kind:d.yN.None,apply:"never"}))}))));return e=>{if(e.kind){const i=this.bestKeybindingForCodeAction(e,t.value);return null===i||void 0===i?void 0:i.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const i=new d.yN(e.kind);return t.filter((e=>e.kind.contains(i))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}};p.codeActionCommands=[s.Bb,s.RB,s.MN,s.uH,s.TM],p=h([g(0,u.d)],p);i(28609);var m=i(73046),f=(i(71713),i(63580));const v=Object.freeze({kind:d.yN.Empty,title:(0,f.NC)("codeAction.widget.id.more","More Actions...")}),_=Object.freeze([{kind:d.yN.QuickFix,title:(0,f.NC)("codeAction.widget.id.quickfix","Quick Fix...")},{kind:d.yN.RefactorExtract,title:(0,f.NC)("codeAction.widget.id.extract","Extract..."),icon:m.l.wrench},{kind:d.yN.RefactorInline,title:(0,f.NC)("codeAction.widget.id.inline","Inline..."),icon:m.l.wrench},{kind:d.yN.RefactorRewrite,title:(0,f.NC)("codeAction.widget.id.convert","Rewrite..."),icon:m.l.wrench},{kind:d.yN.RefactorMove,title:(0,f.NC)("codeAction.widget.id.move","Move..."),icon:m.l.wrench},{kind:d.yN.SurroundWith,title:(0,f.NC)("codeAction.widget.id.surround","Surround With..."),icon:m.l.symbolSnippet},{kind:d.yN.Source,title:(0,f.NC)("codeAction.widget.id.source","Source Action..."),icon:m.l.symbolFile},v]);function b(e,t,i){if(!t)return e.map((e=>({kind:"action",item:e,group:v,disabled:!!e.action.disabled,label:e.action.disabled||e.action.title})));const n=_.map((e=>({group:e,actions:[]})));for(const r of e){const e=r.action.kind?new d.yN(r.action.kind):d.yN.None;for(const t of n)if(t.group.kind.contains(e)){t.actions.push(r);break}}const o=[];for(const r of n)if(r.actions.length){o.push({kind:"header",group:r.group});for(const e of r.actions)o.push({kind:"action",item:e,group:r.group,label:e.action.title,disabled:!!e.action.disabled,keybinding:i(e.action)})}return o}var y=i(27753),w=i(90317),C=(i(23751),i(55496)),S=i(69047),x=i(1432),k=i(25670),N=i(5606),L=i(86253),I=i(73910),R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},D=function(e,t){return function(i,n){t(i,n,e)}};const M="acceptSelectedCodeAction",P="previewSelectedCodeAction";class E{get templateId(){return"header"}renderTemplate(e){e.classList.add("group-header");const t=document.createElement("span");return e.append(t),{container:e,text:t}}renderElement(e,t,i){var n,o;i.text.textContent=null!==(o=null===(n=e.group)||void 0===n?void 0:n.title)&&void 0!==o?o:""}disposeTemplate(e){}}let A=class{get templateId(){return"action"}constructor(e,t){this._supportsPreview=e,this._keybindingService=t}renderTemplate(e){e.classList.add(this.templateId);const t=document.createElement("div");t.className="icon",e.append(t);const i=document.createElement("span");i.className="title",e.append(i);const n=new C.e(e,x.OS);return{container:e,icon:t,text:i,keybinding:n}}renderElement(e,t,i){var n,o,r;if((null===(n=e.group)||void 0===n?void 0:n.icon)?(i.icon.className=k.k.asClassName(e.group.icon),e.group.icon.color&&(i.icon.style.color=(0,I.n_1)(e.group.icon.color.id))):(i.icon.className=k.k.asClassName(m.l.lightBulb),i.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!e.item||!e.label)return;i.text.textContent=W(e.label),i.keybinding.set(e.keybinding),a.iJ(!!e.keybinding,i.keybinding.element);const s=null===(o=this._keybindingService.lookupKeybinding(M))||void 0===o?void 0:o.getLabel(),c=null===(r=this._keybindingService.lookupKeybinding(P))||void 0===r?void 0:r.getLabel();i.container.classList.toggle("option-disabled",e.disabled),e.disabled?i.container.title=e.label:s&&c?this._supportsPreview?i.container.title=(0,f.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",s,c):i.container.title=(0,f.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",s):i.container.title=""}disposeTemplate(e){}};A=R([D(1,u.d)],A);class T extends UIEvent{constructor(){super("acceptSelectedAction")}}class O extends UIEvent{constructor(){super("previewSelectedAction")}}let F=class extends o.JT{constructor(e,t,i,n,o,r){super(),this._delegate=n,this._contextViewService=o,this._keybindingService=r,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const s={getHeight:e=>"header"===e.kind?this._headerLineHeight:this._actionLineHeight,getTemplateId:e=>e.kind};this._list=this._register(new S.aV(e,this.domNode,s,[new A(t,this._keybindingService),new E],{keyboardSupport:!1,accessibilityProvider:{getAriaLabel:e=>{if("action"===e.kind){let t=e.label?W(null===e||void 0===e?void 0:e.label):"";return e.disabled&&(t=(0,f.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",t,e.disabled)),t}return null},getWidgetAriaLabel:()=>(0,f.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:e=>"action"===e.kind?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(L.O2),this._register(this._list.onMouseClick((e=>this.onListClick(e)))),this._register(this._list.onMouseOver((e=>this.onListHover(e)))),this._register(this._list.onDidChangeFocus((()=>this._list.domFocus()))),this._register(this._list.onDidChangeSelection((e=>this.onListSelection(e)))),this._allMenuItems=i,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(e){return!e.disabled&&"action"===e.kind}hide(e){this._delegate.onHide(e),this._contextViewService.hideContextView()}layout(e){const t=this._allMenuItems.filter((e=>"header"===e.kind)).length,i=this._allMenuItems.length*this._actionLineHeight,n=i+t*this._headerLineHeight-t*this._actionLineHeight;this._list.layout(n);const o=this._allMenuItems.map(((e,t)=>{const i=document.getElementById(this._list.getElementID(t));if(i){i.style.width="auto";const e=i.getBoundingClientRect().width;return i.style.width="",e}return 0})),r=Math.max(...o,e),s=.7,a=Math.min(n,document.body.clientHeight*s);return this._list.layout(a,r),this.domNode.style.height=`${a}px`,this._list.domFocus(),r}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(e){const t=this._list.getFocus();if(0===t.length)return;const i=t[0],n=this._list.element(i);if(!this.focusCondition(n))return;const o=e?new O:new T;this._list.setSelection([i],o)}onListSelection(e){if(!e.elements.length)return;const t=e.elements[0];t.item&&this.focusCondition(t)?this._delegate.onSelect(t.item,e.browserEvent instanceof O):this._list.setSelection([])}onListHover(e){this._list.setFocus("number"===typeof e.index?[e.index]:[])}onListClick(e){e.element&&this.focusCondition(e.element)&&this._list.setFocus([])}};function W(e){return e.replace(/\r\n|\r|\n/g," ")}F=R([D(4,N.u),D(5,u.d)],F);var B=i(84144),H=i(32064),V=i(65026),z=i(72065),U=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},j=function(e,t){return function(i,n){t(i,n,e)}};const $={Visible:new H.uy("codeActionMenuVisible",!1,(0,f.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},K=(0,z.yh)("actionWidgetService");let q=class extends o.JT{get isVisible(){return $.Visible.getValue(this._contextKeyService)||!1}constructor(e,t,i){super(),this._contextViewService=e,this._contextKeyService=t,this._instantiationService=i,this._list=this._register(new o.XK)}show(e,t,i,n,o,r,s){const a=$.Visible.bindTo(this._contextKeyService),c=this._instantiationService.createInstance(F,e,t,i,n);this._contextViewService.showContextView({getAnchor:()=>o,render:e=>(a.set(!0),this._renderWidget(e,c,null!==s&&void 0!==s?s:[])),onHide:e=>{a.reset(),this._onWidgetClosed(e)}},r,!1)}acceptSelected(e){var t;null===(t=this._list.value)||void 0===t||t.acceptSelected(e)}focusPrevious(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusPrevious()}focusNext(){var e,t;null===(t=null===(e=this._list)||void 0===e?void 0:e.value)||void 0===t||t.focusNext()}hide(){var e;null===(e=this._list.value)||void 0===e||e.hide(),this._list.clear()}_renderWidget(e,t,i){var n;const r=document.createElement("div");if(r.classList.add("action-widget"),e.appendChild(r),this._list.value=t,!this._list.value)throw new Error("List has no value");r.appendChild(this._list.value.domNode);const s=new o.SL,c=document.createElement("div"),l=e.appendChild(c);l.classList.add("context-view-block"),s.add(a.nm(l,a.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const d=document.createElement("div"),u=e.appendChild(d);u.classList.add("context-view-pointerBlock"),s.add(a.nm(u,a.tw.POINTER_MOVE,(()=>u.remove()))),s.add(a.nm(u,a.tw.MOUSE_DOWN,(()=>u.remove())));let h=0;if(i.length){const e=this._createActionBar(".action-widget-action-bar",i);e&&(r.appendChild(e.getContainer().parentElement),s.add(e),h=e.getContainer().offsetWidth)}const g=null===(n=this._list.value)||void 0===n?void 0:n.layout(h);r.style.width=`${g}px`;const p=s.add(a.go(e));return s.add(p.onDidBlur((()=>this.hide()))),s}_createActionBar(e,t){if(!t.length)return;const i=a.$(e),n=new w.o(i);return n.push(t,{icon:!1,label:!0}),n}_onWidgetClosed(e){var t;null===(t=this._list.value)||void 0===t||t.hide(e)}};q=U([j(0,N.u),j(1,H.i6),j(2,z.TG)],q),(0,V.z)(K,q,1);const G=1100;(0,B.r1)(class extends B.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,f.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:$.Visible,keybinding:{weight:G,primary:9,secondary:[1033]}})}run(e){e.get(K).hide()}}),(0,B.r1)(class extends B.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,f.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:$.Visible,keybinding:{weight:G,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(e){const t=e.get(K);t instanceof q&&t.focusPrevious()}}),(0,B.r1)(class extends B.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,f.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:$.Visible,keybinding:{weight:G,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(e){const t=e.get(K);t instanceof q&&t.focusNext()}}),(0,B.r1)(class extends B.Ke{constructor(){super({id:M,title:{value:(0,f.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:$.Visible,keybinding:{weight:G,primary:3,secondary:[2137]}})}run(e){const t=e.get(K);t instanceof q&&t.acceptSelected()}}),(0,B.r1)(class extends B.Ke{constructor(){super({id:P,title:{value:(0,f.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:$.Visible,keybinding:{weight:G,primary:2051}})}run(e){const t=e.get(K);t instanceof q&&t.acceptSelected(!0)}});var Q,Z=i(94565),Y=i(33108),J=i(86490),X=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ee=function(e,t){return function(i,n){t(i,n,e)}},te=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ie=function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,i):o?o.value=i:t.set(e,i),i},ne=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)};let oe=class extends o.JT{constructor(e,t,i,r,s,a){super(),this._editor=e,this.delegate=t,this._configurationService=r,this._actionWidgetService=s,this._commandService=a,this._activeCodeActions=this._register(new o.XK),Q.set(this,!1),this._showDisabled=!1,this._lightBulbWidget=new n.o((()=>{const e=this._editor.getContribution(J.f.ID);return e&&this._register(e.onClick((e=>this.showCodeActionList(e.actions,e,{includeDisabledActions:!1,fromLightbulb:!0})))),e})),this._resolver=i.createInstance(p),this._register(this._editor.onDidLayoutChange((()=>this._actionWidgetService.hide())))}dispose(){ie(this,Q,!0,"f"),super.dispose()}update(e){var t,i,n,o,r,s,a;return te(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let l;try{l=yield e.actions}catch(d){return void(0,c.dL)(d)}if(!ne(this,Q,"f"))if(null===(i=this._lightBulbWidget.value)||void 0===i||i.update(l,e.trigger,e.position),1===e.trigger.type){if(null===(n=e.trigger.filter)||void 0===n?void 0:n.include){const t=this.tryGetValidActionToApply(e.trigger,l);if(t){try{null===(o=this._lightBulbWidget.value)||void 0===o||o.hide(),yield this.delegate.applyCodeAction(t,!1,!1)}finally{l.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,l);if(t&&t.action.disabled)return null===(r=y.O.get(this._editor))||void 0===r||r.showMessage(t.action.disabled,e.trigger.context.position),void l.dispose()}}const t=!!(null===(s=e.trigger.filter)||void 0===s?void 0:s.include);if(e.trigger.context&&(!l.allActions.length||!t&&!l.validActions.length))return null===(a=y.O.get(this._editor))||void 0===a||a.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=l,void l.dispose();this._activeCodeActions.value=l,this.showCodeActionList(l,this.toCoords(e.position),{includeDisabledActions:t,fromLightbulb:!1})}else this._actionWidgetService.isVisible?l.dispose():this._activeCodeActions.value=l}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,i){return te(this,void 0,void 0,(function*(){const n=this._editor.getDomNode();if(!n)return;const o=i.includeDisabledActions&&(this._showDisabled||0===e.validActions.length)?e.allActions:e.validActions;if(!o.length)return;const r=l.L.isIPosition(t)?this.toCoords(t):t,s={onSelect:(e,t)=>te(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0,!!t),this._actionWidgetService.hide()})),onHide:()=>{var e;null===(e=this._editor)||void 0===e||e.focus()}};this._actionWidgetService.show("codeActionWidget",!0,b(o,this._shouldShowHeaders(),this._resolver.getResolver()),s,r,n,this._getActionBarActions(e,t,i))}))}toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),i=(0,a.i)(this._editor.getDomNode()),n=i.left+t.left,o=i.top+t.top+t.height;return{x:n,y:o}}_shouldShowHeaders(){var e;const t=null===(e=this._editor)||void 0===e?void 0:e.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:null===t||void 0===t?void 0:t.uri})}_getActionBarActions(e,t,i){if(i.fromLightbulb)return[];const n=e.documentation.map((e=>{var t;return{id:e.id,label:e.title,tooltip:null!==(t=e.tooltip)&&void 0!==t?t:"",class:void 0,enabled:!0,run:()=>{var t;return this._commandService.executeCommand(e.id,...null!==(t=e.arguments)&&void 0!==t?t:[])}}}));return i.includeDisabledActions&&e.validActions.length>0&&e.allActions.length!==e.validActions.length&&n.push(this._showDisabled?{id:"hideMoreActions",label:(0,f.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(e,t,i))}:{id:"showMoreActions",label:(0,f.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(e,t,i))}),n}};Q=new WeakMap,oe=X([ee(2,z.TG),ee(3,Y.Ui),ee(4,K),ee(5,Z.H)],oe);var re=i(98674),se=i(90535),ae=i(17016),ce=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},le=function(e,t){return function(i,n){t(i,n,e)}},de=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let ue=class e extends o.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,o,r,s){super(),this._instantiationService=r,this._editor=e,this._model=this._register(new ae.Jt(this._editor,s.codeActionProvider,t,i,o)),this._register(this._model.onDidChangeState((e=>this._ui.value.update(e)))),this._ui=new n.o((()=>this._register(r.createInstance(oe,e,{applyCodeAction:(e,t,i)=>de(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e,i)}finally{t&&this._trigger({type:2,triggerAction:d.aQ.QuickFix,filter:{}})}}))}))))}showCodeActions(e,t,i){return this._ui.value.showCodeActionList(t,i,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,i,n){var o;if(!this._editor.hasModel())return;null===(o=y.O.get(this._editor))||void 0===o||o.closeMessage();const r=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:i,autoApply:n,context:{notAvailableMessage:e,position:r}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t){return this._instantiationService.invokeFunction(s.LR,e,s.UX.FromCodeActions,{preview:t,editor:this._editor})}};ue.ID="editor.contrib.codeActionController",ue=ce([le(1,re.lT),le(2,H.i6),le(3,se.ek),le(4,z.TG),le(5,r.p)],ue)},17016:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>b,fj:()=>m});var n,o=i(15393),r=i(17301),s=i(4669),a=i(9917),c=i(95935),l=i(32064),d=i(90535),u=i(87997),h=i(75396),g=function(e,t,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(e):n?n.value:t.get(e)},p=function(e,t,i,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,i):o?o.value=i:t.set(e,i),i};const m=new l.uy("supportedCodeAction","");class f extends a.JT{constructor(e,t,i,n=250){super(),this._editor=e,this._markerService=t,this._signalChange=i,this._delay=n,this._autoTriggerTimer=this._register(new o._F),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._tryAutoTrigger())))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);this._signalChange(t?{trigger:e,selection:t}:void 0)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>(0,c.Xy)(e,t.uri)))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2,triggerAction:u.aQ.Default})}),this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),i=this._editor.getSelection();if(i.isEmpty()&&2===e.type){const{lineNumber:e,column:n}=i.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===n){if(/\s/.test(o[0]))return}else if(n===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[n-2])&&/\s/.test(o[n-1]))return}return i}}var v;(function(e){e.Empty={type:0};class t{constructor(e,t,i){this.trigger=e,this.position=t,this._cancellablePromise=i,this.type=1,this.actions=i.catch((e=>{if((0,r.n2)(e))return _;throw e}))}cancel(){this._cancellablePromise.cancel()}}e.Triggered=t})(v||(v={}));const _=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class b extends a.JT{constructor(e,t,i,o,r){super(),this._editor=e,this._registry=t,this._markerService=i,this._progressService=r,this._codeActionOracle=this._register(new a.XK),this._state=v.Empty,this._onDidChangeState=this._register(new s.Q5),this.onDidChangeState=this._onDidChangeState.event,n.set(this,!1),this._supportedCodeActions=m.bindTo(o),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(this._registry.onDidChange((()=>this._update()))),this._update()}dispose(){g(this,n,"f")||(p(this,n,!0,"f"),super.dispose(),this.setState(v.Empty,!0))}_update(){if(g(this,n,"f"))return;this._codeActionOracle.value=void 0,this.setState(v.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(87)){const t=this._registry.all(e).flatMap((e=>{var t;return null!==(t=e.providedCodeActionKinds)&&void 0!==t?t:[]}));this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new f(this._editor,this._markerService,(t=>{var i;if(!t)return void this.setState(v.Empty);const n=(0,o.PG)((i=>(0,h.aI)(this._registry,e,t.selection,t.trigger,d.Ex.None,i)));1===t.trigger.type&&(null===(i=this._progressService)||void 0===i||i.showWhile(n,250)),this.setState(new v.Triggered(t.trigger,t.selection.getStartPosition(),n))}),void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:u.aQ.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;null===(t=this._codeActionOracle.value)||void 0===t||t.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||g(this,n,"f")||this._onDidChangeState.fire(e))}}n=new WeakMap},86490:(e,t,i)=>{"use strict";i.d(t,{f:()=>v});var n,o=i(65321),r=i(10553),s=i(73046),a=i(4669),c=i(9917),l=i(25670),d=i(98401),u=(i(75938),i(59616)),h=i(75396),g=i(63580),p=i(91847),m=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},f=function(e,t){return function(i,n){t(i,n,e)}};(function(e){e.Hidden={type:0};class t{constructor(e,t,i,n){this.actions=e,this.trigger=t,this.editorPosition=i,this.widgetPosition=n,this.type=1}}e.Showing=t})(n||(n={}));let v=class e extends c.JT{constructor(e,t){super(),this._editor=e,this._onClick=this._register(new a.Q5),this.onClick=this._onClick.event,this._state=n.Hidden,this._domNode=o.$("div.lightBulbWidget"),this._register(r.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),this._register(o.GQ(this._domNode,(e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:i}=o.i(this._domNode),n=this._editor.getOption(64);let r=Math.floor(n/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(r+=n),this._onClick.fire({x:e.posx,y:t+i+r,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(o.nm(this._domNode,"mouseenter",(e=>{1===(1&e.buttons)&&this.hide()}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(62)&&!this._editor.getOption(62).enabled&&this.hide()}))),this._register(a.ju.runAndSubscribe(t.onDidUpdateKeybindings,(()=>{var e,i;this._preferredKbLabel=(0,d.f6)(null===(e=t.lookupKeybinding(h.pZ))||void 0===e?void 0:e.getLabel()),this._quickFixKbLabel=(0,d.f6)(null===(i=t.lookupKeybinding(h.cz))||void 0===i?void 0:i.getLabel()),this._updateLightBulbTitleAndIcon()})))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,i,o){if(t.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(62).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:a,column:c}=s.validatePosition(o),l=s.getOptions().tabSize,d=r.get(48),h=s.getLineContent(a),g=(0,u.q)(h,l),p=d.spaceWidth*g>22,m=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let f=a;if(!p)if(a>1&&!m(a-1))f-=1;else if(m(a+1)){if(c*d.spaceWidth<22)return this.hide()}else f+=1;this.state=new n.Showing(t,i,o,{position:{lineNumber:f,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==n.Hidden&&(this.state=n.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){1===this.state.type&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...l.k.asClassNameArray(s.l.lightBulb)),this._domNode.classList.add(...l.k.asClassNameArray(s.l.lightbulbAutofix)),this._preferredKbLabel)?this.title=g.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):(this._domNode.classList.remove(...l.k.asClassNameArray(s.l.lightbulbAutofix)),this._domNode.classList.add(...l.k.asClassNameArray(s.l.lightBulb)),this._quickFixKbLabel?this.title=g.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):this.title=g.NC("codeAction","Show Code Actions"))}set title(e){this._domNode.title=e}};v.ID="editor.contrib.lightbulbWidget",v._posPref=[0],v=m([f(1,p.d)],v)},87997:(e,t,i)=>{"use strict";i.d(t,{EU:()=>a,Yl:()=>c,aQ:()=>n,bA:()=>u,wZ:()=>d,yN:()=>s});var n,o=i(17301),r=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class s{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+s.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new s(this.value+s.sep+e)}}function a(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((i=>l(t,i,e.include))))&&!(!e.includeSourceActions&&s.Source.contains(t)))}function c(e,t){const i=t.kind?new s(t.kind):void 0;return!!(!e.include||i&&e.include.contains(i))&&(!(e.excludes&&i&&e.excludes.some((t=>l(i,t,e.include))))&&(!(!e.includeSourceActions&&i&&s.Source.contains(i))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function l(e,t,i){return!!t.contains(e)&&(!i||!t.contains(i))}s.sep=".",s.None=new s("@@none@@"),s.Empty=new s(""),s.QuickFix=new s("quickfix"),s.Refactor=new s("refactor"),s.RefactorExtract=s.Refactor.append("extract"),s.RefactorInline=s.Refactor.append("inline"),s.RefactorMove=s.Refactor.append("move"),s.RefactorRewrite=s.Refactor.append("rewrite"),s.Source=new s("source"),s.SourceOrganizeImports=s.Source.append("organizeImports"),s.SourceFixAll=s.Source.append("fixAll"),s.SurroundWith=s.Refactor.append("surround"),function(e){e["Refactor"]="refactor",e["RefactorPreview"]="refactor preview",e["Lightbulb"]="lightbulb",e["Default"]="other (default)",e["SourceAction"]="source action",e["QuickFix"]="quick fix action",e["FixAll"]="fix all",e["OrganizeImports"]="organize imports",e["AutoFix"]="auto fix",e["QuickFixHover"]="quick fix hover window",e["OnSave"]="save participants",e["ProblemsView"]="problems view"}(n||(n={}));class d{static fromUser(e,t){return e&&"object"===typeof e?new d(d.getKindFromUser(e,t.kind),d.getApplyFromUser(e,t.apply),d.getPreferredUser(e)):new d(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"===typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"===typeof e.kind?new s(e.kind):t}static getPreferredUser(e){return"boolean"===typeof e.preferred&&e.preferred}constructor(e,t,i){this.kind=e,this.apply=t,this.preferred=i}}class u{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return r(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(i){(0,o.Cp)(i)}t&&(this.action.edit=t.edit)}return this}))}}},38334:(e,t,i)=>{"use strict";var n=i(15393),o=i(17301),r=i(9917),s=i(43407),a=i(16830),c=i(64141),l=i(29102),d=i(71050),u=i(98401),h=i(70666),g=i(73733),p=i(94565),m=i(71922),f=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class v{constructor(){this.lenses=[],this._disposables=new r.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const i of e.lenses)this.lenses.push({symbol:i,provider:t})}}function _(e,t,i){return f(this,void 0,void 0,(function*(){const n=e.ordered(t),r=new Map,s=new v,a=n.map(((e,n)=>f(this,void 0,void 0,(function*(){r.set(e,n);try{const n=yield Promise.resolve(e.provideCodeLenses(t,i));n&&s.add(n,e)}catch(a){(0,o.Cp)(a)}}))));return yield Promise.all(a),s.lenses=s.lenses.sort(((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:r.get(e.provider)<r.get(t.provider)?-1:r.get(e.provider)>r.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),s}))}p.P.registerCommand("_executeCodeLensProvider",(function(e,...t){let[i,n]=t;(0,u.p_)(h.o.isUri(i)),(0,u.p_)("number"===typeof n||!n);const{codeLensProvider:s}=e.get(m.p),a=e.get(g.q).getModel(i);if(!a)throw(0,o.b1)();const c=[],l=new r.SL;return _(s,a,d.T.None).then((e=>{l.add(e);const t=[];for(const i of e.lenses)void 0===n||null===n||Boolean(i.symbol.command)?c.push(i.symbol):n-- >0&&i.provider.resolveCodeLens&&t.push(Promise.resolve(i.provider.resolveCodeLens(a,i.symbol,d.T.None)).then((e=>c.push(e||i.symbol))));return Promise.all(t)})).then((()=>c)).finally((()=>{setTimeout((()=>l.dispose()),100)}))}));var b=i(88289),y=i(43702),w=i(24314),C=i(65026),S=i(72065),x=i(87060),k=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},N=function(e,t){return function(i,n){t(i,n,e)}};const L=(0,S.yh)("ICodeLensCache");class I{constructor(e,t){this.lineCount=e,this.data=t}}let R=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new y.z6(20,.75);const t="codelens/cache";(0,n.To)((()=>e.remove(t,1)));const i="codelens/cache2",o=e.get(i,1,"{}");this._deserialize(o),(0,b.I)(e.onWillSaveState)((t=>{t.reason===x.fk.SHUTDOWN&&e.store(i,this._serialize(),1,1)}))}put(e,t){const i=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),n=new v;n.add({lenses:i,dispose:()=>{}},this._fakeProvider);const o=new I(e.getLineCount(),n);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,i]of this._cache){const n=new Set;for(const e of i.data.lenses)n.add(e.symbol.range.startLineNumber);e[t]={lineCount:i.lineCount,lines:[...n.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const i=t[e],n=[];for(const e of i.lines)n.push({range:new w.e(e,1,e,11)});const o=new v;o.add({lenses:n,dispose(){}},this._fakeProvider),this._cache.set(e,new I(i.lineCount,o))}}catch(t){}}};R=k([N(0,x.Uy)],R),(0,C.z)(L,R,1);var D=i(65321),M=i(56811),P=(i(20070),i(51722));class E{constructor(e,t,i){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=i,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class A{constructor(e,t){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+A._idPool++,this.updatePosition(t),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(e,t){this._commands.clear();const i=[];let n=!1;for(let o=0;o<e.length;o++){const t=e[o];if(t&&(n=!0,t.command)){const n=(0,M.T)(t.command.title.trim());t.command.id?(i.push(D.$("a",{id:String(o),title:t.command.tooltip,role:"button"},...n)),this._commands.set(String(o),t.command)):i.push(D.$("span",{title:t.command.tooltip},...n)),o+1<e.length&&i.push(D.$("span",void 0,"|"))}}n?(D.mc(this._domNode,...i),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):D.mc(this._domNode,D.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}A._idPool=0;class T{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let i=0,n=t.length;i<n;i++)this._addDecorationsCallbacks[i](t[i])}}const O=P.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class F{constructor(e,t,i,n,o,r){let s;this._isDisposed=!1,this._editor=t,this._data=e,this._decorationIds=[];const a=[];this._data.forEach(((e,t)=>{e.symbol.command&&a.push(e.symbol),i.addDecoration({range:e.symbol.range,options:O},(e=>this._decorationIds[t]=e)),s=s?w.e.plusRange(s,e.symbol.range):w.e.lift(e.symbol.range)})),this._viewZone=new E(s.startLineNumber-1,o,r),this._viewZoneId=n.addZone(this._viewZone),a.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(a,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new A(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],null===t||void 0===t||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const i=this._editor.getModel().getDecorationRange(e),n=this._data[t].symbol;return!(!i||w.e.isEmpty(n.range)!==i.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,i)=>{t.addDecoration({range:e.symbol.range,options:O},(e=>this._decorationIds[i]=e))}))}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const i=e.getDecorationRange(this._decorationIds[t]);i&&(this._data[t].symbol.range=i)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const i=e[t];if(i){const{symbol:e}=this._data[t];e.command=i.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var W=i(63580),B=i(59422),H=i(41157),V=i(88191),z=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,n){t(i,n,e)}},j=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let $=class{constructor(e,t,i,o,s,a){this._editor=e,this._languageFeaturesService=t,this._commandService=o,this._notificationService=s,this._codeLensCache=a,this._disposables=new r.SL,this._localToDispose=new r.SL,this._lenses=[],this._oldCodeLensModels=new r.SL,this._provideCodeLensDebounce=i.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=i.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new n.pY((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(48)||e.hasChanged(17)||e.hasChanged(16))&&this._updateLensStyle(),e.hasChanged(15)&&this._onModelChange()}))),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(64)/this._editor.getOption(50));let t=this._editor.getOption(17);return(!t||t<5)&&(t=.9*this._editor.getOption(50)|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),i=this._editor.getOption(16),n=this._editor.getOption(48),{style:o}=this._editor.getContainerDomNode();o.setProperty("--vscode-editorCodeLens-lineHeight",`${e}px`),o.setProperty("--vscode-editorCodeLens-fontSize",`${t}px`),o.setProperty("--vscode-editorCodeLens-fontFeatureSettings",n.fontFeatureSettings),i&&(o.setProperty("--vscode-editorCodeLens-fontFamily",i),o.setProperty("--vscode-editorCodeLens-fontFamilyDefault",c.hL.fontFamily)),this._editor.changeViewZones((t=>{for(const i of this._lenses)i.updateHeight(e,t)}))}_localDispose(){var e,t,i;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(i=this._currentCodeLensModel)||void 0===i||i.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(15))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e))return void(t&&this._localToDispose.add((0,n.Vg)((()=>{const i=this._codeLensCache.get(e);t===i&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const n of this._languageFeaturesService.codeLensProvider.all(e))if("function"===typeof n.onDidChange){const e=n.onDidChange((()=>i.schedule()));this._localToDispose.add(e)}const i=new n.pY((()=>{var t;const r=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=(0,n.PG)((t=>_(this._languageFeaturesService.codeLensProvider,e,t))),this._getCodeLensModelPromise.then((t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const n=this._provideCodeLensDebounce.update(e,Date.now()-r);i.delay=n,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewportSoon()}),o.dL)}),this._provideCodeLensDebounce.get(e));this._localToDispose.add(i),this._localToDispose.add((0,r.OF)((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{var e;this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const i=[];let n=-1;this._lenses.forEach((e=>{e.isValid()&&n!==e.getLineNumber()?(e.update(t),n=e.getLineNumber()):i.push(e)}));const o=new T;i.forEach((e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)})),o.commit(e)}))})),i.schedule(),this._resolveCodeLensesScheduler.cancel(),null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{i.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,r.OF)((()=>{if(this._editor.getModel()){const e=s.Z.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null===t||void 0===t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null===t||void 0===t?void 0:t.tagName))for(const i of this._lenses){const e=i.getCommand(t);if(e){this._commandService.executeCommand(e.id,...e.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),i.schedule()}_disposeAllLenses(e,t){const i=new T;for(const n of this._lenses)n.dispose(i,t);e&&i.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),i=[];let n;for(const s of e.lenses){const e=s.symbol.range.startLineNumber;e<1||e>t||(n&&n[n.length-1].symbol.range.startLineNumber===e?n.push(s):(n=[s],i.push(n)))}if(!i.length&&!this._lenses.length)return;const o=s.Z.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const n=new T;let o=0,s=0;while(s<i.length&&o<this._lenses.length){const e=i[s][0].symbol.range.startLineNumber,a=this._lenses[o].getLineNumber();a<e?(this._lenses[o].dispose(n,t),this._lenses.splice(o,1)):a===e?(this._lenses[o].updateCodeLensSymbols(i[s],n),s++,o++):(this._lenses.splice(o,0,new F(i[s],this._editor,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),o++,s++)}while(o<this._lenses.length)this._lenses[o].dispose(n,t),this._lenses.splice(o,1);while(s<i.length)this._lenses.push(new F(i[s],this._editor,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),s++;n.commit(e)}))})),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){const e=this._editor.getModel();e&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const i=[],r=[];if(this._lenses.forEach((e=>{const n=e.computeIfNecessary(t);n&&(i.push(n),r.push(e))})),0===i.length)return;const s=Date.now(),a=(0,n.PG)((e=>{const n=i.map(((i,n)=>{const s=new Array(i.length),a=i.map(((i,n)=>i.symbol.command||"function"!==typeof i.provider.resolveCodeLens?(s[n]=i.symbol,Promise.resolve(void 0)):Promise.resolve(i.provider.resolveCodeLens(t,i.symbol,e)).then((e=>{s[n]=e}),o.Cp)));return Promise.all(a).then((()=>{e.isCancellationRequested||r[n].isDisposed()||r[n].updateCommands(s)}))}));return Promise.all(n)}));this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then((()=>{const e=this._resolveCodeLensesDebounce.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(e=>{(0,o.dL)(e),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getModel(){return this._currentCodeLensModel}};$.ID="css.editor.codeLens",$=z([U(1,m.p),U(2,V.A),U(3,p.H),U(4,B.lT),U(5,L)],$),(0,a._K)($.ID,$,1),(0,a.Qr)(class extends a.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:l.u.hasCodeLensProvider,label:(0,W.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return j(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(H.eJ),n=e.get(p.H),o=e.get(B.lT),r=t.getSelection().positionLineNumber,s=t.getContribution($.ID);if(!s)return;const a=s.getModel();if(!a)return;const c=[];for(const e of a.lenses)e.symbol.command&&e.symbol.range.startLineNumber===r&&c.push({label:e.symbol.command.title,command:e.symbol.command});if(0===c.length)return;const l=yield i.pick(c,{canPickMany:!1});if(l){if(a.isDisposed)return yield n.executeCommand(this.id);try{yield n.executeCommand(l.command.id,...l.command.arguments||[])}catch(d){o.error(d)}}}))}})},5802:(e,t,i)=>{"use strict";var n=i(9917),o=i(16830),r=i(24314),s=i(15393),a=i(41264),c=i(17301),l=i(4669),d=i(84013),u=i(97295),h=i(29994),g=i(51722),p=i(88191),m=i(71922),f=i(71050),v=i(70666),_=i(73733),b=i(94565),y=i(1038),w=i(4256),C=i(10637),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},x=function(e,t){return function(i,n){t(i,n,e)}},k=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class N{constructor(e,t){this._editorWorkerClient=new y.Q8(e,!1,"editorWorkerService",t)}provideDocumentColors(e,t){return k(this,void 0,void 0,(function*(){return this._editorWorkerClient.computeDefaultDocumentColors(e.uri)}))}provideColorPresentations(e,t,i){const n=t.range,o=t.color,r=o.alpha,s=new a.Il(new a.VS(Math.round(255*o.red),Math.round(255*o.green),Math.round(255*o.blue),r)),c=r?a.Il.Format.CSS.formatRGB(s):a.Il.Format.CSS.formatRGBA(s),l=r?a.Il.Format.CSS.formatHSL(s):a.Il.Format.CSS.formatHSLA(s),d=r?a.Il.Format.CSS.formatHex(s):a.Il.Format.CSS.formatHexA(s),u=[];return u.push({label:c,textEdit:{range:n,text:c}}),u.push({label:l,textEdit:{range:n,text:l}}),u.push({label:d,textEdit:{range:n,text:d}}),u}}let L=class extends n.JT{constructor(e,t,i){super(),this._register(i.colorProvider.register("*",new N(e,t)))}};L=S([x(0,_.q),x(1,w.c_),x(2,m.p)],L),(0,C.y)(L);var I=i(33108),R=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function D(e,t,i,n=!0){return R(this,void 0,void 0,(function*(){return T(new P,e,t,i,n)}))}function M(e,t,i,n){return Promise.resolve(i.provideColorPresentations(e,t,n))}class P{constructor(){}compute(e,t,i,n){return R(this,void 0,void 0,(function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const t of o)n.push({colorInfo:t,provider:e});return Array.isArray(o)}))}}class E{constructor(){}compute(e,t,i,n){return R(this,void 0,void 0,(function*(){const o=yield e.provideDocumentColors(t,i);if(Array.isArray(o))for(const e of o)n.push({range:e.range,color:[e.color.red,e.color.green,e.color.blue,e.color.alpha]});return Array.isArray(o)}))}}class A{constructor(e){this.colorInfo=e}compute(e,t,i,n){return R(this,void 0,void 0,(function*(){const i=yield e.provideColorPresentations(t,this.colorInfo,f.T.None);return Array.isArray(i)&&n.push(...i),Array.isArray(i)}))}}function T(e,t,i,n,o){return R(this,void 0,void 0,(function*(){let r,s=!1;const a=[],l=t.ordered(i);for(let t=l.length-1;t>=0;t--){const o=l[t];if(o instanceof N)r=o;else try{s||(s=yield e.compute(o,i,n,a))}catch(d){(0,c.Cp)(d)}}return s?a:r&&o?(yield e.compute(r,i,n,a),a):[]}))}function O(e,t){const{colorProvider:i}=e.get(m.p),n=e.get(_.q).getModel(t);if(!n)throw(0,c.b1)();const o=e.get(I.Ui).getValue("editor.defaultColorDecorators",{resource:t});return{model:n,colorProviderRegistry:i,isDefaultColorDecoratorsEnabled:o}}b.P.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[i]=t;if(!(i instanceof v.o))throw(0,c.b1)();const{model:n,colorProviderRegistry:o,isDefaultColorDecoratorsEnabled:r}=O(e,i);return T(new E,o,n,f.T.None,r)})),b.P.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[i,n]=t,{uri:o,range:s}=n;if(!(o instanceof v.o)||!Array.isArray(i)||4!==i.length||!r.e.isIRange(s))throw(0,c.b1)();const{model:a,colorProviderRegistry:l,isDefaultColorDecoratorsEnabled:d}=O(e,o),[u,h,g,p]=i;return T(new A({range:s,color:{red:u,green:h,blue:g,alpha:p}}),l,a,f.T.None,d)}));var F=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},W=function(e,t){return function(i,n){t(i,n,e)}},B=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const H=Object.create({});let V=class e extends n.JT{constructor(t,i,o,r){super(),this._editor=t,this._configurationService=i,this._languageFeaturesService=o,this._localToDispose=this._register(new n.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new h.t7(this._editor),this._decoratorLimitReporter=new z,this._colorDecorationClassRefs=this._register(new n.SL),this._debounceInformation=r.for(o.colorProvider,"Document Colors",{min:e.RECOMPUTE_TIME}),this._register(t.onDidChangeModel((()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()}))),this._register(t.onDidChangeModelLanguage((()=>this.updateColors()))),this._register(o.colorProvider.onDidChange((()=>this.updateColors()))),this._register(t.onDidChangeConfiguration((e=>{const t=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(141);const i=t!==this._isColorDecoratorsEnabled||e.hasChanged(19),n=e.hasChanged(141);(i||n)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(141),this.updateColors()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),i=this._configurationService.getValue(t);if(i&&"object"===typeof i){const e=i["colorDecorators"];if(e&&void 0!==e["enable"]&&!e["enable"])return e["enable"]}return this._editor.getOption(18)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const e=this._editor.getModel();e&&this._languageFeaturesService.colorProvider.has(e)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new s._F,this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),this._debounceInformation.get(e)))}))),this.beginCompute())}beginCompute(){return B(this,void 0,void 0,(function*(){this._computePromise=(0,s.PG)((e=>B(this,void 0,void 0,(function*(){const t=this._editor.getModel();if(!t)return[];const i=new d.G(!1),n=yield D(this._languageFeaturesService.colorProvider,t,e,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(t,i.elapsed()),n}))));try{const e=yield this._computePromise;this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}catch(e){(0,c.dL)(e)}}))}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:g.qx.EMPTY})));this._editor.changeDecorations((i=>{this._decorationsIds=i.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,i)=>this._colorDatas.set(t,e[i])))}))}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[],i=this._editor.getOption(19);for(let o=0;o<e.length&&t.length<i;o++){const{red:i,green:n,blue:r,alpha:s}=e[o].colorInfo.color,c=new a.VS(Math.round(255*i),Math.round(255*n),Math.round(255*r),s),l=`rgba(${c.r}, ${c.g}, ${c.b}, ${c.a})`,d=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:l}));t.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:u.B4,inlineClassName:`${d.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:H}}})}const n=i<e.length&&i;this._decoratorLimitReporter.update(e.length,n),this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const i=t.getDecorationsInRange(r.e.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===i.length?null:this._colorDatas.get(i[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};V.ID="editor.contrib.colorDetector",V.RECOMPUTE_TIME=1e3,V=F([W(1,I.Ui),W(2,m.p),W(3,p.A)],V);class z{constructor(){this._onDidChange=new l.Q5,this._computed=0,this._limited=!1}update(e,t){e===this._computed&&t===this._limited||(this._computed=e,this._limited=t,this._onDidChange.fire())}}(0,o._K)(V.ID,V,1);class U{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(e,t,i){this.presentationIndex=i,this._onColorFlushed=new l.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new l.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new l.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){let i=-1;for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){i=n;break}if(-1===i){const e=t.split("(")[0].toLowerCase();for(let t=0;t<this.colorPresentations.length;t++)if(this.colorPresentations[t].label.toLowerCase().startsWith(e)){i=t;break}}-1!==i&&i!==this.presentationIndex&&(this.presentationIndex=i,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var j=i(16268),$=i(65321),K=i(93911),q=i(93794),G=i(73046),Q=i(25670),Z=(i(445),i(63580)),Y=i(73910),J=i(59554);const X=$.$;class ee extends n.JT{constructor(e,t,i,n=!1){super(),this.model=t,this.showingStandaloneColorPicker=n,this._closeButton=null,this._domNode=X(".colorpicker-header"),$.R3(e,this._domNode),this._pickedColorNode=$.R3(this._domNode,X(".picked-color"));const o=(0,Z.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",o),this._originalColorNode=$.R3(this._domNode,X(".original-color")),this._originalColorNode.style.backgroundColor=a.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=i.getColorTheme().getColor(Y.yJx)||a.Il.white,this._register(i.onDidColorThemeChange((e=>{this.backgroundColor=e.getColor(Y.yJx)||a.Il.white}))),this._register($.nm(this._pickedColorNode,$.tw.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register($.nm(this._originalColorNode,$.tw.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(t.color)||"",this._pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new te(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(e){this._pickedColorNode.style.backgroundColor=a.Il.Format.CSS.format(e)||"",this._pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this._pickedColorNode.prepend(X(".codicon.codicon-color-mode"))}}class te extends n.JT{constructor(e){super(),this._onClicked=this._register(new l.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),$.R3(e,this._button);const t=document.createElement("div");t.classList.add("close-button-inner-div"),$.R3(this._button,t);const i=$.R3(t,X(".button"+Q.k.asCSSSelector((0,J.q5)("color-picker-close",G.l.close,(0,Z.NC)("closeIcon","Icon to close the color picker")))));i.classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class ie extends n.JT{constructor(e,t,i,n=!1){super(),this.model=t,this.pixelRatio=i,this._insertButton=null,this._domNode=X(".colorpicker-body"),$.R3(e,this._domNode),this._saturationBox=new ne(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new re(this._domNode,this.model,n),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new se(this._domNode,this.model,n),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),n&&(this._insertButton=this._register(new ae(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const i=this.model.color.hsva;this.model.color=new a.Il(new a.tx(i.h,e,t,i.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new a.Il(new a.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,i=360*(1-e);this.model.color=new a.Il(new a.tx(360===i?0:i,t.s,t.v,t.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class ne extends n.JT{constructor(e,t,i){super(),this.model=t,this.pixelRatio=i,this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new l.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=X(".saturation-wrap"),$.R3(e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",$.R3(this._domNode,this._canvas),this.selection=X(".saturation-selection"),$.R3(this._domNode,this.selection),this.layout(),this._register($.nm(this._domNode,$.tw.POINTER_DOWN,(e=>this.onPointerDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new K.C);const t=$.i(this._domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,(e=>this.onDidChangePosition(e.pageX-t.left,e.pageY-t.top)),(()=>null));const i=$.nm(document,$.tw.POINTER_UP,(()=>{this._onColorFlushed.fire(),i.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const i=Math.max(0,Math.min(1,e/this.width)),n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n),this._onDidChange.fire({s:i,v:n})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new a.Il(new a.tx(e.h,1,1,1)),i=this._canvas.getContext("2d"),n=i.createLinearGradient(0,0,this._canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)");const o=i.createLinearGradient(0,0,0,this._canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),i.rect(0,0,this._canvas.width,this._canvas.height),i.fillStyle=a.Il.Format.CSS.format(t),i.fill(),i.fillStyle=n,i.fill(),i.fillStyle=o,i.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class oe extends n.JT{constructor(e,t,i=!1){super(),this.model=t,this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new l.Q5,this.onColorFlushed=this._onColorFlushed.event,i?(this.domNode=$.R3(e,X(".standalone-strip")),this.overlay=$.R3(this.domNode,X(".standalone-overlay"))):(this.domNode=$.R3(e,X(".strip")),this.overlay=$.R3(this.domNode,X(".overlay"))),this.slider=$.R3(this.domNode,X(".slider")),this.slider.style.top="0px",this._register($.nm(this.domNode,$.tw.POINTER_DOWN,(e=>this.onPointerDown(e)))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new K.C),i=$.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,(e=>this.onDidChangeTop(e.pageY-i.top)),(()=>null));const n=$.nm(document,$.tw.POINTER_UP,(()=>{this._onColorFlushed.fire(),n.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}}class re extends oe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:i,b:n}=e.rgba,o=new a.Il(new a.VS(t,i,n,1)),r=new a.Il(new a.VS(t,i,n,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}}class se extends oe{constructor(e,t,i=!1){super(e,t,i),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class ae extends n.JT{constructor(e){super(),this._onClicked=this._register(new l.Q5),this.onClicked=this._onClicked.event,this._button=$.R3(e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=e=>{this._onClicked.fire()}}get button(){return this._button}}class ce extends q.${constructor(e,t,i,n,o=!1){super(),this.model=t,this.pixelRatio=i,this._register(j.PixelRatio.onDidChange((()=>this.layout())));const r=X(".colorpicker-widget");e.appendChild(r),this.header=this._register(new ee(r,this.model,n,o)),this.body=this._register(new ie(r,this.model,this.pixelRatio,o))}layout(){this.body.layout()}}var le=i(97781),de=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ue=function(e,t){return function(i,n){t(i,n,e)}},he=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class ge{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let pe=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=2}computeSync(e,t){return[]}computeAsync(e,t,i){return s.Aq.fromPromise(this._computeAsync(e,t,i))}_computeAsync(e,t,i){return he(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=V.get(this._editor);if(!e)return[];for(const i of t){if(!e.isColorDecoration(i))continue;const t=e.getColorData(i.range.getStartPosition());if(t){const e=yield ve(this,this._editor.getModel(),t.colorInfo,t.provider);return[e]}}return[]}))}renderHoverParts(e,t){return _e(this,this._editor,this._themeService,t,e)}};pe=de([ue(1,le.XE)],pe);class me{constructor(e,t,i,n){this.owner=e,this.range=t,this.model=i,this.provider=n}}let fe=class{constructor(e,t){this._editor=e,this._themeService=t,this._color=null}createColorHover(e,t,i){return he(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return null;const n=V.get(this._editor);if(!n)return null;const o=yield D(i,this._editor.getModel(),f.T.None);let s=null,a=null;for(const t of o){const i=t.colorInfo;r.e.containsRange(i.range,e.range)&&(s=i,a=t.provider)}const c=null!==s&&void 0!==s?s:e,l=null!==a&&void 0!==a?a:t,d=!!s;return{colorHover:yield ve(this,this._editor.getModel(),c,l),foundInEditor:d}}))}updateEditorModel(e){return he(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=e.model;let i=new r.e(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);this._color&&(yield ye(this._editor.getModel(),t,this._color,i,e),i=be(this._editor,i,t))}))}renderHoverParts(e,t){return _e(this,this._editor,this._themeService,t,e)}set color(e){this._color=e}get color(){return this._color}};function ve(e,t,i,n){return he(this,void 0,void 0,(function*(){const o=t.getValueInRange(i.range),{red:s,green:c,blue:l,alpha:d}=i.color,u=new a.VS(Math.round(255*s),Math.round(255*c),Math.round(255*l),d),h=new a.Il(u),g=yield M(t,i,n,f.T.None),p=new U(h,[],0);return p.colorPresentations=g||[],p.guessColorPresentation(h,o),e instanceof pe?new ge(e,r.e.lift(i.range),p,n):new me(e,r.e.lift(i.range),p,n)}))}function _e(e,t,i,o,s){if(0===o.length||!t.hasModel())return n.JT.None;const a=new n.SL,c=o[0],l=t.getModel(),d=c.model,u=a.add(new ce(s.fragment,d,t.getOption(137),i,e instanceof fe));s.setColorPicker(u);let h=new r.e(c.range.startLineNumber,c.range.startColumn,c.range.endLineNumber,c.range.endColumn);if(e instanceof fe){const t=o[0].model.color;e.color=t,ye(l,d,t,h,c),a.add(d.onColorFlushed((t=>{e.color=t})))}else a.add(d.onColorFlushed((e=>he(this,void 0,void 0,(function*(){yield ye(l,d,e,h,c),h=be(t,h,d,s)})))));return a.add(d.onDidChangeColor((e=>{ye(l,d,e,h,c)}))),a}function be(e,t,i,n){let o,s;if(i.presentation.textEdit){o=[i.presentation.textEdit],s=new r.e(i.presentation.textEdit.range.startLineNumber,i.presentation.textEdit.range.startColumn,i.presentation.textEdit.range.endLineNumber,i.presentation.textEdit.range.endColumn);const t=e.getModel()._setTrackedRange(null,s,3);e.pushUndoStop(),e.executeEdits("colorpicker",o),s=e.getModel()._getTrackedRange(t)||s}else o=[{range:t,text:i.presentation.label,forceMoveMarkers:!1}],s=t.setEndPosition(t.endLineNumber,t.startColumn+i.presentation.label.length),e.pushUndoStop(),e.executeEdits("colorpicker",o);return i.presentation.additionalTextEdits&&(o=[...i.presentation.additionalTextEdits],e.executeEdits("colorpicker",o),n&&n.hide()),e.pushUndoStop(),s}function ye(e,t,i,n,o){return he(this,void 0,void 0,(function*(){const r=yield M(e,{range:n,color:{red:i.rgba.r/255,green:i.rgba.g/255,blue:i.rgba.b/255,alpha:i.rgba.a}},o.provider,f.T.None);t.colorPresentations=r||[]}))}fe=de([ue(1,le.XE)],fe);var we=i(43766),Ce=i(66520);class Se extends n.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown((e=>this.onMouseDown(e))))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(6!==t.type)return;if(!t.detail.injectedText)return;if(t.detail.injectedText.options.attachedData!==H)return;if(!t.range)return;const i=this._editor.getContribution(we.E.ID);if(i&&!i.isColorPickerVisible()){const e=new r.e(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);i.showContentHover(e,1,0,!1)}}}Se.ID="editor.contrib.colorContribution",(0,o._K)(Se.ID,Se,2),Ce.Ae.register(pe)},39956:(e,t,i)=>{"use strict";var n=i(22258),o=i(16830),r=i(24314),s=i(29102),a=i(4256),c=i(69386),l=i(50187),d=i(3860);class u{constructor(e,t,i){this.languageConfigurationService=i,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,i){if(i<0)return!1;const n=t.length,o=e.length;if(i+n>o)return!1;for(let r=0;r<n;r++){const n=e.charCodeAt(i+r),o=t.charCodeAt(r);if(n!==o&&(!(n>=65&&n<=90&&n+32===o)&&!(o>=65&&o<=90&&o+32===n)))return!1}return!0}_createOperationsForBlockComment(e,t,i,n,o,s){const a=e.startLineNumber,c=e.startColumn,l=e.endLineNumber,d=e.endColumn,h=o.getLineContent(a),g=o.getLineContent(l);let p,m=h.lastIndexOf(t,c-1+t.length),f=g.indexOf(i,d-1-i.length);if(-1!==m&&-1!==f)if(a===l){const e=h.substring(m+t.length,f);e.indexOf(i)>=0&&(m=-1,f=-1)}else{const e=h.substring(m+t.length),n=g.substring(0,f);(e.indexOf(i)>=0||n.indexOf(i)>=0)&&(m=-1,f=-1)}-1!==m&&-1!==f?(n&&m+t.length<h.length&&32===h.charCodeAt(m+t.length)&&(t+=" "),n&&f>0&&32===g.charCodeAt(f-1)&&(i=" "+i,f-=1),p=u._createRemoveBlockCommentOperations(new r.e(a,m+t.length+1,l,f+1),t,i)):(p=u._createAddBlockCommentOperations(e,t,i,this._insertSpace),this._usedEndToken=1===p.length?i:null);for(const r of p)s.addTrackedEditOperation(r.range,r.text)}static _createRemoveBlockCommentOperations(e,t,i){const n=[];return r.e.isEmpty(e)?n.push(c.h["delete"](new r.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length))):(n.push(c.h["delete"](new r.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),n.push(c.h["delete"](new r.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))),n}static _createAddBlockCommentOperations(e,t,i,n){const o=[];return r.e.isEmpty(e)?o.push(c.h.replace(new r.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i)):(o.push(c.h.insert(new l.L(e.startLineNumber,e.startColumn),t+(n?" ":""))),o.push(c.h.insert(new l.L(e.endLineNumber,e.endColumn),(n?" ":"")+i))),o}getEditOperations(e,t){const i=this._selection.startLineNumber,n=this._selection.startColumn;e.tokenization.tokenizeIfCheap(i);const o=e.getLanguageIdAtPosition(i,n),r=this.languageConfigurationService.getLanguageConfiguration(o).comments;r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const i=t.getInverseEditOperations();if(2===i.length){const e=i[0],t=i[1];return new d.Y(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=i[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new d.Y(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}}var h=i(97295);class g{constructor(e,t,i,n,o,r,s){this.languageConfigurationService=e,this._selection=t,this._tabSize=i,this._type=n,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=r,this._ignoreFirstLine=s||!1}static _gatherPreflightCommentStrings(e,t,i,n){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),r=n.getLanguageConfiguration(o).comments,s=r?r.lineCommentToken:null;if(!s)return null;const a=[];for(let c=0,l=i-t+1;c<l;c++)a[c]={ignore:!1,commentStr:s,commentStrOffset:0,commentStrLength:s.length};return a}static _analyzeLines(e,t,i,n,o,r,s,a){let c,l=!0;c=0===e||1!==e;for(let d=0,g=n.length;d<g;d++){const a=n[d],g=o+d;if(g===o&&s){a.ignore=!0;continue}const p=i.getLineContent(g),m=h.LC(p);if(-1!==m){if(l=!1,a.ignore=!1,a.commentStrOffset=m,c&&!u._haystackHasNeedleAtOffset(p,a.commentStr,m)&&(0===e?c=!1:1===e||(a.ignore=!0)),c&&t){const e=m+a.commentStrLength;e<p.length&&32===p.charCodeAt(e)&&(a.commentStrLength+=1)}}else a.ignore=r,a.commentStrOffset=p.length}if(0===e&&l){c=!1;for(let e=0,t=n.length;e<t;e++)n[e].ignore=!1}return{supported:!0,shouldRemoveComments:c,lines:n}}static _gatherPreflightData(e,t,i,n,o,r,s,a){const c=g._gatherPreflightCommentStrings(i,n,o,a);return null===c?{supported:!1}:g._analyzeLines(e,t,i,c,n,r,s,a)}_executeLineComments(e,t,i,n){let o;i.shouldRemoveComments?o=g._createRemoveLineCommentsOperations(i.lines,n.startLineNumber):(g._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(i.lines,n.startLineNumber));const s=new l.L(n.positionLineNumber,n.positionColumn);for(let a=0,c=o.length;a<c;a++)if(t.addEditOperation(o[a].range,o[a].text),r.e.isEmpty(o[a].range)&&r.e.getStartPosition(o[a].range).equals(s)){const t=e.getLineContent(s.lineNumber);t.length+1===s.column&&(this._deltaColumn=(o[a].text||"").length)}this._selectionId=t.trackSelection(n)}_attemptRemoveBlockComment(e,t,i,n){let o=t.startLineNumber,s=t.endLineNumber;const a=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let c=e.getLineContent(o).lastIndexOf(i,a-1),l=e.getLineContent(s).indexOf(n,t.endColumn-1-i.length);return-1!==c&&-1===l&&(l=e.getLineContent(o).indexOf(n,c+i.length),s=o),-1===c&&-1!==l&&(c=e.getLineContent(s).lastIndexOf(i,l),o=s),!t.isEmpty()||-1!==c&&-1!==l||(c=e.getLineContent(o).indexOf(i),-1!==c&&(l=e.getLineContent(o).indexOf(n,c+i.length))),-1!==c&&32===e.getLineContent(o).charCodeAt(c+i.length)&&(i+=" "),-1!==l&&32===e.getLineContent(s).charCodeAt(l-1)&&(n=" "+n,l-=1),-1!==c&&-1!==l?u._createRemoveBlockCommentOperations(new r.e(o,c+i.length+1,s,l+1),i,n):null}_executeBlockComment(e,t,i){e.tokenization.tokenizeIfCheap(i.startLineNumber);const n=e.getLanguageIdAtPosition(i.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(n).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const s=o.blockCommentStartToken,a=o.blockCommentEndToken;let c=this._attemptRemoveBlockComment(e,i,s,a);if(!c){if(i.isEmpty()){const t=e.getLineContent(i.startLineNumber);let n=h.LC(t);-1===n&&(n=t.length),c=u._createAddBlockCommentOperations(new r.e(i.startLineNumber,n+1,i.startLineNumber,t.length+1),s,a,this._insertSpace)}else c=u._createAddBlockCommentOperations(new r.e(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),s,a,this._insertSpace);1===c.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(i);for(const r of c)t.addEditOperation(r.range,r.text)}getEditOperations(e,t){let i=this._selection;if(this._moveEndPositionDown=!1,i.startLineNumber===i.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new r.e(i.startLineNumber,e.getLineMaxColumn(i.startLineNumber),i.startLineNumber+1,1),i.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(i));i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=g._gatherPreflightData(this._type,this._insertSpace,e,i.startLineNumber,i.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return n.supported?this._executeLineComments(e,t,n,i):this._executeBlockComment(e,t,i)}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),new d.Y(i.selectionStartLineNumber,i.selectionStartColumn+this._deltaColumn,i.positionLineNumber,i.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const i=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];o.ignore||i.push(c.h["delete"](new r.e(t+n,o.commentStrOffset+1,t+n,o.commentStrOffset+o.commentStrLength+1)))}return i}_createAddLineCommentsOperations(e,t){const i=[],n=this._insertSpace?" ":"";for(let o=0,r=e.length;o<r;o++){const r=e[o];r.ignore||i.push(c.h.insert(new l.L(t+o,r.commentStrOffset+1),r.commentStr+n))}return i}static nextVisibleColumn(e,t,i,n){return i?e+(t-e%t):e+n}static _normalizeInsertionPoint(e,t,i,n){let o,r,s=1073741824;for(let a=0,c=t.length;a<c;a++){if(t[a].ignore)continue;const o=e.getLineContent(i+a);let r=0;for(let e=0,i=t[a].commentStrOffset;r<s&&e<i;e++)r=g.nextVisibleColumn(r,n,9===o.charCodeAt(e),1);r<s&&(s=r)}s=Math.floor(s/n)*n;for(let a=0,c=t.length;a<c;a++){if(t[a].ignore)continue;const c=e.getLineContent(i+a);let l=0;for(o=0,r=t[a].commentStrOffset;l<s&&o<r;o++)l=g.nextVisibleColumn(l,n,9===c.charCodeAt(o),1);t[a].commentStrOffset=l>s?o-1:o}}}var p=i(63580),m=i(84144);class f extends o.R6{constructor(e,t){super(t),this._type=e}run(e,t){const i=e.get(a.c_);if(!t.hasModel())return;const n=t.getModel(),o=[],s=n.getOptions(),c=t.getOption(21),l=t.getSelections().map(((e,t)=>({selection:e,index:t,ignoreFirstLine:!1})));l.sort(((e,t)=>r.e.compareRangesUsingStarts(e.selection,t.selection)));let d=l[0];for(let r=1;r<l.length;r++){const e=l[r];d.selection.endLineNumber===e.selection.startLineNumber&&(d.index<e.index?e.ignoreFirstLine=!0:(d.ignoreFirstLine=!0,d=e))}for(const r of l)o.push(new g(i,r.selection,s.tabSize,this._type,c.insertSpace,c.ignoreEmptyLines,r.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class v extends f{constructor(){super(0,{id:"editor.action.commentLine",label:p.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:s.u.writable,kbOpts:{kbExpr:s.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:m.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class _ extends f{constructor(){super(1,{id:"editor.action.addCommentLine",label:p.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:s.u.writable,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,n.gx)(2089,2081),weight:100}})}}class b extends f{constructor(){super(2,{id:"editor.action.removeCommentLine",label:p.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:s.u.writable,kbOpts:{kbExpr:s.u.editorTextFocus,primary:(0,n.gx)(2089,2099),weight:100}})}}class y extends o.R6{constructor(){super({id:"editor.action.blockComment",label:p.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:s.u.writable,kbOpts:{kbExpr:s.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:m.eH.MenubarEditMenu,group:"5_insert",title:p.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const i=e.get(a.c_);if(!t.hasModel())return;const n=t.getOption(21),o=[],r=t.getSelections();for(const s of r)o.push(new u(s,n.insertSpace,i));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}(0,o.Qr)(v),(0,o.Qr)(_),(0,o.Qr)(b),(0,o.Qr)(y)},93740:(e,t,i)=>{"use strict";var n=i(65321),o=i(45560),r=i(74741),s=i(9917),a=i(1432),c=i(16830),l=i(29102),d=i(63580),u=i(84144),h=i(32064),g=i(5606),p=i(91847),m=i(33108),f=i(40382),v=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},_=function(e,t){return function(i,n){t(i,n,e)}};let b=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,o,r,a,c,l){this._contextMenuService=t,this._contextViewService=i,this._contextKeyService=o,this._keybindingService=r,this._menuService=a,this._configurationService=c,this._workspaceContextService=l,this._toDispose=new s.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),i=e.srcElement;i.shadowRoot&&n.Ay(t)===i.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{this._editor.getOption(22)&&58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(22))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(6===e.target.type&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),11===e.target.type)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const i of this._editor.getSelections())if(i.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(22))return;if(!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?u.eH.SimpleEditorContext:u.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const i=[],n=this._menuService.createMenu(t,this._contextKeyService),o=n.getActions({arg:e.uri});n.dispose();for(const s of o){const[,t]=s;let n=0;for(const o of t)if(o instanceof u.NZ){const t=this._getMenuActions(e,o.item.submenu);t.length>0&&(i.push(new r.wY(o.id,o.label,t)),n++)}else i.push(o),n++;n&&i.push(new r.Z0)}return i.length&&i.pop(),i}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const i=this._editor.getOption(58);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),i=n.i(this._editor.getDomNode()),o=i.left+e.left,r=i.top+e.top+e.height;t={x:o,y:r}}const r=this._editor.getOption(122)&&!a.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:r?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new o.gU(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const i=e;return"function"===typeof i.getActionViewItem?i.getActionViewItem():new o.gU(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:i})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;if((0,f.x)(this._workspaceContextService.getWorkspace()))return;const t=this._editor.getOption(70);let i=0;const n=e=>({id:"menu-action-"+ ++i,label:e.label,tooltip:"",class:void 0,enabled:"undefined"===typeof e.enabled||e.enabled,checked:e.checked,run:e.run}),o=(e,t)=>new r.wY("menu-action-"+ ++i,e,t,void 0),s=(e,t,i,r,s)=>{if(!t)return n({label:e,enabled:t,run:()=>{}});const a=e=>()=>{this._configurationService.updateValue(i,e)},c=[];for(const o of s)c.push(n({label:o.label,checked:r===o.value,run:a(o.value)}));return o(e,c)},c=[];c.push(n({label:d.NC("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),c.push(new r.Z0),c.push(n({label:d.NC("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),c.push(s(d.NC("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:d.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:d.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:d.NC("context.minimap.size.fit","Fit"),value:"fit"}])),c.push(s(d.NC("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:d.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:d.NC("context.minimap.slider.always","Always"),value:"always"}]));const l=this._editor.getOption(122)&&!a.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:l?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>c,onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};b.ID="editor.contrib.contextmenu",b=v([_(1,g.i),_(2,g.u),_(3,h.i6),_(4,p.d),_(5,u.co),_(6,m.Ui),_(7,f.ec)],b);class y extends c.R6{constructor(){super({id:"editor.action.showContextMenu",label:d.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:l.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var i;null===(i=b.get(t))||void 0===i||i.showContextMenu()}}(0,c._K)(b.ID,b,2),(0,c.Qr)(y)},41895:(e,t,i)=>{"use strict";var n=i(9917),o=i(16830),r=i(29102),s=i(63580);class a{constructor(e){this.selections=e}equals(e){const t=this.selections.length,i=e.selections.length;if(t!==i)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}}class c{constructor(e,t,i){this.cursorState=e,this.scrollTop=t,this.scrollLeft=i}}class l extends n.JT{static get(e){return e.getContribution(l.ID)}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const i=new a(t.oldSelections),n=this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i);n||(this._undoStack.push(new c(i,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new c(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new c(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}l.ID="editor.contrib.cursorUndoRedoController";class d extends o.R6{constructor(){super({id:"cursorUndo",label:s.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:2099,weight:100}})}run(e,t,i){var n;null===(n=l.get(t))||void 0===n||n.cursorUndo()}}class u extends o.R6{constructor(){super({id:"cursorRedo",label:s.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,i){var n;null===(n=l.get(t))||void 0===n||n.cursorRedo()}}(0,o._K)(l.ID,l,0),(0,o.Qr)(d),(0,o.Qr)(u)},27107:(e,t,i)=>{"use strict";var n=i(9917),o=i(1432),r=(i(43626),i(16830)),s=i(50187),a=i(24314),c=i(3860),l=i(51722);class d{constructor(e,t,i){this.selection=e,this.targetPosition=t,this.copy=i,this.targetSelection=null}getEditOperations(e,t){const i=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new a.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new c.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new c.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new c.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new c.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new c.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}}function u(e){return o.dz?e.altKey:e.ctrlKey}class h extends n.JT{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(33)&&!this._editor.getOption(20)&&(u(e)&&(this._modifierPressed=!0),this._mouseDown&&u(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(33)&&!this._editor.getOption(20)&&(u(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===h.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(null===this._dragSelection){const e=this._editor.getSelections()||[],i=e.filter((e=>t.position&&e.containsPosition(t.position)));if(1!==i.length)return;this._dragSelection=i[0]}u(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new s.L(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let i=null;if(e.event.shiftKey){const e=this._editor.getSelection();if(e){const{selectionStartLineNumber:n,selectionStartColumn:o}=e;i=[new c.Y(n,o,t.lineNumber,t.column)]}}else i=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new c.Y(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(i||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(u(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(h.ID,new d(this._dragSelection,t,u(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new a.e(e.lineNumber,e.column,e.lineNumber,e.column),options:h._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}h.ID="editor.contrib.dragAndDrop",h.TRIGGER_KEY_VALUE=o.dz?6:5,h._DECORATION_OPTIONS=l.qx.register({description:"dnd-target",className:"dnd-target"}),(0,r._K)(h.ID,h,2)},76917:(e,t,i)=>{"use strict";var n=i(71050),o=i(98401),r=i(70666),s=i(88216),a=i(30335),c=i(94565),l=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};c.P.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return l(this,void 0,void 0,(function*(){const[i]=t;(0,o.p_)(r.o.isUri(i));const c=e.get(a.Je),l=e.get(s.S),d=yield l.createModelReference(i);try{return(yield c.getOrCreate(d.object.textEditorModel,n.T.None)).getTopLevelSymbols()}finally{d.dispose()}}))}))},30335:(e,t,i)=>{"use strict";i.d(t,{Je:()=>S});var n=i(9488),o=i(71050),r=i(17301),s=i(53725),a=i(43702),c=i(50187),l=i(24314),d=i(88191),u=i(72065),h=i(65026),g=i(73733),p=i(9917),m=i(71922),f=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},v=function(e,t){return function(i,n){t(i,n,e)}},_=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class b{remove(){var e;null===(e=this.parent)||void 0===e||e.children.delete(this.id)}static findId(e,t){let i;"string"===typeof e?i=`${t.id}/${e}`:(i=`${t.id}/${e.name}`,void 0!==t.children.get(i)&&(i=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let n=i;for(let o=0;void 0!==t.children.get(n);o++)n=`${i}_${o}`;return n}static empty(e){return 0===e.children.size}}class y extends b{constructor(e,t,i){super(),this.id=e,this.parent=t,this.symbol=i,this.children=new Map}}class w extends b{constructor(e,t,i,n){super(),this.id=e,this.parent=t,this.label=i,this.order=n,this.children=new Map}}class C extends b{static create(e,t,i){const s=new o.A(i),a=new C(t.uri),c=e.ordered(t),l=c.map(((e,i)=>{var n;const o=b.findId(`provider_${i}`,a),c=new w(o,a,null!==(n=e.displayName)&&void 0!==n?n:"Unknown Outline Provider",i);return Promise.resolve(e.provideDocumentSymbols(t,s.token)).then((e=>{for(const t of e||[])C._makeOutlineElement(t,c);return c}),(e=>((0,r.Cp)(e),c))).then((e=>{b.empty(e)?e.remove():a._groups.set(o,e)}))})),d=e.onDidChange((()=>{const i=e.ordered(t);(0,n.fS)(i,c)||s.cancel()}));return Promise.all(l).then((()=>s.token.isCancellationRequested&&!i.isCancellationRequested?C.create(e,t,i):a._compact())).finally((()=>{d.dispose()}))}static _makeOutlineElement(e,t){const i=b.findId(e,t),n=new y(i,t,e);if(e.children)for(const o of e.children)C._makeOutlineElement(o,n);t.children.set(n.id,n)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let e=0;for(const[t,i]of this._groups)0===i.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{const e=s.$.first(this._groups.values());for(const[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof y?e.push(t.symbol):e.push(...s.$.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>l.e.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return C._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>c.L.compare(l.e.getStartPosition(e.range),l.e.getStartPosition(t.range))||c.L.compare(l.e.getEndPosition(t.range),l.e.getEndPosition(e.range))))}static _flattenDocumentSymbols(e,t,i){for(const n of t)e.push({kind:n.kind,tags:n.tags,name:n.name,detail:n.detail,containerName:n.containerName||i,range:n.range,selectionRange:n.selectionRange,children:void 0}),n.children&&C._flattenDocumentSymbols(e,n.children,n.name)}}const S=(0,u.yh)("IOutlineModelService");let x=class{constructor(e,t,i){this._languageFeaturesService=e,this._disposables=new p.SL,this._cache=new a.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(i.onModelRemoved((e=>{this._cache.delete(e.id)})))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return _(this,void 0,void 0,(function*(){const i=this._languageFeaturesService.documentSymbolProvider,r=i.ordered(e);let s=this._cache.get(e.id);if(!s||s.versionId!==e.getVersionId()||!(0,n.fS)(s.provider,r)){const t=new o.A;s={versionId:e.getVersionId(),provider:r,promiseCnt:0,source:t,promise:C.create(i,e,t.token),model:void 0},this._cache.set(e.id,s);const n=Date.now();s.promise.then((t=>{s.model=t,this._debounceInformation.update(e,Date.now()-n)})).catch((t=>{this._cache.delete(e.id)}))}if(s.model)return s.model;s.promiseCnt+=1;const a=t.onCancellationRequested((()=>{0===--s.promiseCnt&&(s.source.cancel(),this._cache.delete(e.id))}));try{return yield s.promise}finally{a.dispose()}}))}};x=f([v(0,m.p),v(1,d.A),v(2,g.q)],x),(0,h.z)(S,x,1)},55826:(e,t,i)=>{"use strict";i.d(t,{pR:()=>it});var n=i(15393),o=i(9917),r=i(97295),s=i(16830),a=i(8625),c=i(29102),l=i(84973),d=i(9488),u=i(61329),h=i(50187),g=i(24314),p=i(3860),m=i(77277),f=i(51722),v=i(73910),_=i(97781);class b{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getDecorationRangeAt(e){const t=e<this._decorations.length?this._decorations[e]:null;return t?this._editor.getModel().getDecorationRange(t):null}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const i of t){const e=i.options;if(e===b._FIND_MATCH_DECORATION||e===b._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(i.id)}return 0}setCurrentFindMatch(e){let t=null,i=0;if(e)for(let n=0,o=this._decorations.length;n<o;n++){const o=this._editor.getModel().getDecorationRange(this._decorations[n]);if(e.equalsRange(o)){t=this._decorations[n],i=n+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,b._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,b._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let i=this._editor.getModel().getDecorationRange(t);if(i.startLineNumber!==i.endLineNumber&&1===i.endColumn){const e=i.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);i=new g.e(i.startLineNumber,i.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(i,b._RANGE_HIGHLIGHT_DECORATION)}})),i}set(e,t){this._editor.changeDecorations((i=>{let n=b._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){n=b._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),i=this._editor.getLayoutInfo().height,r=i/t,s=Math.max(2,Math.ceil(3/r));let a=e[0].range.startLineNumber,c=e[0].range.endLineNumber;for(let n=1,l=e.length;n<l;n++){const t=e[n].range;c+s>=t.startLineNumber?t.endLineNumber>c&&(c=t.endLineNumber):(o.push({range:new g.e(a,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),a=t.startLineNumber,c=t.endLineNumber)}o.push({range:new g.e(a,1,c,1),options:b._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const r=new Array(e.length);for(let t=0,s=e.length;t<s;t++)r[t]={range:e[t].range,options:n};this._decorations=i.deltaDecorations(this._decorations,r),this._overviewRulerApproximateDecorations=i.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(i.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>i.removeDecoration(e))),this._findScopeDecorationIds=[]),(null===t||void 0===t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>i.addDecoration(e,b._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){const i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.endLineNumber>e.lineNumber)){if(n.endLineNumber<e.lineNumber)return n;if(!(n.endColumn>e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,i=this._decorations.length;t<i;t++){const i=this._decorations[t],n=this._editor.getModel().getDecorationRange(i);if(n&&!(n.startLineNumber<e.lineNumber)){if(n.startLineNumber>e.lineNumber)return n;if(!(n.startColumn<e.column))return n}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}b._CURRENT_FIND_MATCH_DECORATION=f.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.EN)(v.Fm_),position:l.sh.Center},minimap:{color:(0,_.EN)(v.SUY),position:l.F5.Inline}}),b._FIND_MATCH_DECORATION=f.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,_.EN)(v.Fm_),position:l.sh.Center},minimap:{color:(0,_.EN)(v.SUY),position:l.F5.Inline}}),b._FIND_MATCH_NO_OVERVIEW_DECORATION=f.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),b._FIND_MATCH_ONLY_OVERVIEW_DECORATION=f.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,_.EN)(v.Fm_),position:l.sh.Center}}),b._RANGE_HIGHLIGHT_DECORATION=f.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),b._FIND_SCOPE_DECORATION=f.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class y{constructor(e,t,i){this._editorSelection=e,this._ranges=t,this._replaceStrings=i,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>g.e.compareRangesUsingStarts(e.range,t.range)));const i=[];let n=e[0];for(let t=1;t<e.length;t++)n.range.endLineNumber===e[t].range.startLineNumber&&n.range.endColumn===e[t].range.startColumn?(n.range=n.range.plusRange(e[t].range),n.text=n.text+e[t].text):(i.push(n),n=e[t]);i.push(n);for(const o of i)t.addEditOperation(o.range,o.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function w(e,t){if(e&&""!==e[0]){const i=C(e,t,"-"),n=C(e,t,"_");return i&&!n?S(e,t,"-"):!i&&n?S(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():r.Kw(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function C(e,t,i){const n=-1!==e[0].indexOf(i)&&-1!==t.indexOf(i);return n&&e[0].split(i).length===t.split(i).length}function S(e,t,i){const n=t.split(i),o=e[0].split(i);let r="";return n.forEach(((e,t)=>{r+=w([o[t]],e)+i})),r.slice(0,-1)}class x{constructor(e){this.staticValue=e,this.kind=0}}class k{constructor(e){this.pieces=e,this.kind=1}}class N{static fromStaticValue(e){return new N([L.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new x(e[0].staticValue):this._state=new k(e):this._state=new x("")}buildReplaceString(e,t){if(0===this._state.kind)return t?w(e,this._state.staticValue):this._state.staticValue;let i="";for(let n=0,o=this._state.pieces.length;n<o;n++){const t=this._state.pieces[n];if(null!==t.staticValue){i+=t.staticValue;continue}let o=N._substitute(t.matchIndex,e);if(null!==t.caseOps&&t.caseOps.length>0){const e=[],i=t.caseOps.length;let n=0;for(let r=0,s=o.length;r<s;r++){if(n>=i){e.push(o.slice(r));break}switch(t.caseOps[n]){case"U":e.push(o[r].toUpperCase());break;case"u":e.push(o[r].toUpperCase()),n++;break;case"L":e.push(o[r].toLowerCase());break;case"l":e.push(o[r].toLowerCase()),n++;break;default:e.push(o[r])}}o=e.join("")}i+=o}return i}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let i="";while(e>0){if(e<t.length){const n=t[e]||"";return n+i}i=String(e%10)+i,e=Math.floor(e/10)}return"$"+i}}class L{static staticValue(e){return new L(e,-1,null)}static caseOps(e,t){return new L(null,e,t)}constructor(e,t,i){this.staticValue=e,this.matchIndex=t,i&&0!==i.length?this.caseOps=i.slice(0):this.caseOps=null}}class I{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,i){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=L.caseOps(e,i),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=L.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new N(this._result)}}function R(e){if(!e||0===e.length)return new N(null);const t=[],i=new I(e);for(let n=0,o=e.length;n<o;n++){const r=e.charCodeAt(n);if(92!==r){if(36===r){if(n++,n>=o)break;const r=e.charCodeAt(n);if(36===r){i.emitUnchanged(n-1),i.emitStatic("$",n+1);continue}if(48===r||38===r){i.emitUnchanged(n-1),i.emitMatchIndex(0,n+1,t),t.length=0;continue}if(49<=r&&r<=57){let s=r-48;if(n+1<o){const o=e.charCodeAt(n+1);if(48<=o&&o<=57){n++,s=10*s+(o-48),i.emitUnchanged(n-2),i.emitMatchIndex(s,n+1,t),t.length=0;continue}}i.emitUnchanged(n-1),i.emitMatchIndex(s,n+1,t),t.length=0;continue}}}else{if(n++,n>=o)break;const r=e.charCodeAt(n);switch(r){case 92:i.emitUnchanged(n-1),i.emitStatic("\\",n+1);break;case 110:i.emitUnchanged(n-1),i.emitStatic("\n",n+1);break;case 116:i.emitUnchanged(n-1),i.emitStatic("\t",n+1);break;case 117:case 85:case 108:case 76:i.emitUnchanged(n-1),i.emitStatic("",n+1),t.push(String.fromCharCode(r));break}}}return i.finalize()}var D=i(32064);const M=new D.uy("findWidgetVisible",!1),P=(M.toNegated(),new D.uy("findInputFocussed",!1)),E=new D.uy("replaceInputFocussed",!1),A={primary:545,mac:{primary:2593}},T={primary:565,mac:{primary:2613}},O={primary:560,mac:{primary:2608}},F={primary:554,mac:{primary:2602}},W={primary:558,mac:{primary:2606}},B={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},H=19999,V=240;class z{constructor(e,t){this._toDispose=new o.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new n._F,this._decorations=new b(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new n.pY((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,o.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){const t=this._editor.getModel();t.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),V)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let i=null;"undefined"!==typeof t?null!==t&&(i=Array.isArray(t)?t:[t]):i=this._decorations.getFindScopes(),null!==i&&(i=i.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new g.e(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));const n=this._findMatches(i,!1,H);this._decorations.set(n,i);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);if(0===r&&n.length>0){const e=(0,d.lG)(n.map((e=>e.range)),(e=>g.e.compareRangesUsingStarts(e,o)>=0));r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(39).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||1===n?(1===i?i=o.getLineCount():i--,n=o.getLineMaxColumn(i)):n--,new h.L(i,n)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<H){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;const i=this._decorations.getFindScope(),n=z._getSearchRange(this._editor.getModel(),i);n.getEndPosition().isBefore(e)&&(e=n.getEndPosition()),e.isBefore(n.getStartPosition())&&(e=n.getEndPosition());const{lineNumber:o,column:r}=e,s=this._editor.getModel();let a=new h.L(o,r),c=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,!1);return c&&c.range.isEmpty()&&c.range.getStartPosition().equals(a)&&(a=this._prevSearchPosition(a),c=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,!1)),c?t||n.containsRange(c.range)?void this._setCurrentFindMatch(c.range):this._moveToPrevMatch(c.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:i,column:n}=e;const o=this._editor.getModel();return t||n===o.getLineMaxColumn(i)?(i===o.getLineCount()?i=1:i++,n=1):n++,new h.L(i,n)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<H){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,i,n=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),r=z._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());const{lineNumber:s,column:a}=e,c=this._editor.getModel();let l=new h.L(s,a),d=c.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,t);return i&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(l)&&(l=this._nextSearchPosition(l),d=c.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,t)),d?n||r.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),t,i,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(e){const t=this._decorations.getDecorationRangeAt(e);t&&this._setCurrentFindMatch(t)}moveToMatch(e){this._moveToMatch(e)}_getReplacePattern(){return this._state.isRegex?R(this._state.replaceString):N.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),i=this._getNextMatch(t.getStartPosition(),!0,!1);if(i)if(t.equalsRange(i.range)){const n=e.buildReplaceString(i.matches,this._state.preserveCase),o=new u.T4(t,n);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new h.L(t.startLineNumber,t.startColumn+n.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(i.range)}_findMatches(e,t,i){const n=(e||[null]).map((e=>z._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null,t,i)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=H?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new m.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(125):null),t=e.parseSearchRequest();if(!t)return;let i=t.regex;if(!i.multiline){let e="mu";i.ignoreCase&&(e+="i"),i.global&&(e+="g"),i=new RegExp(i.source,e)}const n=this._editor.getModel(),o=n.getValue(1),r=n.getFullModelRange(),s=this._getReplacePattern();let a;const c=this._state.preserveCase;a=s.hasReplacementPatterns||c?o.replace(i,(function(){return s.buildReplaceString(arguments,c)})):o.replace(i,s.buildReplaceString(null,c));const l=new u.hP(r,a,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)}_regularReplaceAll(e){const t=this._getReplacePattern(),i=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),n=[];for(let r=0,s=i.length;r<s;r++)n[r]=t.buildReplaceString(i[r].matches,this._state.preserveCase);const o=new y(this._editor.getSelection(),i.map((e=>e.range)),n);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824);let i=t.map((e=>new p.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)));const n=this._editor.getSelection();for(let o=0,r=i.length;o<r;o++){const e=i[o];if(e.equalsRange(n)){i=[n].concat(i.slice(0,o)).concat(i.slice(o+1));break}}this._editor.setSelections(i)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var U=i(65321),j=(i(83330),i(51307)),$=i(93794);class K extends $.${constructor(e,t,i){super(),this._hideSoon=this._register(new n.pY((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o={inputActiveOptionBorder:(0,v.n_1)(v.PRb),inputActiveOptionForeground:(0,v.n_1)(v.Pvw),inputActiveOptionBackground:(0,v.n_1)(v.XEs)};this.caseSensitive=this._register(new j.rk(Object.assign({appendTitle:this._keybindingLabelFor(B.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase},o))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new j.Qx(Object.assign({appendTitle:this._keybindingLabelFor(B.ToggleWholeWordCommand),isChecked:this._state.wholeWord},o))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new j.eH(Object.assign({appendTitle:this._keybindingLabelFor(B.ToggleRegexCommand),isChecked:this._state.isRegex},o))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(U.nm(this._domNode,U.tw.MOUSE_LEAVE,(e=>this._onMouseLeave()))),this._register(U.nm(this._domNode,"mouseover",(e=>this._onMouseOver())))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return K.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}K.ID="editor.contrib.findOptionsWidget";var q=i(4669);function G(e,t){return 1===e||2!==e&&t}class Q extends o.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return G(this._isRegexOverride,this._isRegex)}get wholeWord(){return G(this._wholeWordOverride,this._wholeWord)}get matchCase(){return G(this._matchCaseOverride,this._matchCase)}get preserveCase(){return G(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new q.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(e,t,i){const n={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,n.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,n.matchesCount=!0,o=!0),"undefined"!==typeof i&&(g.e.equalsRange(this._currentMatch,i)||(this._currentMatch=i,n.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(n)}change(e,t,i=!0){var n;const o={moveCursor:t,updateHistory:i,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let r=!1;const s=this.isRegex,a=this.wholeWord,c=this.matchCase,l=this.preserveCase;"undefined"!==typeof e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,r=!0),"undefined"!==typeof e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,r=!0),"undefined"!==typeof e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,r=!0),"undefined"!==typeof e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),"undefined"!==typeof e.isRegex&&(this._isRegex=e.isRegex),"undefined"!==typeof e.wholeWord&&(this._wholeWord=e.wholeWord),"undefined"!==typeof e.matchCase&&(this._matchCase=e.matchCase),"undefined"!==typeof e.preserveCase&&(this._preserveCase=e.preserveCase),"undefined"!==typeof e.searchScope&&((null===(n=e.searchScope)||void 0===n?void 0:n.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!g.e.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,o.searchScope=!0,r=!0)),"undefined"!==typeof e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,r=!0),"undefined"!==typeof e.isSearching&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,r=!0),"undefined"!==typeof e.filters&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,r=!0),this._isRegexOverride="undefined"!==typeof e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride="undefined"!==typeof e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride="undefined"!==typeof e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride="undefined"!==typeof e.preserveCaseOverride?e.preserveCaseOverride:0,s!==this.isRegex&&(r=!0,o.isRegex=!0),a!==this.wholeWord&&(r=!0,o.wholeWord=!0),c!==this.matchCase&&(r=!0,o.matchCase=!0),l!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=H}}var Z=i(85152),Y=i(82900),J=i(73098),X=i(73046),ee=i(17301),te=i(1432),ie=(i(6502),i(63580)),ne=i(37726);function oe(e){var t,i;return"Up"===(null===(t=e.lookupKeybinding("history.showPrevious"))||void 0===t?void 0:t.getElectronAccelerator())&&"Down"===(null===(i=e.lookupKeybinding("history.showNext"))||void 0===i?void 0:i.getElectronAccelerator())}var re=i(59554),se=i(25670),ae=i(92321),ce=i(98401),le=i(86253),de=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const ue=(0,re.q5)("find-selection",X.l.selection,ie.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),he=(0,re.q5)("find-collapsed",X.l.chevronRight,ie.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),ge=(0,re.q5)("find-expanded",X.l.chevronDown,ie.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),pe=(0,re.q5)("find-replace",X.l.replace,ie.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),me=(0,re.q5)("find-replace-all",X.l.replaceAll,ie.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),fe=(0,re.q5)("find-previous-match",X.l.arrowUp,ie.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),ve=(0,re.q5)("find-next-match",X.l.arrowDown,ie.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),_e=ie.NC("label.find","Find"),be=ie.NC("placeholder.find","Find"),ye=ie.NC("label.previousMatchButton","Previous Match"),we=ie.NC("label.nextMatchButton","Next Match"),Ce=ie.NC("label.toggleSelectionFind","Find in Selection"),Se=ie.NC("label.closeButton","Close"),xe=ie.NC("label.replace","Replace"),ke=ie.NC("placeholder.replace","Replace"),Ne=ie.NC("label.replaceButton","Replace"),Le=ie.NC("label.replaceAllButton","Replace All"),Ie=ie.NC("label.toggleReplaceButton","Toggle Replace"),Re=ie.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",H),De=ie.NC("label.matchesLocation","{0} of {1}"),Me=ie.NC("label.noResults","No results"),Pe=419,Ee=275,Ae=Ee-54;let Te=69;const Oe=33,Fe="ctrlEnterReplaceAll.windows.donotask",We=te.dz?256:2048;class Be{constructor(e){this.afterLineNumber=e,this.heightInPx=Oe,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function He(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionStart>0&&e.stopPropagation()}function Ve(e,t,i){const n=!!t.match(/\n/);i&&n&&i.selectionEnd<i.value.length&&e.stopPropagation()}class ze extends $.${constructor(e,t,i,r,s,a,c,l,d){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=i,this._contextViewProvider=r,this._keybindingService=s,this._contextKeyService=a,this._storageService=l,this._notificationService=d,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(Fe,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new n.vp(500),this._register((0,o.OF)((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(87)&&(this._codeEditor.getOption(87)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(139)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(39)){const e=this._codeEditor.getOption(39).loop;this._state.change({loop:e},!1);const t=this._codeEditor.getOption(39).addExtraSpaceOnTop;t&&!this._viewZone&&(this._viewZone=new Be(0),this._showViewZone()),!t&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>de(this,void 0,void 0,(function*(){if(this._isVisible){const e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}}))))),this._findInputFocused=P.bindTo(a),this._findFocusTracker=this._register(U.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=E.bindTo(a),this._replaceFocusTracker=this._register(U.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(39).addExtraSpaceOnTop&&(this._viewZone=new Be(0)),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}getId(){return ze.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(87)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=U.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,ee.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=Te+"px",this._state.matchesCount>=H?this._matchesCount.title=Re:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=H&&(t+="+");let i=String(this._state.matchesPosition);"0"===i&&(i="?"),e=r.WU(De,i,t)}else e=Me;this._matchesCount.appendChild(document.createTextNode(e)),(0,Z.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),Te=Math.max(Te,this._matchesCount.clientWidth)}_getAriaLabel(e,t,i){if(e===Me)return""===i?ie.NC("ariaSearchNoResultEmpty","{0} found",e):ie.NC("ariaSearchNoResult","{0} found for '{1}'",e,i);if(t){const n=ie.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,i,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();if(o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1){const e=o.getLineContent(t.startLineNumber);return`${e}, ${n}`}return n}return ie.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,i)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),i=this._toggleSelectionFind.checked;this._isVisible&&(i||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const i=!this._codeEditor.getOption(87);this._toggleReplaceBtn.setEnabled(this._isVisible&&i)}_reveal(){if(this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(39).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(39).seedSearchStringFromSelection&&e){const i=this._codeEditor.getDomNode();if(i){const n=U.i(i),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),r=n.left+(o?o.left:0),s=o?o.top:0;if(this._viewZone&&s<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const i=U.xQ(this._domNode).left;r>i&&(t=!1);const o=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition()),s=n.left+(o?o.left:0);s>i&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){const t=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!t)return void this._removeViewZone();if(!this._isVisible)return;const i=this._viewZone;void 0===this._viewZoneId&&i&&this._codeEditor.changeViewZones((t=>{i.heightInPx=this._getHeight(),this._viewZoneId=t.addZone(i),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+i.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;const t=this._codeEditor.getOption(39).addExtraSpaceOnTop;if(!t)return;void 0===this._viewZone&&(this._viewZone=new Be(0));const i=this._viewZone;this._codeEditor.changeViewZones((t=>{if(void 0!==this._viewZoneId){const n=this._getHeight();if(n===i.heightInPx)return;const o=n-i.heightInPx;return i.heightInPx=n,t.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let n=this._getHeight();if(n-=this._codeEditor.getOption(81).top,n<=0)return;i.heightInPx=n,this._viewZoneId=t.addZone(i),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+n)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!U.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo(),t=e.contentWidth;if(t<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const i=e.width,n=e.minimap.minimapWidth;let o=!1,r=!1,s=!1;if(this._resized){const e=U.w(this._domNode);if(e>Pe)return this._domNode.style.maxWidth=i-28-n-15+"px",void(this._replaceInput.width=U.w(this._findInput.domNode))}if(Pe+28+n>=i&&(r=!0),Pe+28+n-Te>=i&&(s=!0),Pe+28+n-Te>=i+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",s),this._domNode.classList.toggle("reduced-find-widget",r),s||o||(this._domNode.style.maxWidth=i-28-n-15+"px"),this._findInput.layout({collapsedFindWidget:o,narrowFindWidget:s,reducedFindWidget:r}),this._resized){const e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=U.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||g.e.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|We)?(this._keybindingService.dispatchEvent(e,e.target)||this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?He(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?Ve(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|We)?(this._keybindingService.dispatchEvent(e,e.target)||(te.ED&&te.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(ie.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Fe,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?He(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?Ve(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){const e=!0,t=!0;this._findInput=this._register(new ne.Yb(null,this._contextViewProvider,{width:Ae,label:_e,placeholder:be,appendCaseSensitiveLabel:this._keybindingLabelFor(B.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(B.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(B.ToggleRegexCommand),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(t){return{content:t.message}}},flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>oe(this._keybindingService),inputBoxStyles:le.Hc,toggleStyles:le.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),te.IJ&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Ue({label:ye+this._keybindingLabelFor(B.PreviousMatchFindAction),icon:fe,onTrigger:()=>{(0,ce.cW)(this._codeEditor.getAction(B.PreviousMatchFindAction)).run().then(void 0,ee.dL)}})),this._nextBtn=this._register(new Ue({label:we+this._keybindingLabelFor(B.NextMatchFindAction),icon:ve,onTrigger:()=>{(0,ce.cW)(this._codeEditor.getAction(B.NextMatchFindAction)).run().then(void 0,ee.dL)}}));const i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);const n=document.createElement("div");n.className="find-actions",i.appendChild(n),n.appendChild(this._matchesCount),n.appendChild(this._prevBtn.domNode),n.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new Y.Z({icon:ue,title:Ce+this._keybindingLabelFor(B.ToggleSearchScopeCommand),isChecked:!1,inputActiveOptionBackground:(0,v.n_1)(v.XEs),inputActiveOptionBorder:(0,v.n_1)(v.PRb),inputActiveOptionForeground:(0,v.n_1)(v.Pvw)})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),n.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Ue({label:Se+this._keybindingLabelFor(B.CloseFindWidgetCommand),icon:re.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),n.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new ne.Nq(null,void 0,{label:xe,placeholder:ke,appendPreserveCaseLabel:this._keybindingLabelFor(B.TogglePreserveCaseCommand),history:[],flexibleHeight:e,flexibleWidth:t,flexibleMaxHeight:118,showHistoryHint:()=>oe(this._keybindingService),inputBoxStyles:le.Hc,toggleStyles:le.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new Ue({label:Ne+this._keybindingLabelFor(B.ReplaceOneAction),icon:pe,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new Ue({label:Le+this._keybindingLabelFor(B.ReplaceAllAction),icon:me,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const r=document.createElement("div");r.className="replace-actions",o.appendChild(r),r.appendChild(this._replaceBtn.domNode),r.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Ue({label:Ie,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=U.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Pe}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(o),this._resizeSash=new J.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let s=Pe;this._register(this._resizeSash.onDidStart((()=>{s=U.w(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;const t=s+e.startX-e.currentX;if(t<Pe)return;const i=parseFloat(U.Dx(this._domNode).maxWidth)||0;t>i||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=U.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=U.w(this._domNode);if(e<Pe)return;let t=Pe;if(!this._resized||e===Pe){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=U.w(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}}ze.ID="editor.contrib.findWidget";class Ue extends $.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+se.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{var t,i;if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();null===(i=(t=this._opts).onKeyDown)||void 0===i||i.call(t,e)}))}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...se.k.asClassNameArray(he)),this._domNode.classList.add(...se.k.asClassNameArray(ge))):(this._domNode.classList.remove(...se.k.asClassNameArray(ge)),this._domNode.classList.add(...se.k.asClassNameArray(he)))}}(0,_.Ic)(((e,t)=>{const i=(e,i)=>{i&&t.addRule(`.monaco-editor ${e} { background-color: ${i}; }`)};i(".findMatch",e.getColor(v.MUv)),i(".currentFindMatch",e.getColor(v.nyM)),i(".findScope",e.getColor(v.jUe));const n=e.getColor(v.D0T);i(".find-widget",n);const o=e.getColor(v.rh);o&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${o}; }`);const r=e.getColor(v.A42);r&&t.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${r}; border-right: 1px solid ${r}; border-bottom: 1px solid ${r}; }`);const s=e.getColor(v.EiJ);s&&t.addRule(`.monaco-editor .findMatch { border: 1px ${(0,ae.c3)(e.type)?"dotted":"solid"} ${s}; box-sizing: border-box; }`);const a=e.getColor(v.pnM);a&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${a}; padding: 1px; box-sizing: border-box; }`);const c=e.getColor(v.gkn);c&&t.addRule(`.monaco-editor .findScope { border: 1px ${(0,ae.c3)(e.type)?"dashed":"solid"} ${c}; }`);const l=e.getColor(v.lRK);l&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${l}; }`);const d=e.getColor(v.Hfx);d&&t.addRule(`.monaco-editor .find-widget { color: ${d}; }`);const u=e.getColor(v.Ido);u&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${u}; }`);const h=e.getColor(v.Ng6);if(h)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${h}; }`);else{const i=e.getColor(v.D1_);i&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${i}; }`)}const g=e.getColor(v.lUq);g&&t.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${g} !important;\n\t\t}\n\t`);const p=e.getColor(v.R80);p&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${p}; }`)}));var je=i(84144),$e=i(84972),Ke=i(5606),qe=i(91847),Ge=i(59422),Qe=i(41157),Ze=i(87060),Ye=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Je=function(e,t){return function(i,n){t(i,n,e)}},Xe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const et=524288;function tt(e,t="single",i=!1){if(!e.hasModel())return null;const n=e.getSelection();if("single"===t&&n.startLineNumber===n.endLineNumber||"multiple"===t)if(n.isEmpty()){const t=e.getConfiguredWordAtPosition(n.getStartPosition());if(t&&!1===i)return t.word}else if(e.getModel().getValueLengthInRange(n)<et)return e.getModel().getValueInRange(n);return null}let it=class e extends o.JT{get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}constructor(e,t,i,o){super(),this._editor=e,this._findWidgetVisible=M.bindTo(t),this._contextKeyService=t,this._storageService=i,this._clipboardService=o,this._updateHistoryDelayer=new n.vp(500),this._state=this._register(new Q),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{const e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(39).loop})})))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!P.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=r.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return Xe(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;const i=Object.assign(Object.assign({},t),{isRevealed:!0});if("single"===e.seedSearchStringFromSelection){const t=tt(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);t&&(this._state.isRegex?i.searchString=r.ec(t):i.searchString=t)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){const t=tt(this._editor,e.seedSearchStringFromSelection);t&&(i.searchString=t)}if(!i.searchString&&e.seedSearchStringFromGlobalClipboard){const e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(i.searchString=e)}if(e.forceRevealReplace||i.isReplaceRevealed?i.isReplaceRevealed=!0:this._findWidgetVisible.get()||(i.isReplaceRevealed=!1),e.updateSearchScope){const e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(i.searchScope=e)}i.loop=e.loop,this._state.change(i,!1),this._model||(this._model=new z(this._editor,this._state))}))}start(e,t){return this._start(e,t)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(e){return!!this._model&&(this._model.moveToMatch(e),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Xe(this,void 0,void 0,(function*(){return this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(39).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};it.ID="editor.contrib.findController",it=Ye([Je(1,D.i6),Je(2,Ze.Uy),Je(3,$e.p)],it);let nt=class extends it{constructor(e,t,i,n,o,r,s,a){super(e,i,s,a),this._contextViewService=t,this._keybindingService=n,this._themeService=o,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}_start(e,t){const i=Object.create(null,{_start:{get:()=>super._start}});return Xe(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const n=this._editor.getSelection();let o=!1;switch(this._editor.getOption(39).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{const e=!!n&&n.startLineNumber!==n.endLineNumber;o=e;break}default:break}e.updateSearchScope=e.updateSearchScope||o,yield i._start.call(this,e,t),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new ze(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new K(this._editor,this._state,this._keybindingService))}};nt=Ye([Je(1,Ke.u),Je(2,D.i6),Je(3,qe.d),Je(4,_.XE),Je(5,Ge.lT),Je(6,Ze.Uy),Je(7,$e.p)],nt);const ot=(0,s.rn)(new s.jY({id:B.StartFindAction,label:ie.NC("startFindAction","Find"),alias:"Find",precondition:D.Ao.or(c.u.focus,D.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:je.eH.MenubarEditMenu,group:"3_find",title:ie.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}}));ot.addImplementation(0,((e,t,i)=>{const n=it.get(t);return!!n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(39).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(39).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(39).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(39).loop})}));const rt={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:ie.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:ie.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:ie.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:ie.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class st extends s.R6{constructor(){super({id:B.StartFindWithArgs,label:ie.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:rt})}run(e,t,i){return Xe(this,void 0,void 0,(function*(){const e=it.get(t);if(e){const n=i?{searchString:i.searchString,replaceString:i.replaceString,isReplaceRevealed:void 0!==i.replaceString,isRegex:i.isRegex,wholeWord:i.matchWholeWord,matchCase:i.isCaseSensitive,preserveCase:i.preserveCase}:{};yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(39).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(39).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(null===i||void 0===i?void 0:i.findInSelection)||!1,loop:t.getOption(39).loop},n),e.setGlobalBufferTerm(e.getState().searchString)}}))}}class at extends s.R6{constructor(){super({id:B.StartFindWithSelection,label:ie.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return Xe(this,void 0,void 0,(function*(){const e=it.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(39).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}}class ct extends s.R6{run(e,t){return Xe(this,void 0,void 0,(function*(){const e=it.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(39).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(39).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(39).loop}),this._run(e))}))}}class lt extends ct{constructor(){super({id:B.NextMatchFindAction,label:ie.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:c.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:D.Ao.and(c.u.focus,P),primary:3,weight:100}]})}_run(e){const t=e.moveToNextMatch();return!!t&&(e.editor.pushUndoStop(),!0)}}class dt extends ct{constructor(){super({id:B.PreviousMatchFindAction,label:ie.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:c.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:D.Ao.and(c.u.focus,P),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class ut extends s.R6{constructor(){super({id:B.GoToMatchFindAction,label:ie.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:M}),this._highlightDecorations=[]}run(e,t,i){const n=it.get(t);if(!n)return;const o=n.getState().matchesCount;if(o<1){const t=e.get(Ge.lT);return void t.notify({severity:Ge.zb.Warning,message:ie.NC("findMatchAction.noResults","No matches. Try searching for something else.")})}const r=e.get(Qe.eJ),s=r.createInputBox();s.placeholder=ie.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",o);const a=e=>{const t=parseInt(e);if(isNaN(t))return;const i=n.getState().matchesCount;return t>0&&t<=i?t-1:t<0&&t>=-i?i+t:void 0},c=e=>{const i=a(e);if("number"===typeof i){s.validationMessage=void 0,n.goToMatch(i);const e=n.getState().currentMatch;e&&this.addDecorations(t,e)}else s.validationMessage=ie.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",n.getState().matchesCount),this.clearDecorations(t)};s.onDidChangeValue((e=>{c(e)})),s.onDidAccept((()=>{const e=a(s.value);"number"===typeof e?(n.goToMatch(e),s.hide()):s.validationMessage=ie.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",n.getState().matchesCount)})),s.onDidHide((()=>{this.clearDecorations(t),s.dispose()})),s.show()}clearDecorations(e){e.changeDecorations((e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[])}))}addDecorations(e,t){e.changeDecorations((e=>{this._highlightDecorations=e.deltaDecorations(this._highlightDecorations,[{range:t,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,_.EN)(a.m9),position:l.sh.Full}}}])}))}}class ht extends s.R6{run(e,t){return Xe(this,void 0,void 0,(function*(){const e=it.get(t);if(!e)return;const i=tt(t,"single",!1);i&&e.setSearchString(i),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(39).loop}),this._run(e))}))}}class gt extends ht{constructor(){super({id:B.NextSelectionMatchFindAction,label:ie.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class pt extends ht{constructor(){super({id:B.PreviousSelectionMatchFindAction,label:ie.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:c.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}const mt=(0,s.rn)(new s.jY({id:B.StartFindReplaceAction,label:ie.NC("startReplace","Replace"),alias:"Replace",precondition:D.Ao.or(c.u.focus,D.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:je.eH.MenubarEditMenu,group:"3_find",title:ie.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}}));mt.addImplementation(0,((e,t,i)=>{if(!t.hasModel()||t.getOption(87))return!1;const n=it.get(t);if(!n)return!1;const o=t.getSelection(),r=n.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(39).seedSearchStringFromSelection&&!r,a=r||s?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(39).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(39).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(39).loop})})),(0,s._K)(it.ID,nt,0),(0,s.Qr)(st),(0,s.Qr)(at),(0,s.Qr)(lt),(0,s.Qr)(dt),(0,s.Qr)(ut),(0,s.Qr)(gt),(0,s.Qr)(pt);const ft=s._l.bindToContribution(it.get);(0,s.fK)(new ft({id:B.CloseFindWidgetCommand,precondition:M,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:D.Ao.and(c.u.focus,D.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,s.fK)(new ft({id:B.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:A.primary,mac:A.mac,win:A.win,linux:A.linux}})),(0,s.fK)(new ft({id:B.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:T.primary,mac:T.mac,win:T.win,linux:T.linux}})),(0,s.fK)(new ft({id:B.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:O.primary,mac:O.mac,win:O.win,linux:O.linux}})),(0,s.fK)(new ft({id:B.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:F.primary,mac:F.mac,win:F.win,linux:F.linux}})),(0,s.fK)(new ft({id:B.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:W.primary,mac:W.mac,win:W.win,linux:W.linux}})),(0,s.fK)(new ft({id:B.ReplaceOneAction,precondition:M,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:3094}})),(0,s.fK)(new ft({id:B.ReplaceOneAction,precondition:M,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:D.Ao.and(c.u.focus,E),primary:3}})),(0,s.fK)(new ft({id:B.ReplaceAllAction,precondition:M,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:2563}})),(0,s.fK)(new ft({id:B.ReplaceAllAction,precondition:M,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:D.Ao.and(c.u.focus,E),primary:void 0,mac:{primary:2051}}})),(0,s.fK)(new ft({id:B.SelectAllMatchesAction,precondition:M,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:c.u.focus,primary:515}}))},40714:(e,t,i)=>{"use strict";var n=i(15393),o=i(71050),r=i(17301),s=i(22258),a=i(9917),c=i(97295),l=i(98401),d=(i(82670),i(43407)),u=i(16830),h=i(29102),g=i(43155),p=i(4256),m=i(4669);const f={[0]:" ",[1]:"u",[2]:"r"},v=65535,_=16777215,b=4278190080;class y{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,i=e%32;return 0!==(this._states[t]&1<<i)}set(e,t){const i=e/32|0,n=e%32,o=this._states[i];this._states[i]=t?o|1<<n:o&~(1<<n)}}class w{constructor(e,t,i){if(e.length!==t.length||e.length>v)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new y(e.length),this._userDefinedStates=new y(e.length),this._recoveredStates=new y(e.length),this._types=i,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(t,i)=>{const n=e[e.length-1];return this.getStartLineNumber(n)<=t&&this.getEndLineNumber(n)>=i};for(let i=0,n=this._startIndexes.length;i<n;i++){const n=this._startIndexes[i],o=this._endIndexes[i];if(n>_||o>_)throw new Error("startLineNumber or endLineNumber must not exceed "+_);while(e.length>0&&!t(n,o))e.pop();const r=e.length>0?e[e.length-1]:-1;e.push(i),this._startIndexes[i]=n+((255&r)<<24),this._endIndexes[i]=o+((65280&r)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&_}getEndLineNumber(e){return this._endIndexes[e]&_}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){1===t?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):2===t?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let i=!1;if(this._types)for(let n=0;n<this._types.length;n++)this._types[n]===e&&(this.setCollapsed(n,t),i=!0);return i}toRegion(e){return new C(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&b)>>>24)+((this._endIndexes[e]&b)>>>16);return t===v?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,i=this._startIndexes.length;if(0===i)return-1;while(t<i){const n=Math.floor((t+i)/2);e<this.getStartLineNumber(n)?i=n:t=n+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){const i=this.getEndLineNumber(t);if(i>=e)return t;t=this.getParentIndex(t);while(-1!==t){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${f[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&_,endLineNumber:this._endIndexes[e]&_,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,i=new Uint32Array(t),n=new Uint32Array(t);let o=[],r=!1;for(let a=0;a<t;a++){const t=e[a];i[a]=t.startLineNumber,n[a]=t.endLineNumber,o.push(t.type),t.type&&(r=!0)}r||(o=void 0);const s=new w(i,n,o);for(let a=0;a<t;a++)e[a].isCollapsed&&s.setCollapsed(a,!0),s.setSource(a,e[a].source);return s}static sanitizeAndMerge(e,t,i){i=null!==i&&void 0!==i?i:Number.MAX_VALUE;const n=(e,t)=>Array.isArray(e)?i=>i<t?e[i]:void 0:i=>i<t?e.toFoldRange(i):void 0,o=n(e,e.length),r=n(t,t.length);let s=0,a=0,c=o(0),l=r(0);const d=[];let u,h=0;const g=[];while(c||l){let e;if(l&&(!c||c.startLineNumber>=l.startLineNumber))c&&c.startLineNumber===l.startLineNumber?(1===l.source?e=l:(e=c,e.isCollapsed=l.isCollapsed&&c.endLineNumber===l.endLineNumber,e.source=0),c=o(++s)):(e=l,l.isCollapsed&&0===l.source&&(e.source=2)),l=r(++a);else{let t=a,i=l;while(1){if(!i||i.startLineNumber>c.endLineNumber){e=c;break}if(1===i.source&&i.endLineNumber>c.endLineNumber)break;i=r(++t)}c=o(++s)}if(e){while(u&&u.endLineNumber<e.startLineNumber)u=d.pop();e.endLineNumber>e.startLineNumber&&e.startLineNumber>h&&e.endLineNumber<=i&&(!u||u.endLineNumber>=e.endLineNumber)&&(g.push(e),h=e.startLineNumber,u&&d.push(u),u=e)}}return g}}class C{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}var S=i(89954);class x{get regions(){return this._regions}get textModel(){return this._textModel}constructor(e,t){this._updateEventEmitter=new m.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new w(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((i=>{let n=0,o=-1,r=-1;const s=e=>{while(n<e){const e=this._regions.getEndLineNumber(n),t=this._regions.isCollapsed(n);if(e<=o){const o=0!==this.regions.getSource(n);i.changeDecorationOptions(this._editorDecorationIds[n],this._decorationProvider.getDecorationOption(t,e<=r,o))}t&&e>r&&(r=e),n++}};for(const a of e){const e=a.regionIndex,i=this._editorDecorationIds[e];if(i&&!t[i]){t[i]=!0,s(e);const n=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,n),o=Math.max(o,this._regions.getEndLineNumber(e))}}s(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,i=t=>{for(const i of e)if(!(i.startLineNumber>t.endLineNumber||t.startLineNumber>i.endLineNumber))return!0;return!1};for(let n=0;n<this._regions.length;n++){const e=this._regions.toFoldRange(n);0!==e.source&&i(e)||t.push(e)}this.updatePost(w.fromFoldRanges(t))}update(e,t=[]){const i=this._currentFoldedOrManualRanges(t),n=w.sanitizeAndMerge(e,i,this._textModel.getLineCount());this.updatePost(w.fromFoldRanges(n))}updatePost(e){const t=[];let i=-1;for(let n=0,o=e.length;n<o;n++){const o=e.getStartLineNumber(n),r=e.getEndLineNumber(n),s=e.isCollapsed(n),a=0!==e.getSource(n),c={startLineNumber:o,startColumn:this._textModel.getLineMaxColumn(o),endLineNumber:r,endColumn:this._textModel.getLineMaxColumn(r)+1};t.push({range:c,options:this._decorationProvider.getDecorationOption(s,r<=i,a)}),s&&r>i&&(i=r)}this._decorationProvider.changeDecorations((e=>this._editorDecorationIds=e.deltaDecorations(this._editorDecorationIds,t))),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(t,i)=>{for(const n of e)if(t<n&&n<=i)return!0;return!1},i=[];for(let n=0,o=this._regions.length;n<o;n++){let e=this.regions.isCollapsed(n);const o=this.regions.getSource(n);if(e||0!==o){const r=this._regions.toFoldRange(n),s=this._textModel.getDecorationRange(this._editorDecorationIds[n]);s&&(e&&t(s.startLineNumber,s.endLineNumber)&&(e=!1),i.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:r.type,isCollapsed:e,source:o}))}}return i}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[],i=this._textModel.getLineCount();for(let n=0,o=e.length;n<o;n++){const o=e[n];if(o.startLineNumber>=o.endLineNumber||o.startLineNumber<1||o.endLineNumber>i)continue;const r=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:r})}return t.length>0?t:void 0}applyMemento(e){var t,i;if(!Array.isArray(e))return;const n=[],o=this._textModel.getLineCount();for(const s of e){if(s.startLineNumber>=s.endLineNumber||s.startLineNumber<1||s.endLineNumber>o)continue;const e=this._getLinesChecksum(s.startLineNumber+1,s.endLineNumber);s.checksum&&e!==s.checksum||n.push({startLineNumber:s.startLineNumber,endLineNumber:s.endLineNumber,type:void 0,isCollapsed:null===(t=s.isCollapsed)||void 0===t||t,source:null!==(i=s.source)&&void 0!==i?i:0})}const r=w.sanitizeAndMerge(this._regions,n,o);this.updatePost(w.fromFoldRanges(r))}_getLinesChecksum(e,t){const i=(0,S.vp)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t));return i%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const i=[];if(this._regions){let n=this._regions.findRange(e),o=1;while(n>=0){const e=this._regions.toRegion(n);t&&!t(e,o)||i.push(e),o++,n=e.parentIndex}}return i}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const i=[],n=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let r=n,s=this._regions.length;r<s;r++){const n=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;while(e.length>0&&!n.containedBy(e[e.length-1]))e.pop();e.push(n),t(n,e.length)&&i.push(n)}}else for(let r=n,s=this._regions.length;r<s;r++){const e=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;t&&!t(e)||i.push(e)}return i}}function k(e,t,i){const n=[];for(const o of i){const i=e.getRegionAtLine(o);if(i){const o=!i.isCollapsed;if(n.push(i),t>1){const r=e.getRegionsInside(i,((e,i)=>e.isCollapsed!==o&&i<t));n.push(...r)}}}e.toggleCollapseState(n)}function N(e,t,i=Number.MAX_VALUE,n){const o=[];if(n&&n.length>0)for(const r of n){const n=e.getRegionAtLine(r);if(n&&(n.isCollapsed!==t&&o.push(n),i>1)){const r=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...r)}}else{const n=e.getRegionsInside(null,((e,n)=>e.isCollapsed!==t&&n<i));o.push(...n)}e.toggleCollapseState(o)}function L(e,t,i,n){const o=[];for(const r of n){const n=e.getAllRegionsAtLine(r,((e,n)=>e.isCollapsed!==t&&n<=i));o.push(...n)}e.toggleCollapseState(o)}function I(e,t,i){const n=[];for(const o of i){const i=e.getAllRegionsAtLine(o,(e=>e.isCollapsed!==t));i.length>0&&n.push(i[0])}e.toggleCollapseState(n)}function R(e,t,i,n){const o=(e,o)=>o===t&&e.isCollapsed!==i&&!n.some((t=>e.containsLine(t))),r=e.getRegionsInside(null,o);e.toggleCollapseState(r)}function D(e,t,i){const n=[];for(const s of i){const t=e.getAllRegionsAtLine(s,void 0);t.length>0&&n.push(t[0])}const o=e=>n.every((t=>!t.containedBy(e)&&!e.containedBy(t)))&&e.isCollapsed!==t,r=e.getRegionsInside(null,o);e.toggleCollapseState(r)}function M(e,t,i){const n=e.textModel,o=e.regions,r=[];for(let s=o.length-1;s>=0;s--)if(i!==o.isCollapsed(s)){const e=o.getStartLineNumber(s);t.test(n.getLineContent(e))&&r.push(o.toRegion(s))}e.toggleCollapseState(r)}function P(e,t,i){const n=e.regions,o=[];for(let r=n.length-1;r>=0;r--)i!==n.isCollapsed(r)&&t===n.getType(r)&&o.push(n.toRegion(r));e.toggleCollapseState(o)}function E(e,t){let i=null;const n=t.getRegionAtLine(e);if(null!==n&&(i=n.startLineNumber,e===i)){const e=n.parentIndex;i=-1!==e?t.regions.getStartLineNumber(e):null}return i}function A(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){if(e!==i.startLineNumber)return i.startLineNumber;{const e=i.parentIndex;let n=0;-1!==e&&(n=t.regions.getStartLineNumber(i.parentIndex));while(null!==i){if(!(i.regionIndex>0))return null;if(i=t.regions.toRegion(i.regionIndex-1),i.startLineNumber<=n)return null;if(i.parentIndex===e)return i.startLineNumber}}}else if(t.regions.length>0){i=t.regions.toRegion(t.regions.length-1);while(null!==i){if(i.startLineNumber<e)return i.startLineNumber;i=i.regionIndex>0?t.regions.toRegion(i.regionIndex-1):null}}return null}function T(e,t){let i=t.getRegionAtLine(e);if(null!==i&&i.startLineNumber===e){const e=i.parentIndex;let n=0;if(-1!==e)n=t.regions.getEndLineNumber(i.parentIndex);else{if(0===t.regions.length)return null;n=t.regions.getEndLineNumber(t.regions.length-1)}while(null!==i){if(!(i.regionIndex<t.regions.length))return null;if(i=t.regions.toRegion(i.regionIndex+1),i.startLineNumber>=n)return null;if(i.parentIndex===e)return i.startLineNumber}}else if(t.regions.length>0){i=t.regions.toRegion(0);while(null!==i){if(i.startLineNumber>e)return i.startLineNumber;i=i.regionIndex<t.regions.length?t.regions.toRegion(i.regionIndex+1):null}}return null}var O=i(9488),F=i(24314),W=i(23795);class B{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(e){this._updateEventEmitter=new m.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some((e=>e.range.endLineNumber!==e.range.startLineNumber||0!==(0,W.Q)(e.text)[0])))}updateHiddenRanges(){let e=!1;const t=[];let i=0,n=0,o=Number.MAX_VALUE,r=-1;const s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i))continue;const a=s.getStartLineNumber(i)+1,c=s.getEndLineNumber(i);o<=a&&c<=r||(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===c?(t.push(this._hiddenRanges[n]),n++):(e=!0,t.push(new F.e(a,1,c,1))),o=a,r=c)}(this._hasLineChanges||e||n<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==V(this._hiddenRanges,e)}adjustSelections(e){let t=!1;const i=this._foldingModel.textModel;let n=null;const o=e=>(n&&H(e,n)||(n=V(this._hiddenRanges,e)),n?n.startLineNumber-1:null);for(let r=0,s=e.length;r<s;r++){let n=e[r];const s=o(n.startLineNumber);s&&(n=n.setStartPosition(s,i.getLineMaxColumn(s)),t=!0);const a=o(n.endLineNumber);a&&(n=n.setEndPosition(a,i.getLineMaxColumn(a)),t=!0),e[r]=n}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function H(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}function V(e,t){const i=(0,O.lG)(e,(e=>t<e.startLineNumber))-1;return i>=0&&e[i].endLineNumber>=t?e[i]:null}var z=i(59616);const U=5e3,j="indent";class ${constructor(e,t,i){this.editorModel=e,this.languageConfigurationService=t,this.foldingRangesLimit=i,this.id=j}dispose(){}compute(e){const t=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=t&&!!t.offSide,n=t&&t.markers;return Promise.resolve(G(this.editorModel,i,n,this.foldingRangesLimit))}}class K{constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,i){if(e>_||t>_)return;const n=this._length;this._startIndexes[n]=e,this._endIndexes[n]=t,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(e){const t=this._foldingRangesLimit.limit;if(this._length<=t){this._foldingRangesLimit.update(this._length,!1);const e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=this._length-1,n=0;i>=0;i--,n++)e[n]=this._startIndexes[i],t[n]=this._endIndexes[i];return new w(e,t)}{this._foldingRangesLimit.update(this._length,t);let i=0,n=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){const o=this._indentOccurrences[e];if(o){if(o+i>t){n=e;break}i+=o}}const o=e.getOptions().tabSize,r=new Uint32Array(t),s=new Uint32Array(t);for(let a=this._length-1,c=0;a>=0;a--){const l=this._startIndexes[a],d=e.getLineContent(l),u=(0,z.q)(d,o);(u<n||u===n&&i++<t)&&(r[c]=l,s[c]=this._endIndexes[a],c++)}return new w(r,s)}}}const q={limit:U,update:()=>{}};function G(e,t,i,n=q){const o=e.getOptions().tabSize,r=new K(n);let s;i&&(s=new RegExp(`(${i.start.source})|(?:${i.end.source})`));const a=[],c=e.getLineCount()+1;a.push({indent:-1,endAbove:c,line:c});for(let l=e.getLineCount();l>0;l--){const i=e.getLineContent(l),n=(0,z.q)(i,o);let c,d=a[a.length-1];if(-1!==n){if(s&&(c=i.match(s))){if(!c[1]){a.push({indent:-2,endAbove:l,line:l});continue}{let e=a.length-1;while(e>0&&-2!==a[e].indent)e--;if(e>0){a.length=e+1,d=a[e],r.insertFirst(l,d.line,n),d.line=l,d.indent=n,d.endAbove=l;continue}}}if(d.indent>n){do{a.pop(),d=a[a.length-1]}while(d.indent>n);const e=d.endAbove-1;e-l>=1&&r.insertFirst(l,e,n)}d.indent===n?d.endAbove=l:a.push({indent:n,endAbove:l,line:l})}else t&&(d.endAbove=l)}return r.toIndentRanges(e)}var Q=i(63580),Z=i(32064),Y=i(73046),J=i(84973),X=i(51722),ee=i(73910),te=i(59554),ie=i(97781),ne=i(25670);const oe=(0,ee.P6G)("editor.foldBackground",{light:(0,ee.ZnX)(ee.hEj,.3),dark:(0,ee.ZnX)(ee.hEj,.3),hcDark:null,hcLight:null},(0,Q.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,ee.P6G)("editorGutter.foldingControlForeground",{dark:ee.XZx,light:ee.XZx,hcDark:ee.XZx,hcLight:ee.XZx},(0,Q.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const re=(0,te.q5)("folding-expanded",Y.l.chevronDown,(0,Q.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),se=(0,te.q5)("folding-collapsed",Y.l.chevronRight,(0,Q.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),ae=(0,te.q5)("folding-manual-collapsed",se,(0,Q.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),ce=(0,te.q5)("folding-manual-expanded",re,(0,Q.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),le={color:(0,ie.EN)(oe),position:J.F5.Inline};class de{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,i){return t?de.HIDDEN_RANGE_DECORATION:"never"===this.showFoldingControls?e?this.showFoldingHighlights?de.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:de.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:de.NO_CONTROLS_EXPANDED_RANGE_DECORATION:e?i?this.showFoldingHighlights?de.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:de.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?de.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:de.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?i?de.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:de.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i?de.MANUALLY_EXPANDED_VISUAL_DECORATION:de.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}de.COLLAPSED_VISUAL_DECORATION=X.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(se)}),de.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=X.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:le,isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(se)}),de.MANUALLY_COLLAPSED_VISUAL_DECORATION=X.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(ae)}),de.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=X.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:le,isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(ae)}),de.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=X.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),de.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=X.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:le,isWholeLine:!0}),de.EXPANDED_VISUAL_DECORATION=X.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.k.asClassName(re)}),de.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=X.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(re)}),de.MANUALLY_EXPANDED_VISUAL_DECORATION=X.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+ne.k.asClassName(ce)}),de.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=X.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:ne.k.asClassName(ce)}),de.NO_CONTROLS_EXPANDED_RANGE_DECORATION=X.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),de.HIDDEN_RANGE_DECORATION=X.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const ue={},he="syntax";class ge{constructor(e,t,i,n,o){this.editorModel=e,this.providers=t,this.handleFoldingRangesChange=i,this.foldingRangesLimit=n,this.fallbackRangeProvider=o,this.id=he,this.disposables=new a.SL,o&&this.disposables.add(o);for(const r of t)"function"===typeof r.onDidChange&&this.disposables.add(r.onDidChange(i))}compute(e){return pe(this.providers,this.editorModel,e).then((t=>{var i,n;if(t){const e=fe(t,this.foldingRangesLimit);return e}return null!==(n=null===(i=this.fallbackRangeProvider)||void 0===i?void 0:i.compute(e))&&void 0!==n?n:null}))}dispose(){this.disposables.dispose()}}function pe(e,t,i){let n=null;const o=e.map(((e,o)=>Promise.resolve(e.provideFoldingRanges(t,ue,i)).then((e=>{if(!i.isCancellationRequested&&Array.isArray(e)){Array.isArray(n)||(n=[]);const i=t.getLineCount();for(const t of e)t.start>0&&t.end>t.start&&t.end<=i&&n.push({start:t.start,end:t.end,rank:o,kind:t.kind})}}),r.Cp)));return Promise.all(o).then((e=>n))}class me{constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,i,n){if(e>_||t>_)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=n,this._types[o]=i,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const e=this._foldingRangesLimit.limit;if(this._length<=e){this._foldingRangesLimit.update(this._length,!1);const e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let i=0;i<this._length;i++)e[i]=this._startIndexes[i],t[i]=this._endIndexes[i];return new w(e,t,this._types)}{this._foldingRangesLimit.update(this._length,e);let t=0,i=this._nestingLevelCounts.length;for(let s=0;s<this._nestingLevelCounts.length;s++){const n=this._nestingLevelCounts[s];if(n){if(n+t>e){i=s;break}t+=n}}const n=new Uint32Array(e),o=new Uint32Array(e),r=[];for(let s=0,a=0;s<this._length;s++){const c=this._nestingLevels[s];(c<i||c===i&&t++<e)&&(n[a]=this._startIndexes[s],o[a]=this._endIndexes[s],r[a]=this._types[s],a++)}return new w(n,o,r)}}}function fe(e,t){const i=e.sort(((e,t)=>{let i=e.start-t.start;return 0===i&&(i=e.rank-t.rank),i})),n=new me(t);let o;const r=[];for(const s of i)if(o){if(s.start>o.start)if(s.end<=o.end)r.push(o),o=s,n.add(s.start,s.end,s.kind&&s.kind.value,r.length);else{if(s.start>o.end){do{o=r.pop()}while(o&&s.start>o.end);o&&r.push(o),o=s}n.add(s.start,s.end,s.kind&&s.kind.value,r.length)}}else o=s,n.add(s.start,s.end,s.kind&&s.kind.value,r.length);return n.toIndentRanges()}var ve=i(59422),_e=i(88191),be=i(84013),ye=i(71922),we=i(94565),Ce=i(70666),Se=i(73733),xe=i(33108),ke=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ne=function(e,t){return function(i,n){t(i,n,e)}},Le=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const Ie=new Z.uy("foldingEnabled",!1);let Re=class e extends a.JT{static get(t){return t.getContribution(e.ID)}static getFoldingRangeProviders(t,i){var n,o;const r=t.foldingRangeProvider.ordered(i);return null!==(o=null===(n=e._foldingRangeSelector)||void 0===n?void 0:n.call(e,r,i))&&void 0!==o?o:r}constructor(e,t,i,n,o,r){super(),this.contextKeyService=t,this.languageConfigurationService=i,this.languageFeaturesService=r,this.localToDispose=this._register(new a.SL),this.editor=e,this._foldingLimitReporter=new De(e);const s=this.editor.getOptions();this._isEnabled=s.get(41),this._useFoldingProviders="indentation"!==s.get(42),this._unfoldOnClickAfterEndOfLine=s.get(46),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=s.get(44),this.updateDebounceInfo=o.for(r.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new de(e),this.foldingDecorationProvider.showFoldingControls=s.get(105),this.foldingDecorationProvider.showFoldingHighlights=s.get(43),this.foldingEnabled=Ie.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(41)&&(this._isEnabled=this.editor.getOptions().get(41),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(45)&&this.onModelChanged(),e.hasChanged(105)||e.hasChanged(43)){const e=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=e.get(105),this.foldingDecorationProvider.showFoldingHighlights=e.get(43),this.triggerFoldingModelChanged()}e.hasChanged(42)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(42),this.onFoldingStrategyChanged()),e.hasChanged(46)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(46)),e.hasChanged(44)&&(this._foldingImportsByDefault=this.editor.getOptions().get(44))}))),this.onModelChanged()}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),i=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:i,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new x(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new B(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new n.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new n.pY((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((e=>this.onDidChangeModelContent(e)))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{var e,t;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),null===(e=this.updateScheduler)||void 0===e||e.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,null===(t=this.rangeProvider)||void 0===t||t.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var e;null===(e=this.rangeProvider)||void 0===e||e.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(t){if(this.rangeProvider)return this.rangeProvider;const i=new $(t,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=i,this._useFoldingProviders&&this.foldingModel){const n=e.getFoldingRangeProviders(this.languageFeaturesService,t);n.length>0&&(this.rangeProvider=new ge(t,n,(()=>this.triggerFoldingModelChanged()),this._foldingLimitReporter,i))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;null===(t=this.hiddenRangeModel)||void 0===t||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;const t=new be.G(!0),i=this.getRangeProvider(e.textModel),o=this.foldingRegionPromise=(0,n.PG)((e=>i.compute(e)));return o.then((i=>{if(i&&o===this.foldingRegionPromise){let n;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const e=i.setCollapsedAllOfType(g.AD.Imports.value,!0);e&&(n=d.Z.capture(this.editor),this._currentModelHasFoldedImports=e)}const o=this.editor.getSelections(),r=o?o.map((e=>e.startLineNumber)):[];e.update(i,r),null===n||void 0===n||n.restore(this.editor);const s=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=s)}return e}))})).then(void 0,(e=>((0,r.dL)(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){const t=this.editor.getSelections();if(t&&t.length>0){const i=[];for(const n of t){const t=n.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&i.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}i.length&&(e.toggleCollapseState(i),this.reveal(t[0].getPosition()))}}})).then(void 0,r.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let i=!1;switch(e.target.type){case 4:{const t=e.target.detail,n=e.target.element.offsetLeft,o=t.offsetX-n;if(o<5)return;i=!0;break}case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){const t=e.target.detail;if(!t.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){const e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const i=this.mouseDownInfo.lineNumber,n=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==i)return;if(n){if(4!==e.target.type)return}else{const e=this.editor.getModel();if(!e||o.startColumn!==e.getLineMaxColumn(i))return}const r=t.getRegionAtLine(i);if(r&&r.startLineNumber===i){const o=r.isCollapsed;if(n||o){const n=e.event.altKey;let s=[];if(n){const e=e=>!e.containedBy(r)&&!r.containedBy(e),i=t.getRegionsInside(null,e);for(const t of i)t.isCollapsed&&s.push(t);0===s.length&&(s=i)}else{const i=e.event.middleButton||e.event.shiftKey;if(i)for(const e of t.getRegionsInside(r))e.isCollapsed===o&&s.push(e);!o&&i&&0!==s.length||s.push(r)}t.toggleCollapseState(s),this.reveal({lineNumber:i,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Re.ID="editor.contrib.folding",Re=ke([Ne(1,Z.i6),Ne(2,p.c_),Ne(3,ve.lT),Ne(4,_e.A),Ne(5,ye.p)],Re);class De{constructor(e){this.editor=e,this._onDidChange=new m.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(45)}update(e,t){e===this._computed&&t===this._limited||(this._computed=e,this._limited=t,this._onDidChange.fire())}}class Me extends u.R6{runEditorCommand(e,t,i){const n=e.get(p.c_),o=Re.get(t);if(!o)return;const r=o.getFoldingModel();return r?(this.reportTelemetry(e,t),r.then((e=>{if(e){this.invoke(o,e,t,i,n);const r=t.getSelection();r&&o.reveal(r.getStartPosition())}}))):void 0}getSelectedLines(e){const t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function Pe(e){if(!l.o8(e)){if(!l.Kn(e))return!1;const t=e;if(!l.o8(t.levels)&&!l.hj(t.levels))return!1;if(!l.o8(t.direction)&&!l.HD(t.direction))return!1;if(!l.o8(t.selectionLines)&&(!Array.isArray(t.selectionLines)||!t.selectionLines.every(l.hj)))return!1}return!0}class Ee extends Me{constructor(){super({id:"editor.unfold",label:Q.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:Pe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=n&&n.levels||1,r=this.getLineNumbers(n,i);n&&"up"===n.direction?L(t,!1,o,r):N(t,!1,o,r)}}class Ae extends Me{constructor(){super({id:"editor.unfoldRecursively",label:Q.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2142),weight:100}})}invoke(e,t,i,n){N(t,!1,Number.MAX_VALUE,this.getSelectedLines(i))}}class Te extends Me{constructor(){super({id:"editor.fold",label:Q.NC("foldAction.label","Fold"),alias:"Fold",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:Pe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,i,n){const o=this.getLineNumbers(n,i),r=n&&n.levels,s=n&&n.direction;"number"!==typeof r&&"string"!==typeof s?I(t,!0,o):"up"===s?L(t,!0,r||1,o):N(t,!0,r||1,o)}}class Oe extends Me{constructor(){super({id:"editor.toggleFold",label:Q.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2090),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);k(t,1,n)}}class Fe extends Me{constructor(){super({id:"editor.foldRecursively",label:Q.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2140),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);N(t,!0,Number.MAX_VALUE,n)}}class We extends Me{constructor(){super({id:"editor.foldAllBlockComments",label:Q.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2138),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())P(t,g.AD.Comment.value,!0);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).comments;if(n&&n.blockCommentStartToken){const e=new RegExp("^\\s*"+(0,c.ec)(n.blockCommentStartToken));M(t,e,!0)}}}}class Be extends Me{constructor(){super({id:"editor.foldAllMarkerRegions",label:Q.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2077),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())P(t,g.AD.Region.value,!0);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(n&&n.markers&&n.markers.start){const e=new RegExp(n.markers.start);M(t,e,!0)}}}}class He extends Me{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:Q.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2078),weight:100}})}invoke(e,t,i,n,o){if(t.regions.hasTypes())P(t,g.AD.Region.value,!1);else{const e=i.getModel();if(!e)return;const n=o.getLanguageConfiguration(e.getLanguageId()).foldingRules;if(n&&n.markers&&n.markers.start){const e=new RegExp(n.markers.start);M(t,e,!1)}}}}class Ve extends Me{constructor(){super({id:"editor.foldAllExcept",label:Q.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2136),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);D(t,!0,n)}}class ze extends Me{constructor(){super({id:"editor.unfoldAllExcept",label:Q.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2134),weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);D(t,!1,n)}}class Ue extends Me{constructor(){super({id:"editor.foldAll",label:Q.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2069),weight:100}})}invoke(e,t,i){N(t,!0)}}class je extends Me{constructor(){super({id:"editor.unfoldAll",label:Q.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2088),weight:100}})}invoke(e,t,i){N(t,!1)}}class $e extends Me{getFoldingLevel(){return parseInt(this.id.substr($e.ID_PREFIX.length))}invoke(e,t,i){R(t,this.getFoldingLevel(),!0,this.getSelectedLines(i))}}$e.ID_PREFIX="editor.foldLevel",$e.ID=e=>$e.ID_PREFIX+e;class Ke extends Me{constructor(){super({id:"editor.gotoParentFold",label:Q.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=E(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}class qe extends Me{constructor(){super({id:"editor.gotoPreviousFold",label:Q.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=A(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}class Ge extends Me{constructor(){super({id:"editor.gotoNextFold",label:Q.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,weight:100}})}invoke(e,t,i){const n=this.getSelectedLines(i);if(n.length>0){const e=T(n[0],t);null!==e&&i.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}}class Qe extends Me{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:Q.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2135),weight:100}})}invoke(e,t,i){var n;const o=[],r=i.getSelections();if(r){for(const e of r){let t=e.endLineNumber;1===e.endColumn&&--t,t>e.startLineNumber&&(o.push({startLineNumber:e.startLineNumber,endLineNumber:t,type:void 0,isCollapsed:!0,source:1}),i.setSelection({startLineNumber:e.startLineNumber,startColumn:1,endLineNumber:e.startLineNumber,endColumn:1}))}if(o.length>0){o.sort(((e,t)=>e.startLineNumber-t.startLineNumber));const e=w.sanitizeAndMerge(t.regions,o,null===(n=i.getModel())||void 0===n?void 0:n.getLineCount());t.updatePost(w.fromFoldRanges(e))}}}}class Ze extends Me{constructor(){super({id:"editor.removeManualFoldingRanges",label:Q.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2137),weight:100}})}invoke(e,t,i){const n=i.getSelections();if(n){const i=[];for(const e of n){const{startLineNumber:t,endLineNumber:n}=e;i.push(n>=t?{startLineNumber:t,endLineNumber:n}:{endLineNumber:n,startLineNumber:t})}t.removeManualRanges(i),e.triggerFoldingModelChanged()}}}(0,u._K)(Re.ID,Re,0),(0,u.Qr)(Ee),(0,u.Qr)(Ae),(0,u.Qr)(Te),(0,u.Qr)(Fe),(0,u.Qr)(Ue),(0,u.Qr)(je),(0,u.Qr)(We),(0,u.Qr)(Be),(0,u.Qr)(He),(0,u.Qr)(Ve),(0,u.Qr)(ze),(0,u.Qr)(Oe),(0,u.Qr)(Ke),(0,u.Qr)(qe),(0,u.Qr)(Ge),(0,u.Qr)(Qe),(0,u.Qr)(Ze);for(let Ye=1;Ye<=7;Ye++)(0,u.QG)(new $e({id:$e.ID(Ye),label:Q.NC("foldLevelAction.label","Fold Level {0}",Ye),alias:`Fold Level ${Ye}`,precondition:Ie,kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2048|21+Ye),weight:100}}));we.P.registerCommand("_executeFoldingRangeProvider",(function(e,...t){return Le(this,void 0,void 0,(function*(){const[i]=t;if(!(i instanceof Ce.o))throw(0,r.b1)();const n=e.get(ye.p),s=e.get(Se.q).getModel(i);if(!s)throw(0,r.b1)();const a=e.get(xe.Ui);if(!a.getValue("editor.folding",{resource:i}))return[];const c=e.get(p.c_),l=a.getValue("editor.foldingStrategy",{resource:i}),d={get limit(){return a.getValue("editor.foldingMaximumRegions",{resource:i})},update:(e,t)=>{}},u=new $(s,c,d);let h=u;if("indentation"!==l){const e=Re.getFoldingRangeProviders(n,s);e.length&&(h=new ge(s,e,(()=>{}),d,u))}const m=yield h.compute(o.T.None),f=[];try{if(m)for(let e=0;e<m.length;e++){const t=m.getType(e);f.push({start:m.getStartLineNumber(e),end:m.getEndLineNumber(e),kind:t?g.AD.fromValue(t):void 0})}return f}finally{h.dispose()}}))}))},44125:(e,t,i)=>{"use strict";var n=i(16830),o=i(82334),r=i(63580);class s extends n.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){o.C.setZoomLevel(o.C.getZoomLevel()+1)}}class a extends n.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){o.C.setZoomLevel(o.C.getZoomLevel()-1)}}class c extends n.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){o.C.setZoomLevel(0)}}(0,n.Qr)(s),(0,n.Qr)(a),(0,n.Qr)(c)},61097:(e,t,i)=>{"use strict";var n=i(9488),o=i(71050),r=i(17301),s=i(22258),a=i(9917),c=i(16830),l=i(11640),d=i(44906),u=i(24314),h=i(29102),g=i(85215),p=i(71922),m=i(71373),f=i(35120),v=i(63580),_=i(94565),b=i(32064),y=i(72065),w=i(90535),C=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},S=function(e,t){return function(i,n){t(i,n,e)}},x=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let k=class{constructor(e,t,i){this._editor=e,this._languageFeaturesService=t,this._workerService=i,this._disposables=new a.SL,this._sessionDisposables=new a.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(54)&&this._update()}))),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(54))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const i=new d.q;for(const n of t.autoFormatTriggerCharacters)i.add(n.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType((e=>{const t=e.charCodeAt(e.length-1);i.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),i=this._editor.getPosition(),r=new o.A,s=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return r.cancel(),void s.dispose();for(let t=0,n=e.changes.length;t<n;t++){const n=e.changes[t];if(n.range.endLineNumber<=i.lineNumber)return r.cancel(),void s.dispose()}}));(0,m.Qs)(this._workerService,this._languageFeaturesService,t,i,e,t.getFormattingOptions(),r.token).then((e=>{r.token.isCancellationRequested||(0,n.Of)(e)&&(f.V.execute(this._editor,e,!0),(0,m.Zg)(e))})).finally((()=>{s.dispose()}))}};k.ID="editor.contrib.autoFormat",k=C([S(1,p.p),S(2,g.p)],k);let N=class{constructor(e,t,i){this.editor=e,this._languageFeaturesService=t,this._instantiationService=i,this._callOnDispose=new a.SL,this._callOnModel=new a.SL,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(53)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(m.x$,this.editor,e,2,w.Ex.None,o.T.None).catch(r.dL))}};N.ID="editor.contrib.formatOnPaste",N=C([S(1,p.p),S(2,y.TG)],N);class L extends c.R6{constructor(){super({id:"editor.action.formatDocument",label:v.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:b.Ao.and(h.u.notInCompositeEditor,h.u.writable,h.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:h.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return x(this,void 0,void 0,(function*(){if(t.hasModel()){const i=e.get(y.TG),n=e.get(w.ek);yield n.showWhile(i.invokeFunction(m.Qq,t,1,w.Ex.None,o.T.None),250)}}))}}class I extends c.R6{constructor(){super({id:"editor.action.formatSelection",label:v.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:b.Ao.and(h.u.writable,h.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:h.u.editorTextFocus,primary:(0,s.gx)(2089,2084),weight:100},contextMenuOpts:{when:h.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return x(this,void 0,void 0,(function*(){if(!t.hasModel())return;const i=e.get(y.TG),n=t.getModel(),r=t.getSelections().map((e=>e.isEmpty()?new u.e(e.startLineNumber,1,e.startLineNumber,n.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(w.ek);yield s.showWhile(i.invokeFunction(m.x$,t,r,1,w.Ex.None,o.T.None),250)}))}}(0,c._K)(k.ID,k,2),(0,c._K)(N.ID,N,2),(0,c.Qr)(L),(0,c.Qr)(I),_.P.registerCommand("editor.action.format",(e=>x(void 0,void 0,void 0,(function*(){const t=e.get(l.$).getFocusedCodeEditor();if(!t||!t.hasModel())return;const i=e.get(_.H);t.getSelection().isEmpty()?yield i.executeCommand("editor.action.formatDocument"):yield i.executeCommand("editor.action.formatSelection")}))))},81299:(e,t,i)=>{"use strict";i.d(t,{c:()=>re,v:()=>ae});var n=i(73046),o=i(9917),r=i(16830),s=i(11640),a=i(50187),c=i(24314),l=i(29102),d=i(9488),u=i(4669),h=i(91741),g=i(97295),p=i(70666),m=i(65026),f=i(72065),v=i(98674),_=i(33108),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},y=function(e,t){return function(i,n){t(i,n,e)}};class w{constructor(e,t,i){this.marker=e,this.index=t,this.total=i}}let C=class{constructor(e,t,i){this._markerService=t,this._configService=i,this._onDidChange=new u.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new o.SL,this._markers=[],this._nextIdx=-1,p.o.isUri(e)?this._resourceFilter=t=>t.toString()===e.toString():e&&(this._resourceFilter=e);const n=this._configService.getValue("problems.sortOrder"),r=(e,t)=>{let i=(0,g.qu)(e.resource.toString(),t.resource.toString());return 0===i&&(i="position"===n?c.e.compareRangesUsingStarts(e,t)||v.ZL.compare(e.severity,t.severity):v.ZL.compare(e.severity,t.severity)||c.e.compareRangesUsingStarts(e,t)),i},s=()=>{this._markers=this._markerService.read({resource:p.o.isUri(e)?e:void 0,severities:v.ZL.Error|v.ZL.Warning|v.ZL.Info}),"function"===typeof e&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(r)};s(),this._dispoables.add(t.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(s(),this._nextIdx=-1,this._onDidChange.fire())})))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new w(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,i){let n=!1,o=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));o<0&&(o=(0,d.ry)(this._markers,{resource:e.uri},((e,t)=>(0,g.qu)(e.resource.toString(),t.resource.toString()))),o<0&&(o=~o));for(let r=o;r<this._markers.length;r++){let i=c.e.lift(this._markers[r]);if(i.isEmpty()){const t=e.getWordAtPosition(i.getStartPosition());t&&(i=new c.e(i.startLineNumber,t.startColumn,i.startLineNumber,t.endColumn))}if(t&&(i.containsPosition(t)||t.isBeforeOrEqual(i.getStartPosition()))){this._nextIdx=r,n=!0;break}if(this._markers[r].resource.toString()!==e.uri.toString())break}n||(this._nextIdx=i?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,i){if(0===this._markers.length)return!1;const n=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,i,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),n!==this._nextIdx}find(e,t){let i=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(i<0))for(;i<this._markers.length;i++)if(c.e.containsPosition(this._markers[i],t))return new w(this._markers[i],i+1,this._markers.length)}};C=b([y(1,v.lT),y(2,_.Ui)],C);const S=(0,f.yh)("IMarkerNavigationService");let x=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new h.S}getMarkerList(e){for(const t of this._provider){const i=t.getMarkerList(e);if(i)return i}return new C(e,this._markerService,this._configService)}};x=b([y(0,v.lT),y(1,_.Ui)],x),(0,m.z)(S,x,1);var k,N=i(63580),L=i(84144),I=i(32064),R=i(59554),D=i(65321),M=i(63161),P=i(41264),E=i(95935),A=(i(81804),i(36943)),T=i(30833),O=i(44349),F=i(50988),W=(i(29038),i(25670)),B=i(14603);(function(e){function t(e){switch(e){case B.Z.Ignore:return"severity-ignore "+W.k.asClassName(n.l.info);case B.Z.Info:return W.k.asClassName(n.l.info);case B.Z.Warning:return W.k.asClassName(n.l.warning);case B.Z.Error:return W.k.asClassName(n.l.error);default:return""}}e.className=t})(k||(k={}));var H=i(73910),V=i(97781),z=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,n){t(i,n,e)}};class j{constructor(e,t,i,n,r){this._openerService=n,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new o.SL,this._editor=t;const s=document.createElement("div");s.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),s.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),s.appendChild(this._relatedBlock),this._disposables.add(D.mu(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&i(t)}))),this._scrollable=new M.NB(s,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{s.style.left=`-${e.scrollLeft}px`,s.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}dispose(){(0,o.B9)(this._disposables)}update(e){const{source:t,message:i,relatedInformation:n,code:o}=e;let r=((null===t||void 0===t?void 0:t.length)||0)+"()".length;o&&(r+="string"===typeof o?o.length:o.value.length);const s=(0,g.uq)(i);this._lines=s.length,this._longestLineLength=0;for(const d of s)this._longestLineLength=Math.max(d.length+r,this._longestLineLength);D.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let a=this._messageBlock;for(const d of s)a=document.createElement("div"),a.innerText=d,""===d&&(a.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(a);if(t||o){const e=document.createElement("span");if(e.classList.add("details"),a.appendChild(e),t){const i=document.createElement("span");i.innerText=t,i.classList.add("source"),e.appendChild(i)}if(o)if("string"===typeof o){const t=document.createElement("span");t.innerText=`(${o})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=D.$("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(o.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};const t=D.R3(this._codeLink,D.$("span"));t.innerText=o.value,e.appendChild(this._codeLink)}}if(D.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,d.Of)(n)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(64))}px`,this._lines+=1;for(const t of n){const i=document.createElement("div"),n=document.createElement("a");n.classList.add("filename"),n.innerText=`${this._labelService.getUriBasenameLabel(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,n.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(n,t);const o=document.createElement("span");o.innerText=t.message,i.appendChild(n),i.appendChild(o),this._lines+=1,e.appendChild(i)}}const c=this._editor.getOption(48),l=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),u=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:l,scrollHeight:u})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case v.ZL.Error:t=N.NC("Error","Error");break;case v.ZL.Warning:t=N.NC("Warning","Warning");break;case v.ZL.Info:t=N.NC("Info","Info");break;case v.ZL.Hint:t=N.NC("Hint","Hint");break}let i=N.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const n=this._editor.getModel();if(n&&e.startLineNumber<=n.getLineCount()&&e.startLineNumber>=1){const t=n.getLineContent(e.startLineNumber);i=`${t}, ${i}`}return i}}let $=class e extends A.vk{constructor(e,t,i,n,r,s,a){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},r),this._themeService=t,this._openerService=i,this._menuService=n,this._contextKeyService=s,this._labelService=a,this._callOnDispose=new o.SL,this._onDidSelectRelatedInformation=new u.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=v.ZL.Warning,this._backgroundColor=P.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(te);let t=Q,i=Z;this._severity===v.ZL.Warning?(t=Y,i=J):this._severity===v.ZL.Info&&(t=X,i=ee);const n=e.getColor(t),o=e.getColor(i);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:o,primaryHeadingColor:e.getColor(A.IH),secondaryHeadingColor:e.getColor(A.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun((e=>this.editor.focus())));const i=[],n=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);(0,T.vr)(n,void 0,i),this._actionbarWidget.push(i,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=D.R3(e,D.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new j(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,i){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const n=c.e.lift(e),o=this.editor.getPosition(),r=o&&n.containsPosition(o)?o:n.getStartPosition();super.show(r,this.computeRequiredHeight());const s=this.editor.getModel();if(s){const e=i>1?N.NC("problems","{0} of {1} problems",t,i):N.NC("change","{0} of {1} problem",t,i);this.setTitle((0,E.EZ)(s.uri),e)}this._icon.className=`codicon ${k.className(v.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(r,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};$.TitleMenu=new L.eH("gotoErrorTitleMenu"),$=z([U(1,V.XE),U(2,F.v4),U(3,L.co),U(4,f.TG),U(5,I.i6),U(6,O.e)],$);const K=(0,H.kwl)(H.lXJ,H.b6y),q=(0,H.kwl)(H.uoC,H.pW3),G=(0,H.kwl)(H.c63,H.T83),Q=(0,H.P6G)("editorMarkerNavigationError.background",{dark:K,light:K,hcDark:H.lRK,hcLight:H.lRK},N.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Z=(0,H.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,H.ZnX)(Q,.1),light:(0,H.ZnX)(Q,.1),hcDark:null,hcLight:null},N.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Y=(0,H.P6G)("editorMarkerNavigationWarning.background",{dark:q,light:q,hcDark:H.lRK,hcLight:H.lRK},N.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),J=(0,H.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,H.ZnX)(Y,.1),light:(0,H.ZnX)(Y,.1),hcDark:"#0C141F",hcLight:(0,H.ZnX)(Y,.2)},N.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),X=(0,H.P6G)("editorMarkerNavigationInfo.background",{dark:G,light:G,hcDark:H.lRK,hcLight:H.lRK},N.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),ee=(0,H.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,H.ZnX)(X,.1),light:(0,H.ZnX)(X,.1),hcDark:null,hcLight:null},N.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),te=(0,H.P6G)("editorMarkerNavigation.background",{dark:H.cvW,light:H.cvW,hcDark:H.cvW,hcLight:H.cvW},N.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var ie=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ne=function(e,t){return function(i,n){t(i,n,e)}},oe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let re=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,r){this._markerNavigationService=t,this._contextKeyService=i,this._editorService=n,this._instantiationService=r,this._sessionDispoables=new o.SL,this._editor=e,this._widgetVisible=ue.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance($,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,i,n;(null===(t=this._model)||void 0===t?void 0:t.selected)&&c.e.containsPosition(null===(i=this._model)||void 0===i?void 0:i.selected.marker,e.position)||null===(n=this._model)||void 0===n||n.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:c.e.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new a.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,i){var n,o;return oe(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const r=this._getOrCreateModel(i?void 0:this._editor.getModel().uri);if(r.move(t,this._editor.getModel(),this._editor.getPosition()),!r.selected)return;if(r.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const s=yield this._editorService.openCodeEditor({resource:r.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:r.selected.marker}},this._editor);s&&(null===(n=e.get(s))||void 0===n||n.close(),null===(o=e.get(s))||void 0===o||o.nagivate(t,i))}else this._widget.showAtMarker(r.selected.marker,r.selected.index,r.selected.total)}}))}};re.ID="editor.contrib.markerController",re=ie([ne(1,S),ne(2,I.i6),ne(3,s.$),ne(4,f.TG)],re);class se extends r.R6{constructor(e,t,i){super(i),this._next=e,this._multiFile=t}run(e,t){var i;return oe(this,void 0,void 0,(function*(){t.hasModel()&&(null===(i=re.get(t))||void 0===i||i.nagivate(this._next,this._multiFile))}))}}class ae extends se{constructor(){super(!0,!1,{id:ae.ID,label:ae.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.u.focus,primary:578,weight:100},menuOpts:{menuId:$.TitleMenu,title:ae.LABEL,icon:(0,R.q5)("marker-navigation-next",n.l.arrowDown,N.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}ae.ID="editor.action.marker.next",ae.LABEL=N.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class ce extends se{constructor(){super(!1,!1,{id:ce.ID,label:ce.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.u.focus,primary:1602,weight:100},menuOpts:{menuId:$.TitleMenu,title:ce.LABEL,icon:(0,R.q5)("marker-navigation-previous",n.l.arrowUp,N.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}ce.ID="editor.action.marker.prev",ce.LABEL=N.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class le extends se{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:N.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.u.focus,primary:66,weight:100},menuOpts:{menuId:L.eH.MenubarGoMenu,title:N.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class de extends se{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:N.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:l.u.focus,primary:1090,weight:100},menuOpts:{menuId:L.eH.MenubarGoMenu,title:N.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,r._K)(re.ID,re,4),(0,r.Qr)(ae),(0,r.Qr)(ce),(0,r.Qr)(le),(0,r.Qr)(de);const ue=new I.uy("markersNavigationVisible",!1),he=r._l.bindToContribution(re.get);(0,r.fK)(new he({id:"closeMarkersNavigation",precondition:ue,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:l.u.focus,primary:9,secondary:[1033]}}))},95817:(e,t,i)=>{"use strict";i.d(t,{BT:()=>ie});var n=i(16268),o=i(85152),r=i(15393),s=i(22258),a=i(1432),c=i(98401),l=i(70666),d=i(14410),u=i(65520),h=i(16830),g=i(11640),p=i(84527),m=i(50187),f=i(24314),v=i(29102),_=i(43155),b=i(29010),y=i(1293),w=i(4669),C=i(9917),S=i(95935),x=i(63580),k=i(32064),N=i(65026),L=i(72065),I=i(91847),R=i(49989),D=i(59422),M=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},P=function(e,t){return function(i,n){t(i,n,e)}};const E=new k.uy("hasSymbols",!1,(0,x.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),A=(0,L.yh)("ISymbolNavigationService");let T=class{constructor(e,t,i,n){this._editorService=t,this._notificationService=i,this._keybindingService=n,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=E.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const i=new O(this._editorService),n=i.onDidChange((e=>{if(this._ignoreEditorChange)return;const i=this._editorService.getActiveCodeEditor();if(!i)return;const n=i.getModel(),o=i.getPosition();if(!n||!o)return;let r=!1,s=!1;for(const a of t.references)if((0,S.Xy)(a.uri,n.uri))r=!0,s=s||f.e.containsPosition(a.range,o);else if(r)break;r&&s||this.reset()}));this._currentState=(0,C.F8)(i,n)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:f.e.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),i=t?(0,x.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,x.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(i)}};T=M([P(0,k.i6),P(1,g.$),P(2,D.lT),P(3,I.d)],T),(0,N.z)(A,T,1),(0,h.fK)(new class extends h._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:E,kbOpts:{weight:100,primary:70}})}runEditorCommand(e,t){return e.get(A).revealNext(t)}}),R.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:E,primary:9,handler(e){e.get(A).reset()}});let O=class{constructor(e){this._listener=new Map,this._disposables=new C.SL,this._onDidChange=new w.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,C.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,C.F8)(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}};O=M([P(0,g.$)],O);var F,W,B,H,V,z,U,j,$=i(27753),K=i(36943),q=i(84144),G=i(94565),Q=i(90535),Z=i(40184),Y=i(71922),J=i(53725),X=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};q.BH.appendMenuItem(q.eH.EditorContext,{submenu:q.eH.EditorContextPeek,title:x.NC("peek.submenu","Peek"),group:"navigation",order:100});class ee{static is(e){return!(!e||"object"!==typeof e)&&(e instanceof ee||!(!m.L.isIPosition(e.position)||!e.model))}constructor(e,t){this.model=e,this.position=t}}class te extends h.x1{static all(){return te._allSymbolNavigationCommands.values()}static _patchConfig(e){const t=Object.assign(Object.assign({},e),{f1:!0});if(t.menu)for(const i of J.$.wrap(t.menu))i.id!==q.eH.EditorContext&&i.id!==q.eH.EditorContextPeek||(i.when=k.Ao.and(e.precondition,i.when));return t}constructor(e,t){super(te._patchConfig(t)),this.configuration=e,te._allSymbolNavigationCommands.set(t.id,this)}runEditorCommand(e,t,i,n){if(!t.hasModel())return Promise.resolve(void 0);const s=e.get(D.lT),a=e.get(g.$),c=e.get(Q.ek),l=e.get(A),u=e.get(Y.p),h=e.get(L.TG),p=t.getModel(),m=t.getPosition(),f=ee.is(i)?i:new ee(p,m),v=new d.Dl(t,5),_=(0,r.eP)(this._getLocationModel(u,f.model,f.position,v.token),v.token).then((e=>X(this,void 0,void 0,(function*(){var r;if(!e||v.token.isCancellationRequested)return;let s;if((0,o.Z9)(e.ariaMessage),e.referenceAt(p.uri,m)){const e=this._getAlternativeCommand(t);!te._activeAlternativeCommands.has(e)&&te._allSymbolNavigationCommands.has(e)&&(s=te._allSymbolNavigationCommands.get(e))}const c=e.references.length;if(0===c){if(!this.configuration.muteMessage){const e=p.getWordAtPosition(m);null===(r=$.O.get(t))||void 0===r||r.showMessage(this._getNoResultFoundMessage(e),m)}}else{if(1!==c||!s)return this._onResult(a,l,t,e,n);te._activeAlternativeCommands.add(this.desc.id),h.invokeFunction((e=>s.runEditorCommand(e,t,i,n).finally((()=>{te._activeAlternativeCommands.delete(this.desc.id)}))))}}))),(e=>{s.error(e)})).finally((()=>{v.dispose()}));return c.showWhile(_,250),_}_onResult(e,t,i,n,o){return X(this,void 0,void 0,(function*(){const r=this._getGoToPreference(i);if(i instanceof p.H||!(this.configuration.openInPeek||"peek"===r&&n.references.length>1)){const s=n.firstReference(),a=n.references.length>1&&"gotoAndPeek"===r,c=yield this._openReference(i,e,s,this.configuration.openToSide,!a);a&&c?this._openInPeek(c,n,o):n.dispose(),"goto"===r&&t.put(s)}else this._openInPeek(i,n,o)}))}_openReference(e,t,i,n,o){return X(this,void 0,void 0,(function*(){let r;if((0,_.vx)(i)&&(r=i.targetSelectionRange),r||(r=i.range),!r)return;const s=yield t.openCodeEditor({resource:i.uri,options:{selection:f.e.collapseToStart(r),selectionRevealType:3,selectionSource:"code.jump"}},e,n);if(s){if(o){const e=s.getModel(),t=s.createDecorationsCollection([{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{s.getModel()===e&&t.clear()}),350)}return s}}))}_openInPeek(e,t,i){const n=b.J.get(e);n&&e.hasModel()?n.toggleWidget(null!==i&&void 0!==i?i:e.getSelection(),(0,r.PG)((e=>Promise.resolve(t))),this.configuration.openInPeek):t.dispose()}}te._allSymbolNavigationCommands=new Map,te._activeAlternativeCommands=new Set;class ie extends te{_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.nD)(e.definitionProvider,t,i,n),x.NC("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?x.NC("noResultWord","No definition found for '{0}'",e.word):x.NC("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(56).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(56).multipleDefinitions}}const ne=a.$L&&!(0,n.isStandalone)()?2118:70;(0,q.r1)((F=class e extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:x.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:x.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:k.Ao.and(v.u.hasDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:ne,weight:100},menu:[{id:q.eH.EditorContext,group:"navigation",order:1.1},{id:q.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),G.P.registerCommandAlias("editor.action.goToDeclaration",e.id)}},F.id="editor.action.revealDefinition",F)),(0,q.r1)((W=class e extends ie{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:x.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:k.Ao.and(v.u.hasDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:(0,s.gx)(2089,ne),weight:100}}),G.P.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}},W.id="editor.action.revealDefinitionAside",W)),(0,q.r1)((B=class e extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,title:{value:x.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:k.Ao.and(v.u.hasDefinitionProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:q.eH.EditorContextPeek,group:"peek",order:2}}),G.P.registerCommandAlias("editor.action.previewDeclaration",e.id)}},B.id="editor.action.peekDefinition",B));class oe extends te{_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.zq)(e.declarationProvider,t,i,n),x.NC("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?x.NC("decl.noResultWord","No declaration found for '{0}'",e.word):x.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(56).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(56).multipleDeclarations}}(0,q.r1)((H=class e extends oe{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,title:{value:x.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:x.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:k.Ao.and(v.u.hasDeclarationProvider,v.u.isInWalkThroughSnippet.toNegated()),menu:[{id:q.eH.EditorContext,group:"navigation",order:1.3},{id:q.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(e){return e&&e.word?x.NC("decl.noResultWord","No declaration found for '{0}'",e.word):x.NC("decl.generic.noResults","No declaration found")}},H.id="editor.action.revealDeclaration",H)),(0,q.r1)(class extends oe{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:x.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:k.Ao.and(v.u.hasDeclarationProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),menu:{id:q.eH.EditorContextPeek,group:"peek",order:3}})}});class re extends te{_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.L3)(e.typeDefinitionProvider,t,i,n),x.NC("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?x.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):x.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(56).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(56).multipleTypeDefinitions}}(0,q.r1)((V=class e extends re{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:x.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:x.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:k.Ao.and(v.u.hasTypeDefinitionProvider,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:0,weight:100},menu:[{id:q.eH.EditorContext,group:"navigation",order:1.4},{id:q.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},V.ID="editor.action.goToTypeDefinition",V)),(0,q.r1)((z=class e extends re{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:x.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:k.Ao.and(v.u.hasTypeDefinitionProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),menu:{id:q.eH.EditorContextPeek,group:"peek",order:4}})}},z.ID="editor.action.peekTypeDefinition",z));class se extends te{_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.f4)(e.implementationProvider,t,i,n),x.NC("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?x.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):x.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(56).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(56).multipleImplementations}}(0,q.r1)((U=class e extends se{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,title:{value:x.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:x.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:k.Ao.and(v.u.hasImplementationProvider,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:2118,weight:100},menu:[{id:q.eH.EditorContext,group:"navigation",order:1.45},{id:q.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},U.ID="editor.action.goToImplementation",U)),(0,q.r1)((j=class e extends se{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,title:{value:x.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:k.Ao.and(v.u.hasImplementationProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:3142,weight:100},menu:{id:q.eH.EditorContextPeek,group:"peek",order:5}})}},j.ID="editor.action.peekImplementation",j));class ae extends te{_getNoResultFoundMessage(e){return e?x.NC("references.no","No references found for '{0}'",e.word):x.NC("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(56).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(56).multipleReferences}}(0,q.r1)(class extends ae{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:x.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:x.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:k.Ao.and(v.u.hasReferenceProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:v.u.editorTextFocus,primary:1094,weight:100},menu:[{id:q.eH.EditorContext,group:"navigation",order:1.45},{id:q.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.aA)(e.referenceProvider,t,i,!0,n),x.NC("ref.title","References"))}))}}),(0,q.r1)(class extends ae{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:x.NC("references.action.label","Peek References"),original:"Peek References"},precondition:k.Ao.and(v.u.hasReferenceProvider,K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated()),menu:{id:q.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(yield(0,Z.aA)(e.referenceProvider,t,i,!1,n),x.NC("ref.title","References"))}))}});class ce extends te{constructor(e,t,i){super(e,{id:"editor.action.goToLocation",title:{value:x.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:k.Ao.and(K.Jy.notInPeekEditor,v.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=i}_getLocationModel(e,t,i,n){return X(this,void 0,void 0,(function*(){return new y.oQ(this._references,x.NC("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&x.NC("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(56).multipleReferences}_getAlternativeCommand(){return""}}G.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:l.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,i,n,o,r,s)=>X(void 0,void 0,void 0,(function*(){(0,c.p_)(l.o.isUri(t)),(0,c.p_)(m.L.isIPosition(i)),(0,c.p_)(Array.isArray(n)),(0,c.p_)("undefined"===typeof o||"string"===typeof o),(0,c.p_)("undefined"===typeof s||"boolean"===typeof s);const a=e.get(g.$),d=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if((0,u.CL)(d))return d.setPosition(i),d.revealPositionInCenterIfOutsideViewport(i,0),d.invokeWithinContext((e=>{const t=new class extends ce{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},n,o);e.get(L.TG).invokeFunction(t.run.bind(t),d)}))}))}),G.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:l.o},{name:"position",description:"The position at which to start",constraint:m.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,i,n,o)=>X(void 0,void 0,void 0,(function*(){e.get(G.H).executeCommand("editor.action.goToLocations",t,i,n,o,void 0,!0)}))}),G.P.registerCommand({id:"editor.action.findReferences",handler:(e,t,i)=>{(0,c.p_)(l.o.isUri(t)),(0,c.p_)(m.L.isIPosition(i));const n=e.get(Y.p),o=e.get(g.$);return o.openCodeEditor({resource:t},o.getFocusedCodeEditor()).then((e=>{if(!(0,u.CL)(e)||!e.hasModel())return;const t=b.J.get(e);if(!t)return;const o=(0,r.PG)((t=>(0,Z.aA)(n.referenceProvider,e.getModel(),m.L.lift(i),!1,t).then((e=>new y.oQ(e,x.NC("ref.title","References")))))),s=new f.e(i.lineNumber,i.column,i.lineNumber,i.column);return Promise.resolve(t.toggleWidget(s,o,!1))}))}}),G.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},40184:(e,t,i)=>{"use strict";i.d(t,{L3:()=>p,aA:()=>m,f4:()=>g,nD:()=>u,zq:()=>h});var n=i(9488),o=i(71050),r=i(17301),s=i(16830),a=i(71922),c=i(1293),l=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function d(e,t,i,o){return l(this,void 0,void 0,(function*(){const s=i.ordered(e),a=s.map((i=>Promise.resolve(o(i,e,t)).then(void 0,(e=>{(0,r.Cp)(e)})))),c=yield Promise.all(a);return(0,n.kX)(c.flat())}))}function u(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideDefinition(t,i,n)))}function h(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideDeclaration(t,i,n)))}function g(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideImplementation(t,i,n)))}function p(e,t,i,n){return d(t,i,e,((e,t,i)=>e.provideTypeDefinition(t,i,n)))}function m(e,t,i,n,o){return d(t,i,e,((e,t,i)=>l(this,void 0,void 0,(function*(){const r=yield e.provideReferences(t,i,{includeDeclaration:!0},o);if(!n||!r||2!==r.length)return r;const s=yield e.provideReferences(t,i,{includeDeclaration:!1},o);return s&&1===s.length?s:r}))))}function f(e){return l(this,void 0,void 0,(function*(){const t=yield e(),i=new c.oQ(t,""),n=i.references.map((e=>e.link));return i.dispose(),n}))}(0,s.sb)("_executeDefinitionProvider",((e,t,i)=>{const n=e.get(a.p),r=u(n.definitionProvider,t,i,o.T.None);return f((()=>r))})),(0,s.sb)("_executeTypeDefinitionProvider",((e,t,i)=>{const n=e.get(a.p),r=p(n.typeDefinitionProvider,t,i,o.T.None);return f((()=>r))})),(0,s.sb)("_executeDeclarationProvider",((e,t,i)=>{const n=e.get(a.p),r=h(n.declarationProvider,t,i,o.T.None);return f((()=>r))})),(0,s.sb)("_executeReferenceProvider",((e,t,i)=>{const n=e.get(a.p),r=m(n.referenceProvider,t,i,!1,o.T.None);return f((()=>r))})),(0,s.sb)("_executeImplementationProvider",((e,t,i)=>{const n=e.get(a.p),r=g(n.implementationProvider,t,i,o.T.None);return f((()=>r))}))},82005:(e,t,i)=>{"use strict";i.d(t,{yN:()=>u});var n=i(4669),o=i(9917),r=i(1432);function s(e,t){return!!e[t]}class a{constructor(e,t){this.target=e.target,this.isLeftClick=e.event.leftButton,this.isMiddleClick=e.event.middleButton,this.isRightClick=e.event.rightButton,this.hasTriggerModifier=s(e.event,t.triggerModifier),this.hasSideBySideModifier=s(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class c{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=s(e,t.triggerModifier)}}class l{constructor(e,t,i,n){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=i,this.triggerSideBySideModifier=n}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function d(e){return"altKey"===e?r.dz?new l(57,"metaKey",6,"altKey"):new l(5,"ctrlKey",6,"altKey"):r.dz?new l(6,"altKey",57,"metaKey"):new l(6,"altKey",5,"ctrlKey")}class u extends o.JT{constructor(e,t){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new n.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new n.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new n.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._alwaysFireExecuteOnMouseUp=t,this._opts=d(this._editor.getOption(75)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(75)){const e=d(this._editor.getOption(75));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new a(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new a(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new a(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new c(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new c(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;(this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t||this._alwaysFireExecuteOnMouseUp)&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},22470:(e,t,i)=>{"use strict";i.d(t,{S:()=>x});var n=i(15393),o=i(17301),r=i(59365),s=i(9917),a=i(98401),c=(i(87654),i(14410)),l=i(16830),d=i(24314),u=i(72042),h=i(88216),g=i(82005),p=i(36943),m=i(63580),f=i(32064),v=i(95817),_=i(40184),b=i(71922),y=i(51722),w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},C=function(e,t){return function(i,n){t(i,n,e)}},S=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let x=class e{constructor(e,t,i,n){this.textModelResolverService=t,this.languageService=i,this.languageFeaturesService=n,this.toUnhook=new s.SL,this.toUnhookForKeyboard=new s.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const r=new g.yN(e);this.toUnhook.add(r),this.toUnhook.add(r.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,(0,a.f6)(t))}))),this.toUnhook.add(r.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).catch((e=>{(0,o.dL)(e)})).finally((()=>{this.removeLinkDecorations()}))}))),this.toUnhook.add(r.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return S(this,void 0,void 0,(function*(){yield this.startFindDefinition(e),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const i=e.target.position;this.startFindDefinition(i)}startFindDefinition(e){var t;return S(this,void 0,void 0,(function*(){this.toUnhookForKeyboard.clear();const i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,void this.removeLinkDecorations();if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return;this.currentWordAtPosition=i;const s=new c.yy(this.editor,15);let a;this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,n.PG)((t=>this.findDefinition(e,t)));try{a=yield this.previousPromise}catch(u){return void(0,o.dL)(u)}if(!a||!a.length||!s.validate(this.editor))return void this.removeLinkDecorations();const l=a[0].originSelectionRange?d.e.lift(a[0].originSelectionRange):new d.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);if(a.length>1){let e=l;for(const{originSelectionRange:t}of a)t&&(e=d.e.plusRange(e,t));this.addDecoration(e,(new r.W5).appendText(m.NC("multipleResults","Click to show {0} definitions.",a.length)))}else{const e=a[0];if(!e.uri)return;this.textModelResolverService.createModelReference(e.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:i}}=t,{startLineNumber:n}=e.range;if(n<1||n>i.getLineCount())return void t.dispose();const o=this.getPreviewValue(i,n,e),s=this.languageService.guessLanguageIdByFilepathOrFirstLine(i.uri);this.addDecoration(l,o?(new r.W5).appendCodeblock(s||"",o):void 0),t.dispose()}))}}))}getPreviewValue(t,i,n){let o=n.range;const r=o.endLineNumber-o.startLineNumber;r>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,i));const s=this.stripIndentationFromPreviewRange(t,i,o);return s}stripIndentationFromPreviewRange(e,t,i){const n=e.getLineFirstNonWhitespaceColumn(t);let o=n;for(let s=t+1;s<i.endLineNumber;s++){const t=e.getLineFirstNonWhitespaceColumn(s);o=Math.min(o,t)}const r=e.getValueInRange(i).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim();return r}getPreviewRangeBasedOnIndentation(t,i){const n=t.getLineFirstNonWhitespaceColumn(i),o=Math.min(t.getLineCount(),i+e.MAX_SOURCE_PREVIEW_LINES);let r=i+1;for(;r<o;r++){const e=t.getLineFirstNonWhitespaceColumn(r);if(n===e)break}return new d.e(i,1,r+1,1)}addDecoration(e,t){const i={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([i])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){var i;return this.editor.hasModel()&&e.isLeftClick&&e.isNoneOrSingleMouseDown&&6===e.target.type&&!((null===(i=e.target.detail.injectedText)||void 0===i?void 0:i.options)instanceof y.HS)&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const i=this.editor.getModel();return i?(0,_.nD)(this.languageFeaturesService.definitionProvider,i,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const i=!t&&this.editor.getOption(84)&&!this.isInPeekEditor(e),n=new v.BT({openToSide:t,openInPeek:i,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0});return n.run(e)}))}isInPeekEditor(e){const t=e.get(f.i6);return p.Jy.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};x.ID="editor.contrib.gotodefinitionatposition",x.MAX_SOURCE_PREVIEW_LINES=8,x=w([C(1,h.S),C(2,u.O),C(3,b.p)],x),(0,l._K)(x.ID,x,2)},29010:(e,t,i)=>{"use strict";i.d(t,{J:()=>de});var n=i(15393),o=i(17301),r=i(22258),s=i(9917),a=i(11640),c=i(50187),l=i(24314),d=i(36943),u=i(63580),h=i(94565),g=i(33108),p=i(32064),m=i(72065),f=i(49989),v=i(74615),_=i(59422),b=i(87060),y=i(1293),w=i(65321),C=i(23937),S=i(41264),x=i(4669),k=i(66663),N=i(95935),L=(i(14619),i(84527)),I=i(51722),R=i(4256),D=i(68801),M=i(72042),P=i(88216),E=i(67488),A=i(34650),T=i(59834),O=i(75392),F=i(91847),W=i(44349),B=i(86253),H=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},V=function(e,t){return function(i,n){t(i,n,e)}};let z=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof y.oQ||e instanceof y.F2}getChildren(e){if(e instanceof y.oQ)return e.groups;if(e instanceof y.F2)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}};z=H([V(0,P.S)],z);class U{getHeight(){return 23}getTemplateId(e){return e instanceof y.F2?q.id:Q.id}}let j=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof y.WX){const i=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(i)return i.value}return(0,N.EZ)(e.uri)}};j=H([V(0,F.d)],j);class ${getId(e){return e instanceof y.WX?e.id:e.uri}}let K=class extends s.JT{constructor(e,t){super(),this._labelService=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new T.g(i,{supportHighlights:!0})),this.badge=new E.Z(w.R3(i,w.$(".count")),{},B.ku),e.appendChild(i)}set(e,t){const i=(0,N.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(i,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const n=e.children.length;this.badge.setCount(n),n>1?this.badge.setTitleFormat((0,u.NC)("referencesCount","{0} references",n)):this.badge.setTitleFormat((0,u.NC)("referenceCount","{0} reference",n))}};K=H([V(1,W.e)],K);let q=class e{constructor(t){this._instantiationService=t,this.templateId=e.id}renderTemplate(e){return this._instantiationService.createInstance(K,e)}renderElement(e,t,i){i.set(e.element,(0,O.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};q.id="FileReferencesRenderer",q=H([V(0,m.TG)],q);class G{constructor(e){this.label=new A.q(e)}set(e,t){var i;const n=null===(i=e.parent.getPreview(e))||void 0===i?void 0:i.preview(e.range);if(n&&n.value){const{value:e,highlight:i}=n;t&&!O.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,(0,O.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[i]))}else this.label.set(`${(0,N.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}}class Q{constructor(){this.templateId=Q.id}renderTemplate(e){return new G(e)}renderElement(e,t,i){i.set(e.element,e.filterData)}disposeTemplate(){}}Q.id="OneReferenceRenderer";class Z{getWidgetAriaLabel(){return(0,u.NC)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Y=i(97781),J=i(64862),X=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ee=function(e,t){return function(i,n){t(i,n,e)}},te=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class ie{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new s.SL,this._callOnModelChange=new s.SL,this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(const t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],i=[];for(let n=0,o=e.children.length;n<o;n++){const o=e.children[n];this._decorationIgnoreSet.has(o.id)||o.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:o.range,options:ie.DecorationOptions}),i.push(n))}this._editor.changeDecorations((n=>{const o=n.deltaDecorations([],t);for(let t=0;t<o.length;t++)this._decorations.set(o[t],e.children[i[t]])}))}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(const[i,n]of this._decorations){const o=t.getDecorationRange(i);if(!o)continue;let r=!1;if(!l.e.equalsRange(o,n.range)){if(l.e.spansMultipleLines(o))r=!0;else{const e=n.range.endColumn-n.range.startColumn,t=o.endColumn-o.startColumn;e!==t&&(r=!0)}r?(this._decorationIgnoreSet.add(n.id),e.push(i)):n.range=o}}for(let t=0,i=e.length;t<i;t++)this._decorations.delete(e[t]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ie.DecorationOptions=I.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class ne{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,i;try{const n=JSON.parse(e);t=n.ratio,i=n.heightInLines}catch(n){}return{ratio:t||.7,heightInLines:i||18}}}class oe extends v.ls{}let re=class extends d.vk{constructor(e,t,i,n,o,r,a,c,l,d,u,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},r),this._defaultTreeKeyboardSupport=t,this.layoutData=i,this._textModelResolverService=o,this._instantiationService=r,this._peekViewService=a,this._uriLabel=c,this._undoRedoService=l,this._keybindingService=d,this._languageService=u,this._languageConfigurationService=h,this._disposeOnNewModel=new s.SL,this._callOnDispose=new s.SL,this._onDidSelectReference=new x.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new w.Ro(0,0),this._applyTheme(n.getColorTheme()),this._callOnDispose.add(n.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,s.B9)(this._preview),(0,s.B9)(this._previewNotAvailableMessage),(0,s.B9)(this._tree),(0,s.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(d.SC)||S.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(d.KY)||S.Il.transparent,primaryHeadingColor:e.getColor(d.IH),secondaryHeadingColor:e.getColor(d.R7)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=w.R3(e,w.$("div.messages")),w.Cp(this._messageContainer),this._splitView=new C.z(e,{orientation:1}),this._previewContainer=w.R3(e,w.$("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(L.H,this._previewContainer,t,{},this.editor),w.Cp(this._previewContainer),this._previewNotAvailableMessage=new I.yO(u.NC("missingPreviewMessage","no preview available"),D.bd,I.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=w.R3(e,w.$("div.ref-tree.inline"));const i={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Z,keyboardNavigationLabelProvider:this._instantiationService.createInstance(j),identityProvider:new $,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:d.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(w.mu(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(oe,"ReferencesWidget",this._treeContainer,new U,[this._instantiationService.createInstance(q),this._instantiationService.createInstance(Q)],this._instantiationService.createInstance(z),i),this._splitView.addView({onDidChange:x.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},C.M.Distribute),this._splitView.addView({onDidChange:x.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},C.M.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));const n=(e,t)=>{e instanceof y.WX&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?n(e.element,"side"):e.editorOptions.pinned?n(e.element,"goto"):n(e.element,"show")})),w.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new w.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.NC("noResults","No results"),w.$Z(this._messageContainer),Promise.resolve(void 0)):(w.Cp(this._messageContainer),this._decorationsManager=new ie(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:i}=e;if(2!==t.detail)return;const n=this._getFocusedReference();n&&this._onDidSelectReference.fire({element:{uri:n.uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),w.$Z(this._treeContainer),w.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof y.WX?e:e instanceof y.F2&&e.children.length>0?e.children[0]:void 0}revealReference(e){return te(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return te(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==k.lg.inMemory?this.setTitle((0,N.Hx)(e.uri),this._uriLabel.getUriLabel((0,N.XX)(e.uri))):this.setTitle(u.NC("peekView.alternateTitle","References"));const i=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const n=yield i;if(!this._model)return void n.dispose();(0,s.B9)(this._previewModelReference);const o=n.object;if(o){const t=this._preview.getModel()===o.textEditorModel?0:1,i=l.e.lift(e.range).collapseToStart();this._previewModelReference=n,this._preview.setModel(o.textEditorModel),this._preview.setSelection(i),this._preview.revealRangeInCenter(i,t)}else this._preview.setModel(this._previewNotAvailableMessage),n.dispose()}))}};re=X([ee(3,Y.XE),ee(4,P.S),ee(5,m.TG),ee(6,d.Fw),ee(7,W.e),ee(8,J.tJ),ee(9,F.d),ee(10,M.O),ee(11,R.c_)],re);var se=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ae=function(e,t){return function(i,n){t(i,n,e)}},ce=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const le=new p.uy("referenceSearchVisible",!1,u.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let de=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,o,r,a,c){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=n,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=c,this._disposables=new s.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=le.bindTo(i)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,i){let n;if(this._widget&&(n=this._widget.position),this.closeWidget(),n&&e.containsPosition(n))return;this._peekMode=i,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const o="peekViewLayout",r=ne.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(re,this._editor,this._defaultTreeKeyboardSupport,r),this._widget.setTitle(u.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{const{element:t,kind:n}=e;if(t)switch(n){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":i?this._gotoReference(t,!0):this.openReference(t,!1,!0);break}})));const s=++this._requestIdPool;t.then((t=>{var i;if(s===this._requestIdPool&&this._widget)return null===(i=this._model)||void 0===i||i.dispose(),this._model=t,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(u.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const t=this._editor.getModel().uri,i=new c.L(e.startLineNumber,e.startColumn),n=this._model.nearestReference(t,i);if(n)return this._widget.setSelection(n).then((()=>{this._widget&&"editor"===this._editor.getOption(83)&&this._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return ce(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const i=this._model.nearestReference(this._editor.getModel().uri,t);if(!i)return;const n=this._model.nextOrPreviousReference(i,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(n),yield this._gotoReference(n,!1),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return ce(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,i;null===(t=this._widget)||void 0===t||t.dispose(),null===(i=this._model)||void 0===i||i.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t,i){var r;null===(r=this._widget)||void 0===r||r.hide(),this._ignoreModelChangeEvent=!0;const s=l.e.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:s,selectionSource:"code.jump",pinned:i}},this._editor).then((t=>{var i;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(s),this._widget.focusOnReferenceTree();else{const o=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),null===o||void 0===o||o.toggleWidget(s,(0,n.PG)((e=>Promise.resolve(r))),null!==(i=this._peekMode)&&void 0!==i&&i)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,(0,o.dL)(e)}))}openReference(e,t,i){t||this.closeWidget();const{uri:n,range:o}=e;this._editorService.openCodeEditor({resource:n,options:{selection:o,selectionSource:"code.jump",pinned:i}},this._editor,t)}};function ue(e,t){const i=(0,d.rc)(e);if(!i)return;const n=de.get(i);n&&t(n)}de.ID="editor.contrib.referencesController",de=se([ae(2,p.i6),ae(3,a.$),ae(4,_.lT),ae(5,m.TG),ae(6,b.Uy),ae(7,g.Ui)],de),f.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,r.gx)(2089,60),when:p.Ao.or(le,d.Jy.inPeekEditor),handler(e){ue(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),f.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:p.Ao.or(le,d.Jy.inPeekEditor),handler(e){ue(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),f.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:p.Ao.or(le,d.Jy.inPeekEditor),handler(e){ue(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),h.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),h.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),h.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),h.P.registerCommand("closeReferenceSearch",(e=>ue(e,(e=>e.closeWidget())))),f.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:p.Ao.and(d.Jy.inPeekEditor,p.Ao.not("config.editor.stablePeek"))}),f.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:p.Ao.and(le,p.Ao.not("config.editor.stablePeek"))}),f.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:p.Ao.and(le,v.CQ,v.PS.negate(),v.uJ.negate()),handler(e){var t;const i=e.get(v.Lw),n=null===(t=i.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof y.WX&&ue(e,(e=>e.revealReference(n[0])))}}),f.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:p.Ao.and(le,v.CQ,v.PS.negate(),v.uJ.negate()),handler(e){var t;const i=e.get(v.Lw),n=null===(t=i.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof y.WX&&ue(e,(e=>e.openReference(n[0],!0,!0)))}}),h.P.registerCommand("openReference",(e=>{var t;const i=e.get(v.Lw),n=null===(t=i.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof y.WX&&ue(e,(e=>e.openReference(n[0],!1,!0)))}))},1293:(e,t,i)=>{"use strict";i.d(t,{F2:()=>m,WX:()=>g,oQ:()=>f});var n=i(17301),o=i(4669),r=i(44742),s=i(9917),a=i(43702),c=i(95935),l=i(97295),d=i(24314),u=i(63580),h=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class g{constructor(e,t,i,n){this.isProviderFirst=e,this.parent=t,this.link=i,this._rangeCallback=n,this.id=r.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,u.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,c.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,u.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,c.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class p{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const i=this._modelReference.object.textEditorModel;if(!i)return;const{startLineNumber:n,startColumn:o,endLineNumber:r,endColumn:s}=e,a=i.getWordUntilPosition({lineNumber:n,column:o-t}),c=new d.e(n,a.startColumn,n,o),l=new d.e(r,s,r,1073741824),u=i.getValueInRange(c).replace(/^\s+/,""),h=i.getValueInRange(e),g=i.getValueInRange(l).replace(/\s+$/,"");return{value:u+h+g,highlight:{start:u.length,end:u.length+h.length}}}}class m{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new a.Y9}dispose(){(0,s.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?(0,u.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,c.EZ)(this.uri),this.uri.fsPath):(0,u.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,c.EZ)(this.uri),this.uri.fsPath)}resolve(e){return h(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(const i of this.children)if(!this._previews.has(i.uri))try{const t=yield e.createModelReference(i.uri);this._previews.set(i.uri,new p(t))}catch(t){(0,n.dL)(t)}return this}))}}class f{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new o.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[i]=e;let n;e.sort(f._compareReferences);for(const o of e)if(n&&c.SF.isEqual(n.uri,o.uri,!0)||(n=new m(this,o.uri),this.groups.push(n)),0===n.children.length||0!==f._compareReferences(o,n.children[n.children.length-1])){const e=new g(i===o,n,o,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),n.children.push(e)}}dispose(){(0,s.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new f(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,u.NC)("aria.result.0","No results found"):1===this.references.length?(0,u.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,u.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,u.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:i}=e;let n=i.children.indexOf(e);const o=i.children.length,r=i.parent.groups.length;return 1===r||t&&n+1<o||!t&&n>0?(n=t?(n+1)%o:(n+o-1)%o,i.children[n]):(n=i.parent.groups.indexOf(i),t?(n=(n+1)%r,i.parent.groups[n].children[0]):(n=(n+r-1)%r,i.parent.groups[n].children[i.parent.groups[n].children.length-1]))}nearestReference(e,t){const i=this.references.map(((i,n)=>({idx:n,prefixLen:l.Mh(i.uri.toString(),e.toString()),offsetDist:100*Math.abs(i.range.startLineNumber-t.lineNumber)+Math.abs(i.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(i)return this.references[i.idx]}referenceAt(e,t){for(const i of this.references)if(i.uri.toString()===e.toString()&&d.e.containsPosition(i.range,t))return i}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return c.SF.compare(e.uri,t.uri)||d.e.compareRangesUsingStarts(e.range,t.range)}}},43766:(e,t,i)=>{"use strict";i.d(t,{E:()=>De});var n=i(22258),o=i(9917),r=i(16830),s=i(24314),a=i(29102),c=i(72042),l=i(22470),d=i(65321),u=i(59069),h=i(63161);i(84264);const g=d.$;class p extends o.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new h.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class m extends o.JT{static render(e,t,i){return new m(e,t,i)}constructor(e,t,i){super(),this.actionContainer=d.R3(e,g("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=d.R3(this.actionContainer,g("a.action")),this.action.setAttribute("role","button"),t.iconClass&&d.R3(this.action,g(`span.icon.${t.iconClass}`));const n=d.R3(this.action,g("span"));n.textContent=i?`${t.label} (${i})`:t.label,this._register(d.nm(this.actionContainer,d.tw.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)}))),this._register(d.nm(this.actionContainer,d.tw.KEY_DOWN,(e=>{const i=new u.y(e);(i.equals(3)||i.equals(10))&&(e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer))}))),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var f=i(9488),v=i(50187),_=i(51722),b=i(43155),y=i(15393),w=i(17301),C=i(4669),S=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))},x=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(t){return new Promise((function(n,r){t=e[i](t),o(n,r,t.done,t.value)}))}}function o(e,t,i,n){Promise.resolve(n).then((function(t){e({value:t,done:i})}),t)}};class k{constructor(e,t,i){this.value=e,this.isComplete=t,this.hasLoadingMessage=i}}class N extends o.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new C.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new y.pY((()=>this._triggerAsyncComputation()),0)),this._secondWaitScheduler=this._register(new y.pY((()=>this._triggerSyncComputation()),0)),this._loadingMessageScheduler=this._register(new y.pY((()=>this._triggerLoadingMessage()),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(58).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,y.zS)((e=>this._computer.computeAsync(e))),(()=>{S(this,void 0,void 0,(function*(){var e,t,i,n;try{try{for(var o,r=!0,s=x(this._asyncIterable);o=yield s.next(),e=o.done,!e;){n=o.value,r=!1;try{const e=n;e&&(this._result.push(e),this._fireResult())}finally{r=!0}}}catch(a){t={error:a}}finally{try{r||e||!(i=s.return)||(yield i.call(s))}finally{if(t)throw t.error}}this._asyncIterableDone=!0,3!==this._state&&4!==this._state||this._setState(0)}catch(c){(0,w.dL)(c)}}))})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const e=0===this._state,t=4===this._state;this._onResult.fire(new k(this._result.slice(0),e,t))}start(e){if(0===e)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}var L=i(66520),I=i(32064),R=i(72065),D=i(91847),M=i(55621),P=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,n){t(i,n,e)}};const A=d.$;let T=class e extends o.JT{constructor(e,t,i){super(),this._editor=e,this._instantiationService=t,this._keybindingService=i,this._widget=this._register(this._instantiationService.createInstance(B,this._editor)),this._currentResult=null,this._participants=[];for(const n of L.Ae.getAll())this._participants.push(this._instantiationService.createInstance(n,this._editor));this._participants.sort(((e,t)=>e.hoverOrdinal-t.hoverOrdinal)),this._computer=new V(this._editor,this._participants),this._hoverOperation=this._register(new N(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{if(!this._computer.anchor)return;const t=e.hasLoadingMessage?this._addLoadingMessage(e.value):e.value;this._withResult(new O(this._computer.anchor,t,e.isComplete))}))),this._register(d.mu(this._widget.getDomNode(),"keydown",(e=>{e.equals(9)&&this.hide()}))),this._register(b.RW.onDidChange((()=>{this._widget.position&&this._currentResult&&(this._widget.clear(),this._setCurrentResult(this._currentResult))})))}maybeShowAt(e){const t=[];for(const n of this._participants)if(n.suggestHoverAnchor){const i=n.suggestHoverAnchor(e);i&&t.push(i)}const i=e.target;if(6===i.type&&t.push(new L.Qj(0,i.range,e.event.posx,e.event.posy)),7===i.type){const n=this._editor.getOption(48).typicalHalfwidthCharacterWidth/2;!i.detail.isAfterLines&&"number"===typeof i.detail.horizontalDistanceToText&&i.detail.horizontalDistanceToText<n&&t.push(new L.Qj(0,i.range,e.event.posx,e.event.posy))}return 0===t.length?this._startShowingOrUpdateHover(null,0,0,!1,e):(t.sort(((e,t)=>t.priority-e.priority)),this._startShowingOrUpdateHover(t[0],0,0,!1,e))}startShowingAtRange(e,t,i,n){this._startShowingOrUpdateHover(new L.Qj(0,e,void 0,void 0),t,i,n,null)}_startShowingOrUpdateHover(e,t,i,n,o){if(!this._widget.position||!this._currentResult)return!!e&&(this._startHoverOperationIfNecessary(e,t,i,n,!1),!0);const r=this._editor.getOption(58).sticky,s=r&&o&&this._widget.isMouseGettingCloser(o.event.posx,o.event.posy);return s?(e&&this._startHoverOperationIfNecessary(e,t,i,n,!0),!0):e?!(!e||!this._currentResult.anchor.equals(e))||(e.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(e)),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(e,t,i,n,!1),!0)):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(e,t,i,n,o){this._computer.anchor&&this._computer.anchor.equals(e)||(this._hoverOperation.cancel(),this._computer.anchor=e,this._computer.shouldFocus=n,this._computer.source=i,this._computer.insistOnKeepingHoverVisible=o,this._hoverOperation.start(t))}_setCurrentResult(e){this._currentResult!==e&&(e&&0===e.messages.length&&(e=null),this._currentResult=e,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}isColorPickerVisible(){return this._widget.isColorPickerVisible}isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}isVisible(){return this._widget.isVisible}containsNode(e){return!!e&&this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor)for(const t of this._participants)if(t.createLoadingMessage){const i=t.createLoadingMessage(this._computer.anchor);if(i)return e.slice(0).concat([i])}return e}_withResult(e){if(this._widget.position&&this._currentResult&&this._currentResult.isComplete){if(!e.isComplete)return;if(this._computer.insistOnKeepingHoverVisible&&0===e.messages.length)return}this._setCurrentResult(e)}_renderMessages(t,i){const{showAtPosition:n,showAtSecondaryPosition:r,highlightRange:s}=e.computeHoverRanges(this._editor,t.range,i),a=new o.SL,c=a.add(new H(this._keybindingService)),l=document.createDocumentFragment();let d=null;const u={fragment:l,statusBar:c,setColorPicker:e=>d=e,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const e of this._participants){const t=i.filter((t=>t.owner===e));t.length>0&&a.add(e.renderHoverParts(u,t))}const h=i.some((e=>e.isBeforeContent));if(c.hasContent&&l.appendChild(c.hoverElement),l.hasChildNodes()){if(s){const t=this._editor.createDecorationsCollection();t.set([{range:s,options:e._DECORATION_OPTIONS}]),a.add((0,o.OF)((()=>{t.clear()})))}this._widget.showAt(l,new W(d,n,r,this._editor.getOption(58).above,this._computer.shouldFocus,this._computer.source,h,t.initialMousePosX,t.initialMousePosY,a))}else a.dispose()}static computeHoverRanges(e,t,i){let n=1;if(e.hasModel()){const i=e._getViewModel(),o=i.coordinatesConverter,r=o.convertModelRangeToViewRange(t),s=new v.L(r.startLineNumber,i.getLineMinColumn(r.startLineNumber));n=o.convertViewPositionToModelPosition(s).column}const o=t.startLineNumber;let r=t.startColumn,a=i[0].range,c=null;for(const l of i)a=s.e.plusRange(a,l.range),l.range.startLineNumber===o&&l.range.endLineNumber===o&&(r=Math.max(Math.min(r,l.range.startColumn),n)),l.forceShowAtRange&&(c=l.range);return{showAtPosition:c?c.getStartPosition():new v.L(o,t.startColumn),showAtSecondaryPosition:c?c.getStartPosition():new v.L(o,r),highlightRange:a}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}escape(){this._widget.escape()}};T._DECORATION_OPTIONS=_.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),T=P([E(1,R.TG),E(2,D.d)],T);class O{constructor(e,t,i){this.anchor=e,this.messages=t,this.isComplete=i}filter(e){const t=this.messages.filter((t=>t.isValidForHoverAnchor(e)));return t.length===this.messages.length?this:new F(this,this.anchor,t,this.isComplete)}}class F extends O{constructor(e,t,i,n){super(t,i,n),this.original=e}filter(e){return this.original.filter(e)}}class W{constructor(e,t,i,n,o,r,s,a,c,l){this.colorPicker=e,this.showAtPosition=t,this.showAtSecondaryPosition=i,this.preferAbove=n,this.stoleFocus=o,this.source=r,this.isBeforeContent=s,this.initialMousePosX=a,this.initialMousePosY=c,this.disposables=l,this.closestMouseDistance=void 0}}let B=class e extends o.JT{get position(){var e,t;return null!==(t=null===(e=this._visibleData)||void 0===e?void 0:e.showAtPosition)&&void 0!==t?t:null}get isColorPickerVisible(){var e;return Boolean(null===(e=this._visibleData)||void 0===e?void 0:e.colorPicker)}get isVisibleFromKeyboard(){var e;return 1===(null===(e=this._visibleData)||void 0===e?void 0:e.source)}get isVisible(){var e;return null!==(e=this._hoverVisibleKey.get())&&void 0!==e&&e}constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=a.u.hoverVisible.bindTo(this._contextKeyService),this._hoverFocusedKey=a.u.hoverFocused.bindTo(this._contextKeyService),this._hover=this._register(new p),this._focusTracker=this._register(d.go(this.getDomNode())),this._horizontalScrollingBy=30,this._visibleData=null,this._register(this._editor.onDidLayoutChange((()=>this._layout()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(48)&&this._updateFont()}))),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this),this._register(this._focusTracker.onDidFocus((()=>{this._hoverFocusedKey.set(!0)}))),this._register(this._focusTracker.onDidBlur((()=>{this._hoverFocusedKey.set(!1)})))}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return e.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;!e&&this._contextKeyService.getContextKeyValue(M._y.Visible.key)&&(e=!0);const t=this._visibleData.isBeforeContent?3:void 0;return{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,preference:e?[1,2]:[2,1],positionAffinity:t}}isMouseGettingCloser(e,t){if(!this._visibleData)return!1;if("undefined"===typeof this._visibleData.initialMousePosX||"undefined"===typeof this._visibleData.initialMousePosY)return this._visibleData.initialMousePosX=e,this._visibleData.initialMousePosY=t,!1;const i=d.i(this.getDomNode());"undefined"===typeof this._visibleData.closestMouseDistance&&(this._visibleData.closestMouseDistance=z(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,i.left,i.top,i.width,i.height));const n=z(e,t,i.left,i.top,i.width,i.height);return!(n>this._visibleData.closestMouseDistance+4)&&(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,n),!0)}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:i}=this._editor.getOption(48);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=""+i/t,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}_updateFont(){const e=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));e.forEach((e=>this._editor.applyFontInfo(e)))}showAt(e,t){var i;this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),null===(i=t.colorPicker)||void 0===i||i.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions(),t=e.scrollWidth>e.width;if(t){const e=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==e&&(this._hover.contentsDomNode.style.paddingBottom=e,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}focus(){this._hover.containerDomNode.focus()}scrollUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:e-t.lineHeight})}scrollDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._editor.getOption(48);this._hover.scrollbar.setScrollPosition({scrollTop:e+t.lineHeight})}scrollLeft(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e-this._horizontalScrollingBy})}scrollRight(){const e=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:e+this._horizontalScrollingBy})}pageUp(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e-t})}pageDown(){const e=this._hover.scrollbar.getScrollPosition().scrollTop,t=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:e+t})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}escape(){this._editor.focus()}};B.ID="editor.contrib.contentHoverWidget",B=P([E(1,I.i6)],B);let H=class extends o.JT{get hasContent(){return this._hasContent}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=A("div.hover-row.status-bar"),this.actionsElement=d.R3(this.hoverElement,A("div.actions"))}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),i=t?t.getLabel():null;return this._hasContent=!0,this._register(m.render(this.actionsElement,e,i))}append(e){const t=d.R3(this.actionsElement,e);return this._hasContent=!0,t}};H=P([E(0,D.d)],H);class V{get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}get source(){return this._source}set source(e){this._source=e}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(e){this._insistOnKeepingHoverVisible=e}constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(e,t){if(1!==t.type&&!t.supportsMarkerHover)return[];const i=e.getModel(),n=t.range.startLineNumber;if(n>i.getLineCount())return[];const o=i.getLineMaxColumn(n);return e.getLineDecorations(n).filter((e=>{if(e.options.isWholeLine)return!0;const i=e.range.startLineNumber===n?e.range.startColumn:1,r=e.range.endLineNumber===n?e.range.endColumn:o;if(e.options.showIfCollapsed){if(i>t.range.startColumn+1||t.range.endColumn-1>r)return!1}else if(i>t.range.startColumn||t.range.endColumn>r)return!1;return!0}))}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return y.Aq.EMPTY;const i=V._getLineDecorations(this._editor,t);return y.Aq.merge(this._participants.map((n=>n.computeAsync?n.computeAsync(t,i,e):y.Aq.EMPTY)))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=V._getLineDecorations(this._editor,this._anchor);let t=[];for(const i of this._participants)t=t.concat(i.computeSync(this._anchor,e));return(0,f.kX)(t)}}function z(e,t,i,n,o,r){const s=i+o/2,a=n+r/2,c=Math.max(Math.abs(e-s)-o/2,0),l=Math.max(Math.abs(t-a)-r/2,0);return Math.sqrt(c*c+l*l)}var U=i(59365),j=i(45241);const $=d.$;class K extends o.JT{constructor(e,t,i){super(),this._renderDisposeables=this._register(new o.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new p),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new j.$({editor:this._editor},t,i)),this._computer=new q(this._editor),this._hoverOperation=this._register(new N(this._editor,this._computer)),this._register(this._hoverOperation.onResult((e=>{this._withResult(e.value)}))),this._register(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged()))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(48)&&this._updateFont()}))),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return K.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){const e=Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code"));e.forEach((e=>this._editor.applyFontInfo(e)))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const n of t){const e=$("div.hover-row.markdown-hover"),t=d.R3(e,$("div.hover-contents")),o=this._renderDisposeables.add(this._markdownRenderer.render(n.value));t.appendChild(o.element),i.appendChild(e)}this._updateContents(i),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(e),n=this._editor.getScrollTop(),o=this._editor.getOption(64),r=this._hover.containerDomNode.clientHeight,s=i-n-(r-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(s),0)}px`}}K.ID="editor.contrib.modesGlyphHoverWidget";class q{get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}constructor(e){this._editor=e,this._lineNumber=-1}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),i=[];if(!t)return i;for(const n of t){if(!n.options.glyphMarginClassName)continue;const t=n.options.glyphMarginHoverMessage;t&&!(0,U.CP)(t)&&i.push(...(0,f._2)(t).map(e))}return i}}var G=i(63580),Q=i(50988),Z=i(73910),Y=i(97781),J=i(71050),X=i(71922),ee=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class te{constructor(e,t,i){this.provider=e,this.hover=t,this.ordinal=i}}function ie(e,t,i,n,o){return ee(this,void 0,void 0,(function*(){try{const r=yield Promise.resolve(e.provideHover(i,n,o));if(r&&re(r))return new te(e,r,t)}catch(r){(0,w.Cp)(r)}}))}function ne(e,t,i,n){const o=e.ordered(t),r=o.map(((e,o)=>ie(e,o,t,i,n)));return y.Aq.fromPromises(r).coalesce()}function oe(e,t,i,n){return ne(e,t,i,n).map((e=>e.hover)).toPromise()}function re(e){const t="undefined"!==typeof e.range,i="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&i}(0,r.sb)("_executeHoverProvider",((e,t,i)=>{const n=e.get(X.p);return oe(n.hoverProvider,t,i,J.T.None)}));var se=i(33108),ae=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ce=function(e,t){return function(i,n){t(i,n,e)}};const le=d.$;class de{constructor(e,t,i,n,o){this.owner=e,this.range=t,this.contents=i,this.isBeforeContent=n,this.ordinal=o}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let ue=class{constructor(e,t,i,n,o){this._editor=e,this._languageService=t,this._openerService=i,this._configurationService=n,this._languageFeaturesService=o,this.hoverOrdinal=3}createLoadingMessage(e){return new de(this,e.range,[(new U.W5).appendText(G.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];let a=1e3;const c=i.getLineLength(n),l=i.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),d=this._editor.getOption(112),u=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:l});let h=!1;d>=0&&c>d&&e.range.startColumn>=d&&(h=!0,r.push(new de(this,e.range,[{value:G.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,a++))),!h&&"number"===typeof u&&c>=u&&r.push(new de(this,e.range,[{value:G.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,a++));let g=!1;for(const p of t){const t=p.range.startLineNumber===n?p.range.startColumn:1,i=p.range.endLineNumber===n?p.range.endColumn:o,c=p.options.hoverMessage;if(!c||(0,U.CP)(c))continue;p.options.beforeContentClassName&&(g=!0);const l=new s.e(e.range.startLineNumber,t,e.range.startLineNumber,i);r.push(new de(this,l,(0,f._2)(c),g,a++))}return r}computeAsync(e,t,i){if(!this._editor.hasModel()||1!==e.type)return y.Aq.EMPTY;const n=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(n))return y.Aq.EMPTY;const o=new v.L(e.range.startLineNumber,e.range.startColumn);return ne(this._languageFeaturesService.hoverProvider,n,o,i).filter((e=>!(0,U.CP)(e.hover.contents))).map((t=>{const i=t.hover.range?s.e.lift(t.hover.range):e.range;return new de(this,i,t.hover.contents,!1,t.ordinal)}))}renderHoverParts(e,t){return he(e,t,this._editor,this._languageService,this._openerService)}};function he(e,t,i,n,r){t.sort(((e,t)=>e.ordinal-t.ordinal));const s=new o.SL;for(const o of t)for(const t of o.contents){if((0,U.CP)(t))continue;const o=le("div.hover-row.markdown-hover"),a=d.R3(o,le("div.hover-contents")),c=s.add(new j.$({editor:i},n,r));s.add(c.onDidRenderAsync((()=>{a.className="hover-contents code-hover-contents",e.onContentsChanged()})));const l=s.add(c.render(t));a.appendChild(l.element),e.fragment.appendChild(o)}return s}ue=ae([ce(1,c.O),ce(2,Q.v4),ce(3,se.Ui),ce(4,X.p)],ue);var ge=i(95935),pe=i(36357),me=i(75396),fe=i(58197),ve=i(87997),_e=i(81299),be=i(98674),ye=i(90535),we=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ce=function(e,t){return function(i,n){t(i,n,e)}};const Se=d.$;class xe{constructor(e,t,i){this.owner=e,this.range=t,this.marker=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const ke={type:1,filter:{include:ve.yN.QuickFix},triggerAction:ve.aQ.QuickFixHover};let Ne=class{constructor(e,t,i,n){this._editor=e,this._markerDecorationsService=t,this._openerService=i,this._languageFeaturesService=n,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type&&!e.supportsMarkerHover)return[];const i=this._editor.getModel(),n=e.range.startLineNumber,o=i.getLineMaxColumn(n),r=[];for(const a of t){const t=a.range.startLineNumber===n?a.range.startColumn:1,c=a.range.endLineNumber===n?a.range.endColumn:o,l=this._markerDecorationsService.getMarker(i.uri,a);if(!l)continue;const d=new s.e(e.range.startLineNumber,t,e.range.startLineNumber,c);r.push(new xe(this,d,l))}return r}renderHoverParts(e,t){if(!t.length)return o.JT.None;const i=new o.SL;t.forEach((t=>e.fragment.appendChild(this.renderMarkerHover(t,i))));const n=1===t.length?t[0]:t.sort(((e,t)=>be.ZL.compare(e.marker.severity,t.marker.severity)))[0];return this.renderMarkerStatusbar(e,n,i),i}renderMarkerHover(e,t){const i=Se("div.hover-row"),n=d.R3(i,Se("div.marker.hover-contents")),{source:o,message:r,code:s,relatedInformation:a}=e.marker;this._editor.applyFontInfo(n);const c=d.R3(n,Se("span"));if(c.style.whiteSpace="pre-wrap",c.innerText=r,o||s)if(s&&"string"!==typeof s){const e=Se("span");if(o){const t=d.R3(e,Se("span"));t.innerText=o}const i=d.R3(e,Se("a.code-link"));i.setAttribute("href",s.target.toString()),t.add(d.nm(i,"click",(e=>{this._openerService.open(s.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})));const r=d.R3(i,Se("span"));r.innerText=s.value;const a=d.R3(n,e);a.style.opacity="0.6",a.style.paddingLeft="6px"}else{const e=d.R3(n,Se("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=o&&s?`${o}(${s})`:o||`(${s})`}if((0,f.Of)(a))for(const{message:l,resource:u,startLineNumber:h,startColumn:g}of a){const e=d.R3(n,Se("div"));e.style.marginTop="8px";const i=d.R3(e,Se("a"));i.innerText=`${(0,ge.EZ)(u)}(${h}, ${g}): `,i.style.cursor="pointer",t.add(d.nm(i,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(u,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:h,startColumn:g}}}).catch(w.dL)})));const o=d.R3(e,Se("span"));o.innerText=l,this._editor.applyFontInfo(o)}return i}renderMarkerStatusbar(e,t,i){if(t.marker.severity!==be.ZL.Error&&t.marker.severity!==be.ZL.Warning&&t.marker.severity!==be.ZL.Info||e.statusBar.addAction({label:G.NC("view problem","View Problem"),commandId:_e.v.ID,run:()=>{var i;e.hide(),null===(i=_e.c.get(this._editor))||void 0===i||i.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(87)){const n=e.statusBar.append(Se("div"));this.recentMarkerCodeActionsInfo&&(be.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===be.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(n.textContent=G.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const r=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?o.JT.None:i.add((0,y.Vg)((()=>n.textContent=G.NC("checkingForQuickFixes","Checking for quick fixes...")),200));n.textContent||(n.textContent=String.fromCharCode(160));const s=this.getCodeActions(t.marker);i.add((0,o.OF)((()=>s.cancel()))),s.then((s=>{if(r.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:s.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return s.dispose(),void(n.textContent=G.NC("noQuickFixes","No quick fixes available"));n.style.display="none";let a=!1;i.add((0,o.OF)((()=>{a||s.dispose()}))),e.statusBar.addAction({label:G.NC("quick fixes","Quick Fix..."),commandId:me.cz,run:t=>{a=!0;const i=fe.G.get(this._editor),n=d.i(t);e.hide(),null===i||void 0===i||i.showCodeActions(ke,s,{x:n.left+6,y:n.top+n.height+6,width:n.width,height:n.height})}})}),w.dL)}}getCodeActions(e){return(0,y.PG)((t=>(0,me.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new s.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),ke,ye.Ex.None,t)))}};Ne=we([Ce(1,pe.i),Ce(2,Q.v4),Ce(3,X.p)],Ne);i(4437);var Le=i(91592),Ie=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Re=function(e,t){return function(i,n){t(i,n,e)}};let De=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,r){this._editor=e,this._instantiationService=t,this._openerService=i,this._languageService=n,this._keybindingService=r,this._toUnhook=new o.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(58)&&(this._unhookEvents(),this._hookEvents())}))}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(58);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave((e=>this._onEditorMouseLeave(e)))),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;9!==t.type||t.detail!==B.ID?12===t.type&&t.detail===K.ID||(12!==t.type&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t;const i=e.event.browserEvent.relatedTarget;(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(i))||this._hideWidgets()}_onEditorMouseMove(e){var t,i,n,o,r,s,a,c;const l=e.target;if(this._isMouseDown&&this._hoverClicked)return;if(this._isHoverSticky&&9===l.type&&l.detail===B.ID)return;if(this._isHoverSticky&&(null===(t=this._contentWidget)||void 0===t?void 0:t.containsNode(null===(i=e.event.browserEvent.view)||void 0===i?void 0:i.document.activeElement))&&!(null===(o=null===(n=e.event.browserEvent.view)||void 0===n?void 0:n.getSelection())||void 0===o?void 0:o.isCollapsed))return;if(!this._isHoverSticky&&9===l.type&&l.detail===B.ID&&(null===(r=this._contentWidget)||void 0===r?void 0:r.isColorPickerVisible()))return;if(this._isHoverSticky&&12===l.type&&l.detail===K.ID)return;if(this._isHoverSticky&&(null===(s=this._contentWidget)||void 0===s?void 0:s.isVisibleFromKeyboard()))return;if(!this._isHoverEnabled)return void this._hideWidgets();const d=this._getOrCreateContentWidget();if(!d.maybeShowAt(e))return 2===l.type&&l.position?(null===(c=this._contentWidget)||void 0===c||c.hide(),this._glyphWidget||(this._glyphWidget=new K(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(l.position.lineNumber)):void this._hideWidgets();null===(a=this._glyphWidget)||void 0===a||a.hide()}_onKeyDown(e){var t;if(!this._editor.hasModel())return;const i=this._keybindingService.softDispatch(e,this._editor.getDomNode()),n=1===(null===i||void 0===i?void 0:i.kind)||i&&2===i.kind&&"editor.action.showHover"===i.commandId&&(null===(t=this._contentWidget)||void 0===t?void 0:t.isVisible());5===e.keyCode||6===e.keyCode||57===e.keyCode||4===e.keyCode||n||this._hideWidgets()}_hideWidgets(){var e,t,i;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||Le.Q.dropDownVisible||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(i=this._contentWidget)||void 0===i||i.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(T,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,i,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,i,n)}focus(){var e;null===(e=this._contentWidget)||void 0===e||e.focus()}scrollUp(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollUp()}scrollDown(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollDown()}scrollLeft(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollLeft()}scrollRight(){var e;null===(e=this._contentWidget)||void 0===e||e.scrollRight()}pageUp(){var e;null===(e=this._contentWidget)||void 0===e||e.pageUp()}pageDown(){var e;null===(e=this._contentWidget)||void 0===e||e.pageDown()}goToTop(){var e;null===(e=this._contentWidget)||void 0===e||e.goToTop()}goToBottom(){var e;null===(e=this._contentWidget)||void 0===e||e.goToBottom()}escape(){var e;null===(e=this._contentWidget)||void 0===e||e.escape()}isHoverVisible(){var e;return null===(e=this._contentWidget)||void 0===e?void 0:e.isVisible()}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}};De.ID="editor.contrib.hover",De=Ie([Re(1,R.TG),Re(2,Q.v4),Re(3,c.O),Re(4,D.d)],De);class Me extends r.R6{constructor(){super({id:"editor.action.showHover",label:G.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:a.u.editorTextFocus,primary:(0,n.gx)(2089,2087),weight:100}})}run(e,t,i){if(!t.hasModel())return;const n=De.get(t);if(!n)return;const o=t.getPosition(),r=new s.e(o.lineNumber,o.column,o.lineNumber,o.column),a=2===t.getOption(2)||!!(null===i||void 0===i?void 0:i.focus);n.isHoverVisible()?n.focus():n.showContentHover(r,1,1,a)}}class Pe extends r.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:G.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const i=De.get(t);if(!i)return;const n=t.getPosition();if(!n)return;const o=new s.e(n.lineNumber,n.column,n.lineNumber,n.column),r=l.S.get(t);if(!r)return;const a=r.startFindDefinitionFromCursor(n);a.then((()=>{i.showContentHover(o,1,1,!0)}))}}class Ee extends r.R6{constructor(){super({id:"editor.action.scrollUpHover",label:G.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:16,weight:100}})}run(e,t){const i=De.get(t);i&&i.scrollUp()}}class Ae extends r.R6{constructor(){super({id:"editor.action.scrollDownHover",label:G.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:18,weight:100}})}run(e,t){const i=De.get(t);i&&i.scrollDown()}}class Te extends r.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:G.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:15,weight:100}})}run(e,t){const i=De.get(t);i&&i.scrollLeft()}}class Oe extends r.R6{constructor(){super({id:"editor.action.scrollRightHover",label:G.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:17,weight:100}})}run(e,t){const i=De.get(t);i&&i.scrollRight()}}class Fe extends r.R6{constructor(){super({id:"editor.action.pageUpHover",label:G.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(e,t){const i=De.get(t);i&&i.pageUp()}}class We extends r.R6{constructor(){super({id:"editor.action.pageDownHover",label:G.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(e,t){const i=De.get(t);i&&i.pageDown()}}class Be extends r.R6{constructor(){super({id:"editor.action.goToTopHover",label:G.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(e,t){const i=De.get(t);i&&i.goToTop()}}class He extends r.R6{constructor(){super({id:"editor.action.goToBottomHover",label:G.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(e,t){const i=De.get(t);i&&i.goToBottom()}}class Ve extends r.R6{constructor(){super({id:"editor.action.escapeFocusHover",label:G.NC({key:"escapeFocusHover",comment:["Action that allows to escape from the hover widget with the escape command when the hover widget is focused."]},"Escape Focus Hover"),alias:"Escape Focus Hover",precondition:a.u.hoverFocused,kbOpts:{kbExpr:a.u.hoverFocused,primary:9,weight:100}})}run(e,t){const i=De.get(t);i&&i.escape()}}(0,r._K)(De.ID,De,2),(0,r.Qr)(Me),(0,r.Qr)(Pe),(0,r.Qr)(Ee),(0,r.Qr)(Ae),(0,r.Qr)(Te),(0,r.Qr)(Oe),(0,r.Qr)(Fe),(0,r.Qr)(We),(0,r.Qr)(Be),(0,r.Qr)(He),(0,r.Qr)(Ve),L.Ae.register(ue),L.Ae.register(Ne),(0,Y.Ic)(((e,t)=>{const i=e.getColor(Z.CNo);i&&(t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${i.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${i.transparent(.5)}; }`))}))},66520:(e,t,i)=>{"use strict";i.d(t,{Ae:()=>r,Qj:()=>n,YM:()=>o});class n{constructor(e,t,i,n){this.priority=e,this.range=t,this.initialMousePosX=i,this.initialMousePosY=n,this.type=1}equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}}class o{constructor(e,t,i,n,o,r){this.priority=e,this.owner=t,this.range=i,this.initialMousePosX=n,this.initialMousePosY=o,this.supportsMarkerHover=r,this.type=2}equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}}const r=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}}},68077:(e,t,i)=>{"use strict";var n=i(15393),o=i(17301),r=i(14410),s=i(16830),a=i(24314),c=i(3860),l=i(29102),d=i(51722),u=i(85215),h=i(63580);class g{constructor(e,t,i){this._editRange=e,this._originalSelection=t,this._text=i}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const i=t.getInverseEditOperations(),n=i[0].range;return this._originalSelection.isEmpty()?new c.Y(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new c.Y(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}}i(30039);var p=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},m=function(e,t){return function(i,n){t(i,n,e)}};let f=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(t,i){var s;null===(s=this.currentRequest)||void 0===s||s.cancel();const l=this.editor.getSelection(),d=this.editor.getModel();if(!d||!l)return;let u=l;if(u.startLineNumber!==u.endLineNumber)return;const h=new r.yy(this.editor,5),p=d.uri;return this.editorWorkerService.canNavigateValueSet(p)?(this.currentRequest=(0,n.PG)((e=>this.editorWorkerService.navigateValueSet(p,u,i))),this.currentRequest.then((i=>{var r;if(!i||!i.range||!i.value)return;if(!h.validate(this.editor))return;const s=a.e.lift(i.range);let l=i.range;const d=i.value.length-(u.endColumn-u.startColumn);l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.startColumn+i.value.length},d>1&&(u=new c.Y(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn+d-1));const p=new g(s,u,i.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,p),this.editor.pushUndoStop(),this.decorations.set([{range:l,options:e.DECORATION}]),null===(r=this.decorationRemover)||void 0===r||r.cancel(),this.decorationRemover=(0,n.Vs)(350),this.decorationRemover.then((()=>this.decorations.clear())).catch(o.dL)})).catch(o.dL)):Promise.resolve(void 0)}};f.ID="editor.contrib.inPlaceReplaceController",f.DECORATION=d.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),f=p([m(1,u.p)],f);class v extends s.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:h.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3159,weight:100}})}run(e,t){const i=f.get(t);return i?i.run(this.id,!1):Promise.resolve(void 0)}}class _ extends s.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:h.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:l.u.writable,kbOpts:{kbExpr:l.u.editorTextFocus,primary:3161,weight:100}})}run(e,t){const i=f.get(t);return i?i.run(this.id,!0):Promise.resolve(void 0)}}(0,s._K)(f.ID,f,4),(0,s.Qr)(v),(0,s.Qr)(_)},18279:(e,t,i)=>{"use strict";function n(e,t){let i=0;for(let n=0;n<e.length;n++)"\t"===e.charAt(n)?i+=t:i++;return i}function o(e,t,i){e=e<0?0:e;let n="";if(!i){const i=Math.floor(e/t);e%=t;for(let e=0;e<i;e++)n+="\t"}for(let o=0;o<e;o++)n+=" ";return n}i.d(t,{J:()=>o,Y:()=>n})},84602:(e,t,i)=>{"use strict";var n=i(9917),o=i(97295),r=i(16830),s=i(10291),a=i(69386),c=i(24314),l=i(3860),d=i(29102),u=i(4256),h=i(73733),g=i(18279),p=i(63580),m=i(41157),f=i(83158),v=i(75383),_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},b=function(e,t){return function(i,n){t(i,n,e)}};function y(e,t,i,n,r){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];const c=t.getLanguageConfiguration(e.getLanguageId()).indentationRules;if(!c)return[];n=Math.min(n,e.getLineCount());while(i<=n){if(!c.unIndentedLinePattern)break;const t=e.getLineContent(i);if(!c.unIndentedLinePattern.test(t))break;i++}if(i>n-1)return[];const{tabSize:d,indentSize:u,insertSpaces:h}=e.getOptions(),g=(e,t)=>(t=t||1,s.ShiftCommand.shiftIndent(e,e.length+t,d,u,h)),p=(e,t)=>(t=t||1,s.ShiftCommand.unshiftIndent(e,e.length+t,d,u,h)),m=[];let v;const _=e.getLineContent(i);let b=_;if(void 0!==r&&null!==r){v=r;const e=o.V8(_);b=v+_.substring(e.length),c.decreaseIndentPattern&&c.decreaseIndentPattern.test(b)&&(v=p(v),b=v+_.substring(e.length)),_!==b&&m.push(a.h.replaceMove(new l.Y(i,1,i,e.length+1),(0,f.x)(v,u,h)))}else v=o.V8(_);let y=v;c.increaseIndentPattern&&c.increaseIndentPattern.test(b)?(y=g(y),v=g(v)):c.indentNextLinePattern&&c.indentNextLinePattern.test(b)&&(y=g(y)),i++;for(let s=i;s<=n;s++){const t=e.getLineContent(s),i=o.V8(t),n=y+t.substring(i.length);c.decreaseIndentPattern&&c.decreaseIndentPattern.test(n)&&(y=p(y),v=p(v)),i!==y&&m.push(a.h.replaceMove(new l.Y(s,1,s,i.length+1),(0,f.x)(y,u,h))),c.unIndentedLinePattern&&c.unIndentedLinePattern.test(t)||(c.increaseIndentPattern&&c.increaseIndentPattern.test(n)?(v=g(v),y=v):y=c.indentNextLinePattern&&c.indentNextLinePattern.test(n)?g(y):v)}return m}class w extends r.R6{constructor(){super({id:w.ID,label:p.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:d.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new E(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!0})}}w.ID="editor.action.indentationToSpaces";class C extends r.R6{constructor(){super({id:C.ID,label:p.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:d.u.writable})}run(e,t){const i=t.getModel();if(!i)return;const n=i.getOptions(),o=t.getSelection();if(!o)return;const r=new A(o,n.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),i.updateOptions({insertSpaces:!1})}}C.ID="editor.action.indentationToTabs";class S extends r.R6{constructor(e,t,i){super(i),this.insertSpaces=e,this.displaySizeOnly=t}run(e,t){const i=e.get(m.eJ),n=e.get(h.q),o=t.getModel();if(!o)return;const r=n.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),s=o.getOptions(),a=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===r.tabSize&&e===s.tabSize?p.NC("configuredTabSize","Configured Tab Size"):e===r.tabSize?p.NC("defaultTabSize","Default Tab Size"):e===s.tabSize?p.NC("currentTabSize","Current Tab Size"):void 0}))),c=Math.min(o.getOptions().tabSize-1,7);setTimeout((()=>{i.pick(a,{placeHolder:p.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[c]}).then((e=>{if(e&&o&&!o.isDisposed()){const t=parseInt(e.label,10);this.displaySizeOnly?o.updateOptions({tabSize:t}):o.updateOptions({tabSize:t,indentSize:t,insertSpaces:this.insertSpaces})}}))}),50)}}class x extends S{constructor(){super(!1,!1,{id:x.ID,label:p.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}x.ID="editor.action.indentUsingTabs";class k extends S{constructor(){super(!0,!1,{id:k.ID,label:p.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}k.ID="editor.action.indentUsingSpaces";class N extends S{constructor(){super(!0,!0,{id:N.ID,label:p.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}N.ID="editor.action.changeTabDisplaySize";class L extends r.R6{constructor(){super({id:L.ID,label:p.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const i=e.get(h.q),n=t.getModel();if(!n)return;const o=i.getCreationOptions(n.getLanguageId(),n.uri,n.isForSimpleWidget);n.detectIndentation(o.insertSpaces,o.tabSize)}}L.ID="editor.action.detectIndentation";class I extends r.R6{constructor(){super({id:"editor.action.reindentlines",label:p.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:d.u.writable})}run(e,t){const i=e.get(u.c_),n=t.getModel();if(!n)return;const o=y(n,i,1,n.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class R extends r.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:p.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:d.u.writable})}run(e,t){const i=e.get(u.c_),n=t.getModel();if(!n)return;const o=t.getSelections();if(null===o)return;const r=[];for(const s of o){let e=s.startLineNumber,t=s.endLineNumber;if(e!==t&&1===s.endColumn&&t--,1===e){if(e===t)continue}else e--;const o=y(n,i,e,t);r.push(...o)}r.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop())}}class D{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const i of e)i.range&&"string"===typeof i.text&&this._edits.push(i)}getEditOperations(e,t){for(const n of this._edits)t.addEditOperation(c.e.lift(n.range),n.text);let i=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(i=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),i||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let M=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new n.SL,this.callOnModel=new n.SL,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}update(){this.callOnModel.clear(),this.editor.getOption(10)<4||this.editor.getOption(53)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){const t=this.editor.getSelections();if(null===t||t.length>1)return;const i=this.editor.getModel();if(!i)return;if(!i.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const n=this.editor.getOption(10),{tabSize:r,indentSize:a,insertSpaces:l}=i.getOptions(),d=[],u={shiftIndent:e=>s.ShiftCommand.shiftIndent(e,e.length+1,r,a,l),unshiftIndent:e=>s.ShiftCommand.unshiftIndent(e,e.length+1,r,a,l)};let h=e.startLineNumber;while(h<=e.endLineNumber){if(!this.shouldIgnoreLine(i,h))break;h++}if(h>e.endLineNumber)return;let p=i.getLineContent(h);if(!/\S/.test(p.substring(0,e.startColumn-1))){const e=(0,v.n8)(n,i,i.getLanguageId(),h,u,this._languageConfigurationService);if(null!==e){const t=o.V8(p),n=g.Y(e,r),s=g.Y(t,r);if(n!==s){const e=g.J(n,r,l);d.push({range:new c.e(h,1,h,t.length+1),text:e}),p=e+p.substr(t.length)}else{const e=(0,v.tI)(i,h,this._languageConfigurationService);if(0===e||8===e)return}}}const m=h;while(h<e.endLineNumber){if(/\S/.test(i.getLineContent(h+1)))break;h++}if(h!==e.endLineNumber){const t={tokenization:{getLineTokens:e=>i.tokenization.getLineTokens(e),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(e,t)=>i.getLanguageIdAtPosition(e,t)},getLineContent:e=>e===m?p:i.getLineContent(e)},s=(0,v.n8)(n,t,i.getLanguageId(),h+1,u,this._languageConfigurationService);if(null!==s){const t=g.Y(s,r),n=g.Y(o.V8(i.getLineContent(h+1)),r);if(t!==n){const s=t-n;for(let t=h+1;t<=e.endLineNumber;t++){const e=i.getLineContent(t),n=o.V8(e),a=g.Y(n,r),u=a+s,h=g.J(u,r,l);h!==n&&d.push({range:new c.e(t,1,t,n.length+1),text:h})}}}}if(d.length>0){this.editor.pushUndoStop();const e=new D(d,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const i=e.getLineFirstNonWhitespaceColumn(t);if(0===i)return!0;const n=e.tokenization.getLineTokens(t);if(n.getCount()>0){const e=n.findTokenIndexAtOffset(i);if(e>=0&&1===n.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};function P(e,t,i,n){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let s=0;s<i;s++)o+=" ";const r=new RegExp(o,"gi");for(let s=1,a=e.getLineCount();s<=a;s++){let i=e.getLineFirstNonWhitespaceColumn(s);if(0===i&&(i=e.getLineMaxColumn(s)),1===i)continue;const a=new c.e(s,1,s,i),l=e.getValueInRange(a),d=n?l.replace(/\t/gi,o):l.replace(r,"\t");t.addEditOperation(a,d)}}M.ID="editor.contrib.autoIndentOnPaste",M=_([b(1,u.c_)],M);class E{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),P(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class A{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),P(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,r._K)(M.ID,M,2),(0,r.Qr)(w),(0,r.Qr)(C),(0,r.Qr)(x),(0,r.Qr)(k),(0,r.Qr)(N),(0,r.Qr)(L),(0,r.Qr)(I),(0,r.Qr)(R)},96020:(e,t,i)=>{"use strict";i.d(t,{Np:()=>o,OW:()=>r,Ou:()=>n});const n="editor.action.inlineSuggest.commit",o="editor.action.inlineSuggest.showPrevious",r="editor.action.inlineSuggest.showNext"},78573:(e,t,i)=>{"use strict";i.d(t,{f:()=>l});var n=i(49056),o=i(97295),r=i(7988),s=i(32064),a=i(9917),c=i(63580);class l extends a.JT{constructor(e,t){super(),this.contextKeyService=e,this.model=t,this.inlineCompletionVisible=l.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=l.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=l.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=l.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,n.EH)("update context key: inlineCompletionVisible, suppressSuggestions",(e=>{const t=this.model.read(e),i=null===t||void 0===t?void 0:t.selectedInlineCompletion.read(e),n=null===t||void 0===t?void 0:t.ghostText.read(e),o=null===t||void 0===t?void 0:t.selectedSuggestItem.read(e);this.inlineCompletionVisible.set(void 0===o&&void 0!==n),n&&i&&this.suppressSuggestions.set(i.inlineCompletion.source.inlineCompletions.suppressSuggestions)}))),this._register((0,n.EH)("update context key: inlineCompletionSuggestsIndentation, inlineCompletionSuggestsIndentationLessThanTabSize",(e=>{const t=this.model.read(e);let i=!1,n=!0;const s=null===t||void 0===t?void 0:t.ghostText.read(e);if((null===t||void 0===t?void 0:t.selectedSuggestItem)&&s&&s.parts.length>0){const{column:e,lines:a}=s.parts[0],c=a[0],l=t.textModel.getLineIndentColumn(s.lineNumber),d=e<=l;if(d){let e=(0,o.LC)(c);-1===e&&(e=c.length-1),i=e>0;const s=t.textModel.getOptions().tabSize,a=r.i.visibleColumnFromColumn(c,e+1,s);n=a<s}}this.inlineCompletionSuggestsIndentation.set(i),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)})))}}l.inlineSuggestionVisible=new s.uy("inlineSuggestionVisible",!1,(0,c.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),l.inlineSuggestionHasIndentation=new s.uy("inlineSuggestionHasIndentation",!1,(0,c.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),l.inlineSuggestionHasIndentationLessThanTabSize=new s.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,c.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),l.alwaysShowInlineSuggestionToolbar=new s.uy("alwaysShowInlineSuggestionToolbar",!1,(0,c.NC)("alwaysShowInlineSuggestionToolbar","Whether the inline suggestion toolbar should always be visible")),l.suppressSuggestions=new s.uy("inlineSuggestionSuppressSuggestions",void 0,(0,c.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},44190:(e,t,i)=>{"use strict";var n=i(16830),o=i(66520),r=i(49056),s=i(29102),a=i(96020),c=i(78573),l=i(85152),d=i(4669),u=i(9917),h=i(29869),g=i(42549),p=i(50187),m=i(88191),f=i(71922),v=i(97295),_=(i(50680),i(52136)),b=i(64141),y=i(24314),w=i(50072),C=i(72042),S=i(84973),x=i(77378),k=i(92550),N=i(72202),L=i(17301);function I(e,t){const i=new R(e),n=t.map((e=>{const t=y.e.lift(e.range);return{startOffset:i.getOffset(t.getStartPosition()),endOffset:i.getOffset(t.getEndPosition()),text:e.text}}));n.sort(((e,t)=>t.startOffset-e.startOffset));for(const o of n)e=e.substring(0,o.startOffset)+o.text+e.substring(o.endOffset);return e}class R{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)"\n"===e.charAt(t)&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const D=[];function M(){return D}class P{constructor(e,t){if(this.startColumn=e,this.endColumnExclusive=t,e>t)throw new L.he(`startColumn ${e} cannot be after endColumnExclusive ${t}`)}toRange(e){return new y.e(e,this.startColumn,e,this.endColumnExclusive)}}function E(e,t){const i=new u.SL,n=e.createDecorationsCollection();return i.add((0,r.EH)(`Apply decorations from ${t.debugName}`,(e=>{const i=t.read(e);n.set(i)}))),i.add({dispose:()=>{n.clear()}}),i}function A(e,t){return new p.L(e.lineNumber+t.lineNumber-1,1===t.lineNumber?e.column+t.column-1:t.column)}function T(e){let t=1,i=1;for(const n of e)"\n"===n?(t++,i=1):i++;return new p.L(t,i)}class O{constructor(e,t){this.lineNumber=e,this.parts=t}renderForScreenReader(e){if(0===this.parts.length)return"";const t=this.parts[this.parts.length-1],i=e.substr(0,t.column-1),n=I(i,this.parts.map((e=>({range:{startLineNumber:1,endLineNumber:1,startColumn:e.column,endColumn:e.column},text:e.lines.join("\n")}))));return n.substring(this.parts[0].column-1)}get lineCount(){return 1+this.parts.reduce(((e,t)=>e+t.lines.length-1),0)}}class F{constructor(e,t,i){this.column=e,this.lines=t,this.preview=i}}class W{constructor(e,t,i,n=0){this.lineNumber=e,this.columnRange=t,this.newLines=i,this.additionalReservedLineCount=n,this.parts=[new F(this.columnRange.endColumnExclusive,this.newLines,!1)]}}var B,H=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},V=function(e,t){return function(i,n){t(i,n,e)}};let z=class extends u.JT{constructor(e,t,i){super(),this.editor=e,this.model=t,this.languageService=i,this.isDisposed=(0,r.uh)("isDisposed",!1),this.currentTextModel=(0,r.rD)(this.editor.onDidChangeModel,(()=>this.editor.getModel())),this.uiState=(0,r.nK)("uiState",(e=>{if(this.isDisposed.read(e))return;const t=this.currentTextModel.read(e);if(t!==this.model.targetTextModel.read(e))return;const i=this.model.ghostText.read(e);if(!i)return;const n=i instanceof W?i.columnRange:void 0,o=[],r=[];function s(e,t){if(r.length>0){const i=r[r.length-1];t&&i.decorations.push(new k.Kp(i.content.length+1,i.content.length+1+e[0].length,t,0)),i.content+=e[0],e=e.slice(1)}for(const i of e)r.push({content:i,decorations:t?[new k.Kp(1,i.length+1,t,0)]:[]})}const a=t.getLineContent(i.lineNumber);let c,l=0;for(const u of i.parts){let e=u.lines;void 0===c?(o.push({column:u.column,text:e[0],preview:u.preview}),e=e.slice(1)):s([a.substring(l,u.column-1)],void 0),e.length>0&&(s(e,"ghost-text"),void 0===c&&u.column<=a.length&&(c=u.column)),l=u.column-1}void 0!==c&&s([a.substring(l)],void 0);const d=void 0!==c?new P(c,a.length+1):void 0;return{replacedRange:n,inlineTexts:o,additionalLines:r,hiddenRange:d,lineNumber:i.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(e),targetTextModel:t}})),this.decorations=(0,r.nK)("decorations",(e=>{const t=this.uiState.read(e);if(!t)return[];const i=[];t.replacedRange&&i.push({range:t.replacedRange.toRange(t.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),t.hiddenRange&&i.push({range:t.hiddenRange.toRange(t.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const n of t.inlineTexts)i.push({range:y.e.fromPositions(new p.L(t.lineNumber,n.column)),options:{description:"ghost-text",after:{content:n.text,inlineClassName:n.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:S.RM.Left},showIfCollapsed:!0}});return i})),this.additionalLinesWidget=this._register(new U(this.editor,this.languageService.languageIdCodec,(0,r.nK)("lines",(e=>{const t=this.uiState.read(e);return t?{lineNumber:t.lineNumber,additionalLines:t.additionalLines,minReservedLineCount:t.additionalReservedLineCount,targetTextModel:t.targetTextModel}:void 0})))),this._register((0,u.OF)((()=>{this.isDisposed.set(!0,void 0)}))),this._register(E(this.editor,this.decorations))}ownsViewZone(e){return this.additionalLinesWidget.viewZoneId===e}};z=H([V(2,C.O)],z);class U extends u.JT{get viewZoneId(){return this._viewZoneId}constructor(e,t,i){super(),this.editor=e,this.languageIdCodec=t,this.lines=i,this._viewZoneId=void 0,this.editorOptionsChanged=(0,r.aq)("editorOptionChanged",d.ju.filter(this.editor.onDidChangeConfiguration,(e=>e.hasChanged(31)||e.hasChanged(112)||e.hasChanged(94)||e.hasChanged(89)||e.hasChanged(49)||e.hasChanged(48)||e.hasChanged(64)))),this._register((0,r.EH)("update view zone",(e=>{const t=this.lines.read(e);this.editorOptionsChanged.read(e),t?this.updateLines(t.lineNumber,t.additionalLines,t.minReservedLineCount):this.clear()})))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones((e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)}))}updateLines(e,t,i){const n=this.editor.getModel();if(!n)return;const{tabSize:o}=n.getOptions();this.editor.changeViewZones((n=>{this._viewZoneId&&(n.removeZone(this._viewZoneId),this._viewZoneId=void 0);const r=Math.max(t.length,i);if(r>0){const i=document.createElement("div");j(i,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=n.addZone({afterLineNumber:e,heightInLines:r,domNode:i,afterColumnAffinity:1})}}))}}function j(e,t,i,n,o){const r=n.get(31),s=n.get(112),a="none",c=n.get(89),l=n.get(49),d=n.get(48),u=n.get(64),h=new w.HT(1e4);h.appendString('<div class="suggest-preview-text">');for(let m=0,f=i.length;m<f;m++){const e=i[m],n=e.content;h.appendString('<div class="view-line'),h.appendString('" style="top:'),h.appendString(String(m*u)),h.appendString('px;width:1000000px;">');const g=v.$i(n),p=v.Ut(n),f=x.A.createEmpty(n,o);(0,N.d1)(new N.IJ(d.isMonospace&&!r,d.canUseHalfwidthRightwardsArrow,n,!1,g,p,0,f,e.decorations,t,0,d.spaceWidth,d.middotWidth,d.wsmiddotWidth,s,a,c,l!==b.n0.OFF,null),h),h.appendString("</div>")}h.appendString("</div>"),(0,_.N)(e,d);const g=h.build(),p=$?$.createHTML(g):g;e.innerHTML=p}const $=null===(B=window.trustedTypes)||void 0===B?void 0:B.createPolicy("editorGhostText",{createHTML:e=>e});var K=i(91592),q=i(9488),G=i(98401),Q=i(69386),Z=i(43155),Y=i(4256),J=i(71050),X=i(75392),ee=i(22571);class te{constructor(e,t){this.range=e,this.text=t}removeCommonPrefix(e,t){const i=t?this.range.intersectRanges(t):this.range;if(!i)return this;const n=e.getValueInRange(i,1),o=(0,v.Mh)(n,this.text),r=A(this.range.getStartPosition(),T(n.substring(0,o))),s=this.text.substring(o),a=y.e.fromPositions(r,this.range.getEndPosition());return new te(a,s)}augments(e){return this.text.startsWith(e.text)&&ie(this.range,e.range)}computeGhostText(e,t,i,n=0){let o=this.removeCommonPrefix(e);if(o.range.endLineNumber!==o.range.startLineNumber)return;const r=e.getLineContent(o.range.startLineNumber),s=(0,v.V8)(r).length,a=o.range.startColumn-1<=s;if(a){const e=(0,v.V8)(o.text).length,t=r.substring(o.range.startColumn-1,s),i=y.e.fromPositions(o.range.getStartPosition().delta(0,t.length),o.range.getEndPosition()),n=o.text.startsWith(t)?o.text.substring(t.length):o.text.substring(e);o=new te(i,n)}const c=e.getValueInRange(o.range),l=oe(c,o.text);if(!l)return;const d=o.range.startLineNumber,u=new Array;if("prefix"===t){const e=l.filter((e=>0===e.originalLength));if(e.length>1||1===e.length&&e[0].originalStart!==c.length)return}const h=o.text.length-n;for(const g of l){const e=o.range.startColumn+g.originalStart+g.originalLength;if("subwordSmart"===t&&i&&i.lineNumber===o.range.startLineNumber&&e<i.column)return;if(g.originalLength>0)return;if(0===g.modifiedLength)continue;const n=g.modifiedStart+g.modifiedLength,r=Math.max(g.modifiedStart,Math.min(n,h)),s=o.text.substring(g.modifiedStart,r),a=o.text.substring(r,Math.max(g.modifiedStart,n));if(s.length>0){const t=(0,v.uq)(s);u.push(new F(e,t,!1))}if(a.length>0){const t=(0,v.uq)(a);u.push(new F(e,t,!0))}}return new O(d,u)}}function ie(e,t){return t.getStartPosition().equals(e.getStartPosition())&&t.getEndPosition().isBeforeOrEqual(e.getEndPosition())}let ne;function oe(e,t){if((null===ne||void 0===ne?void 0:ne.originalValue)===e&&(null===ne||void 0===ne?void 0:ne.newValue)===t)return null===ne||void 0===ne?void 0:ne.changes;{let i=se(e,t,!0);if(i){const n=re(i);if(n>0){const o=se(e,t,!1);o&&re(o)<n&&(i=o)}}return ne={originalValue:e,newValue:t,changes:i},i}}function re(e){let t=0;for(const i of e)t+=i.originalLength;return t}function se(e,t,i){if(e.length>5e3||t.length>5e3)return;function n(e){let t=0;for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);n>t&&(t=n)}return t}const o=Math.max(n(e),n(t));function r(e){if(e<0)throw new Error("unexpected");return o+e+1}function s(e){let t=0,n=0;const o=new Int32Array(e.length);for(let s=0,a=e.length;s<a;s++)if(i&&"("===e[s]){const e=100*n+t;o[s]=r(2*e),t++}else if(i&&")"===e[s]){t=Math.max(t-1,0);const e=100*n+t;o[s]=r(2*e+1),0===t&&n++}else o[s]=e.charCodeAt(s);return o}const a=s(e),c=s(t);return new ee.Hs({getElements:()=>a},{getElements:()=>c}).ComputeDiff(!1).changes}var ae=i(35146),ce=i(35382),le=i(45035),de=i(64837),ue=i(61761),he=i(6735);function ge(e,t){const i=new ue.FE,n=new ce.Z(i,(e=>t.getLanguageConfiguration(e))),o=new he.xH(new pe([e]),n),r=(0,de.w)(o,[],void 0,!0);let s="";const a=e.getLineContent();function c(e,t){if(2===e.kind)if(c(e.openingBracket,t),t=(0,le.Ii)(t,e.openingBracket.length),e.child&&(c(e.child,t),t=(0,le.Ii)(t,e.child.length)),e.closingBracket)c(e.closingBracket,t),t=(0,le.Ii)(t,e.closingBracket.length);else{const t=n.getSingleLanguageBracketTokens(e.openingBracket.languageId),i=t.findClosingTokenText(e.openingBracket.bracketIds);s+=i}else if(3===e.kind);else if(0===e.kind||1===e.kind)s+=a.substring((0,le.F_)(t),(0,le.F_)((0,le.Ii)(t,e.length)));else if(4===e.kind)for(const i of e.children)c(i,t),t=(0,le.Ii)(t,i.length)}return c(r,le.xl),s}class pe{constructor(e){this.lines=e,this.tokenization={getLineTokens:e=>this.lines[e-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}var me=i(35084),fe=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function ve(e,t,i,n,o=J.T.None,r){return fe(this,void 0,void 0,(function*(){const s=we(t,i),a=e.all(i),c=yield Promise.all(a.map((e=>fe(this,void 0,void 0,(function*(){try{const r=yield e.provideInlineCompletions(i,t,n,o);return{provider:e,completions:r}}catch(r){(0,L.Cp)(r)}return{provider:e,completions:void 0}}))))),l=new Map,d=[];for(const e of c){const t=e.completions;if(!t)continue;const n=new be(t,e.provider);d.push(n);for(const e of t.items){const t=ye.from(e,n,s,i,r);l.set(t.hash(),t)}}return new _e(Array.from(l.values()),new Set(l.keys()),d)}))}class _e{constructor(e,t,i){this.completions=e,this.hashs=t,this.providerResults=i}has(e){return this.hashs.has(e.hash())}dispose(){for(const e of this.providerResults)e.removeRef()}}class be{constructor(e,t){this.inlineCompletions=e,this.provider=t,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,0===this.refCount&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class ye{static from(e,t,i,n,o){let r,s,a=e.range?y.e.lift(e.range):i;if("string"===typeof e.insertText){if(r=e.insertText,o&&e.completeBracketPairs){r=Ce(r,a.getStartPosition(),n,o);const t=r.length-e.insertText.length;0!==t&&(a=new y.e(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+t))}s=void 0}else if("snippet"in e.insertText){const t=e.insertText.snippet.length;if(o&&e.completeBracketPairs){e.insertText.snippet=Ce(e.insertText.snippet,a.getStartPosition(),n,o);const i=e.insertText.snippet.length-t;0!==i&&(a=new y.e(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+i))}const i=(new me.Yj).parse(e.insertText.snippet);1===i.children.length&&i.children[0]instanceof me.xv?(r=i.children[0].value,s=void 0):(r=i.toString(),s={snippet:e.insertText.snippet,range:a})}else(0,ae.vE)(e.insertText);return new ye(r,e.command,a,r,s,e.additionalTextEdits||M(),e,t)}constructor(e,t,i,n,o,r,s,a){this.filterText=e,this.command=t,this.range=i,this.insertText=n,this.snippetInfo=o,this.additionalTextEdits=r,this.sourceInlineCompletion=s,this.source=a,e=e.replace(/\r\n|\r/g,"\n"),n=e.replace(/\r\n|\r/g,"\n")}withRange(e){return new ye(this.filterText,this.command,e,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function we(e,t){const i=t.getWordAtPosition(e),n=t.getLineMaxColumn(e.lineNumber);return i?new y.e(e.lineNumber,i.startColumn,e.lineNumber,n):y.e.fromPositions(e,e.with(void 0,n))}function Ce(e,t,i,n){const o=i.getLineContent(t.lineNumber).substring(0,t.column-1),r=o+e,s=i.tokenization.tokenizeLineWithEdit(t,r.length-(t.column-1),e),a=null===s||void 0===s?void 0:s.sliceAndInflate(t.column-1,r.length,0);if(!a)return e;const c=ge(a,n);return c}var Se=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},xe=function(e,t){return function(i,n){t(i,n,e)}},ke=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let Ne=class extends u.JT{constructor(e,t,i,n,o){super(),this.textModel=e,this.versionId=t,this._debounceValue=i,this.languageFeaturesService=n,this.languageConfigurationService=o,this.updateOperation=this._register(new u.XK),this.inlineCompletions=(0,h.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,h.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent((()=>{this.updateOperation.clear()})))}clear(e){this.updateOperation.clear(),this.inlineCompletions.set(void 0,e),this.suggestWidgetInlineCompletions.set(void 0,e)}clearSuggestWidgetInlineCompletions(){var e;(null===(e=this.updateOperation.value)||void 0===e?void 0:e.request.context.selectedSuggestionInfo)&&this.updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,void 0)}update(e,t,i){var n,o;const r=new Ie(e,t,this.textModel.getVersionId()),s=t.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(null===(n=this.updateOperation.value)||void 0===n?void 0:n.request.satisfies(r))return this.updateOperation.value.promise;if(null===(o=s.get())||void 0===o?void 0:o.request.satisfies(r))return Promise.resolve(!0);const a=!!this.updateOperation.value;this.updateOperation.clear();const c=new J.A,l=(()=>ke(this,void 0,void 0,(function*(){const n=a||t.triggerKind===Z.bw.Automatic;if(n&&(yield Le(this._debounceValue.get(this.textModel))),c.token.isCancellationRequested||this.textModel.getVersionId()!==r.versionId)return!1;const o=new Date,l=yield ve(this.languageFeaturesService.inlineCompletionsProvider,e,this.textModel,t,c.token,this.languageConfigurationService);if(c.token.isCancellationRequested||this.textModel.getVersionId()!==r.versionId)return!1;const d=new Date;this._debounceValue.update(this.textModel,d.getTime()-o.getTime());const u=new Me(l,r,this.textModel,this.versionId);if(i){const t=i.toInlineCompletion(void 0);i.canBeReused(this.textModel,e)&&!l.has(t)&&u.prepend(i.inlineCompletion,t.range,!0)}return(0,h.PS)((e=>{s.set(u,e)})),this.updateOperation.clear(),!0})))(),d=new De(r,c,l);return this.updateOperation.value=d,l}};function Le(e,t){return new Promise((i=>{let n;const o=setTimeout((()=>{n&&n.dispose(),i()}),e);t&&(n=t.onCancellationRequested((()=>{clearTimeout(o),n&&n.dispose(),i()})))}))}Ne=Se([xe(3,f.p),xe(4,Y.c_)],Ne);class Ie{constructor(e,t,i){this.position=e,this.context=t,this.versionId=i}satisfies(e){return this.position.equals(e.position)&&Re(this.context.selectedSuggestionInfo,e.context.selectedSuggestionInfo,((e,t)=>e.equals(t)))&&(e.context.triggerKind===Z.bw.Automatic||this.context.triggerKind===Z.bw.Explicit)&&this.versionId===e.versionId}}function Re(e,t,i){return e&&t?i(e,t):e===t}class De{constructor(e,t,i){this.request=e,this.cancellationTokenSource=t,this.promise=i}dispose(){this.cancellationTokenSource.cancel()}}class Me{get inlineCompletions(){return this._inlineCompletions}constructor(e,t,i,n){this.inlineCompletionProviderResult=e,this.request=t,this.textModel=i,this.versionId=n,this.refCount=1,this.prependedInlineCompletionItems=[],this.counter=0,this.rangeVersion=(0,r.nK)("ranges",(e=>{this.versionId.read(e);let t=!1;for(const i of this._inlineCompletions)t=t||i._updateRange(this.textModel);return t&&this.counter++,this.counter}));const o=i.deltaDecorations([],e.completions.map((e=>({range:e.range,options:{description:"inline-completion-tracking-range"}}))));this._inlineCompletions=e.completions.map(((e,t)=>new Pe(e,o[t],this.rangeVersion)))}prepend(e,t,i){i&&e.source.addRef();const n=this.textModel.deltaDecorations([],[{range:t,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new Pe(e,n,this.rangeVersion,t)),this.prependedInlineCompletionItems.push(e)}clone(){return this.refCount++,this}dispose(){if(this.refCount--,0===this.refCount){this.textModel.deltaDecorations(this._inlineCompletions.map((e=>e.decorationId)),[]),this.inlineCompletionProviderResult.dispose();for(const e of this.prependedInlineCompletionItems)e.source.removeRef()}}}class Pe{constructor(e,t,i,n){this.inlineCompletion=e,this.decorationId=t,this.rangeVersion=i,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=null!==n&&void 0!==n?n:e.range}getUpdatedRange(e){return this.rangeVersion.read(e),this._updatedRange}_updateRange(e){const t=e.getDecorationRange(this.decorationId);return t?!this._updatedRange.equalsRange(t)&&(this._updatedRange=t,!0):(this._isValid=!1,!0)}toInlineCompletion(e){return this.inlineCompletion.withRange(this.getUpdatedRange(e))}toSingleTextEdit(e){return new te(this.getUpdatedRange(e),this.inlineCompletion.insertText)}isVisible(e,t,i){const n=this.toFilterTextReplacement(i).removeCommonPrefix(e);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this.getUpdatedRange(i).getStartPosition())||t.lineNumber!==n.range.startLineNumber)return!1;const o=e.getValueInRange(n.range,1).toLowerCase(),r=n.text.toLowerCase(),s=Math.max(0,t.column-n.range.startColumn);let a=r.substring(0,s),c=r.substring(s),l=o.substring(0,s),d=o.substring(s);const u=e.getLineIndentColumn(n.range.startLineNumber);return n.range.startColumn<=u&&(l=l.trimStart(),0===l.length&&(d=d.trimStart()),a=a.trimStart(),0===a.length&&(c=c.trimStart())),a.startsWith(l)&&!!(0,X.Sy)(d,c)}toFilterTextReplacement(e){return new te(this.getUpdatedRange(e),this.inlineCompletion.filterText)}canBeReused(e,t){const i=this._isValid&&this.getUpdatedRange(void 0).containsPosition(t)&&this.isVisible(e,t,void 0)&&!this.isSmallerThanOriginal(void 0);return i}isSmallerThanOriginal(e){return Ee(this.getUpdatedRange(e)).isBefore(Ee(this.inlineCompletion.range))}}function Ee(e){return e.startLineNumber===e.endLineNumber?new p.L(1,1+e.endColumn-e.startColumn):new p.L(1+e.endLineNumber-e.startLineNumber,e.endColumn)}var Ae,Te=i(98762),Oe=i(94565),Fe=i(72065),We=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Be=function(e,t){return function(i,n){t(i,n,e)}},He=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};(function(e){e[e["Undo"]=0]="Undo",e[e["Redo"]=1]="Redo",e[e["AcceptWord"]=2]="AcceptWord",e[e["Other"]=3]="Other"})(Ae||(Ae={}));let Ve=class extends u.JT{get isAcceptingPartially(){return this._isAcceptingPartially}get isNavigatingCurrentInlineCompletion(){return this._isNavigatingCurrentInlineCompletion}constructor(e,t,i,n,o,s,a,c,l,d,u,h){super(),this.textModel=e,this.selectedSuggestItem=t,this.cursorPosition=i,this.textModelVersionId=n,this._debounceValue=o,this._suggestPreviewEnabled=s,this._suggestPreviewMode=a,this._inlineSuggestMode=c,this._enabled=l,this._instantiationService=d,this._commandService=u,this._languageConfigurationService=h,this._source=this._register(this._instantiationService.createInstance(Ne,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,r.uh)("isActive",!1),this._forceUpdate=(0,r.GN)("forceUpdate"),this._isAcceptingPartially=!1,this._isNavigatingCurrentInlineCompletion=!1,this._filteredInlineCompletionItems=(0,r.nK)("filteredInlineCompletionItems",(e=>{const t=this._source.inlineCompletions.read(e);if(!t)return[];const i=this.cursorPosition.read(e),n=t.inlineCompletions.filter((t=>t.isVisible(this.textModel,i,e)));return n})),this._selectedInlineCompletionId=void 0,this._selectedInlineCompletionIdChangeSignal=(0,r.GN)("selectedCompletionIdChanged"),this.selectedInlineCompletionIndex=(0,r.nK)("selectedCachedCompletionIndex",(e=>{this._selectedInlineCompletionIdChangeSignal.read(e);const t=this._filteredInlineCompletionItems.read(e),i=void 0===this._selectedInlineCompletionId?-1:t.findIndex((e=>e.semanticId===this._selectedInlineCompletionId));return-1===i?(this._selectedInlineCompletionId=void 0,0):i})),this.selectedInlineCompletion=(0,r.nK)("selectedCachedCompletion",(e=>{const t=this._filteredInlineCompletionItems.read(e),i=this.selectedInlineCompletionIndex.read(e);return t[i]})),this.lastTriggerKind=this._source.inlineCompletions.map((e=>null===e||void 0===e?void 0:e.request.context.triggerKind)),this.inlineCompletionsCount=(0,r.nK)("selectedInlineCompletionsCount",(e=>this.lastTriggerKind.read(e)===Z.bw.Explicit?this._filteredInlineCompletionItems.read(e).length:void 0)),this.ghostTextAndCompletion=(0,r.nK)("ghostTextAndCompletion",(e=>{var t;const i=this.textModel,n=this.selectedSuggestItem.read(e);if(n){const o=this._source.suggestWidgetInlineCompletions.read(e),r=o?o.inlineCompletions:[this.selectedInlineCompletion.read(e)].filter(G.$K),s=n.toSingleTextEdit().removeCommonPrefix(i),a=(0,q.bX)(r,(t=>{let o=t.toSingleTextEdit(e);return o=o.removeCommonPrefix(i,y.e.fromPositions(o.range.getStartPosition(),n.range.getEndPosition())),o.augments(s)?{edit:o,completion:t}:void 0})),c=this._suggestPreviewEnabled.read(e);if(!c&&!a)return;const l=null!==(t=null===a||void 0===a?void 0:a.edit)&&void 0!==t?t:s,d=a?a.edit.text.length-s.text.length:0,u=this._suggestPreviewMode.read(e),h=this.cursorPosition.read(e),g=l.computeGhostText(i,u,h,d),p=null!==g&&void 0!==g?g:new O(l.range.endLineNumber,[]);return{ghostText:p,completion:null===a||void 0===a?void 0:a.completion}}{if(!this._isActive.read(e))return;const t=this.selectedInlineCompletion.read(e);if(!t)return;const n=t.toSingleTextEdit(e),o=this._inlineSuggestMode.read(e),r=this.cursorPosition.read(e),s=n.computeGhostText(i,o,r);return s?{ghostText:s,completion:t}:void 0}})),this.ghostText=(0,r.nK)("ghostText",(e=>{const t=this.ghostTextAndCompletion.read(e);if(t)return t.ghostText}));const g=new Set([Ae.Redo,Ae.Undo,Ae.AcceptWord]);let p,m=!1,f=Z.bw.Automatic;this._register((0,r.nJ)("update",{handleChange:e=>(e.didChange(this.textModelVersionId)&&g.has(e.change)?m=!0:e.didChange(this._forceUpdate)&&(f=e.change),!0)},(e=>{var t,i;if(this._forceUpdate.read(e),this._enabled.read(e)&&this.selectedSuggestItem.read(e)||this._isActive.read(e)){const n=m||null!==(i=null===(t=this.selectedInlineCompletion.get())||void 0===t?void 0:t.inlineCompletion.source.inlineCompletions.enableForwardStability)&&void 0!==i&&i,o=this.selectedSuggestItem.read(e),r=this.cursorPosition.read(e);this.textModelVersionId.read(e);const s=this._source.suggestWidgetInlineCompletions.get();if(s&&!o){const e=this._source.inlineCompletions.get();e&&s.request.versionId>e.request.versionId&&this._source.inlineCompletions.set(s.clone(),void 0),this._source.clearSuggestWidgetInlineCompletions()}this._updatePromise=this._source.update(r,{triggerKind:f,selectedSuggestionInfo:null===o||void 0===o?void 0:o.toSelectedSuggestionInfo()},n?this.selectedInlineCompletion.get():void 0)}else this._updatePromise=void 0;m=!1,f=Z.bw.Automatic}))),this._register((0,r.EH)("call handleItemDidShow",(e=>{var t,i;const n=this.ghostTextAndCompletion.read(e),o=null===n||void 0===n?void 0:n.completion;if((null===o||void 0===o?void 0:o.semanticId)!==(null===p||void 0===p?void 0:p.semanticId)&&(p=o,o)){const e=o.inlineCompletion,n=e.source;null===(i=(t=n.provider).handleItemDidShow)||void 0===i||i.call(t,n.inlineCompletions,e.sourceInlineCompletion,e.insertText)}})))}trigger(e){return He(this,void 0,void 0,(function*(){this._isActive.set(!0,e),yield this._updatePromise}))}triggerExplicitly(){return He(this,void 0,void 0,(function*(){(0,r.PS)((e=>{this._isActive.set(!0,e),this._forceUpdate.trigger(e,Z.bw.Explicit)})),yield this._updatePromise}))}stop(e){e?(this._isActive.set(!1,e),this._source.clear(e)):(0,r.PS)((e=>this.stop(e)))}deltaIndex(e){return He(this,void 0,void 0,(function*(){yield this.triggerExplicitly(),this._isNavigatingCurrentInlineCompletion=!0;try{const t=this._filteredInlineCompletionItems.get()||[];if(t.length>0){const i=(this.selectedInlineCompletionIndex.get()+e+t.length)%t.length;this._selectedInlineCompletionId=t[i].semanticId}else this._selectedInlineCompletionId=void 0;this._selectedInlineCompletionIdChangeSignal.trigger(void 0)}finally{this._isNavigatingCurrentInlineCompletion=!1}}))}next(){return He(this,void 0,void 0,(function*(){yield this.deltaIndex(1)}))}previous(){return He(this,void 0,void 0,(function*(){yield this.deltaIndex(-1)}))}accept(e){var t,i;if(e.getModel()!==this.textModel)throw new L.he;const n=this.ghostText.get(),o=null===(t=this.selectedInlineCompletion.get())||void 0===t?void 0:t.toInlineCompletion(void 0);n&&o&&(e.pushUndoStop(),o.snippetInfo?(e.executeEdits("inlineSuggestion.accept",[Q.h.replaceMove(o.range,""),...o.additionalTextEdits]),e.setPosition(o.snippetInfo.range.getStartPosition()),null===(i=Te.f.get(e))||void 0===i||i.insert(o.snippetInfo.snippet,{undoStopBefore:!1})):e.executeEdits("inlineSuggestion.accept",[Q.h.replaceMove(o.range,o.insertText),...o.additionalTextEdits]),o.command?this._commandService.executeCommand(o.command.id,...o.command.arguments||[]).finally((()=>{(0,r.PS)((e=>{this._source.clear(e)}))})).then(void 0,L.Cp):(0,r.PS)((e=>{this._source.clear(e)})))}acceptNextWord(e){this.acceptNext(e,((e,t)=>{const i=this.textModel.getLanguageIdAtPosition(e.lineNumber,e.column),n=this._languageConfigurationService.getLanguageConfiguration(i),o=new RegExp(n.wordDefinition.source,n.wordDefinition.flags.replace("g","")),r=t.match(o);let s=0;s=r&&void 0!==r.index?0===r.index?r[0].length:r.index:t.length;const a=/\s+/g,c=a.exec(t);return c&&void 0!==c.index&&c.index+c[0].length<s&&(s=c.index+c[0].length),s}))}acceptNextLine(e){this.acceptNext(e,((e,t)=>{const i=t.match(/\n/);return i&&void 0!==i.index?i.index+1:t.length}))}acceptNext(e,t){var i;if(e.getModel()!==this.textModel)throw new L.he;const n=this.ghostText.get(),o=null===(i=this.selectedInlineCompletion.get())||void 0===i?void 0:i.toInlineCompletion(void 0);if(!n||!o)return;if(o.snippetInfo||o.filterText!==o.insertText)return void this.accept(e);if(0===n.parts.length)return;const r=n.parts[0],s=new p.L(n.lineNumber,r.column),a=r.lines.join("\n"),c=t(s,a);if(c===a.length&&1===n.parts.length)return void this.accept(e);const l=a.substring(0,c);this._isAcceptingPartially=!0;try{e.pushUndoStop(),e.executeEdits("inlineSuggestion.accept",[Q.h.replace(y.e.fromPositions(s),l)]);const t=T(l);e.setPosition(A(s,t))}finally{this._isAcceptingPartially=!1}if(o.source.provider.handlePartialAccept){const t=y.e.fromPositions(o.range.getStartPosition(),A(s,T(l))),i=e.getModel().getValueInRange(t,1);o.source.provider.handlePartialAccept(o.source.inlineCompletions,o.sourceInlineCompletion,i.length)}}};Ve=We([Be(9,Fe.TG),Be(10,Oe.H),Be(11,Y.c_)],Ve);var ze=i(70500),Ue=i(28845);class je extends u.JT{get selectedItem(){return this._selectedItem}constructor(e,t,i){super(),this.editor=e,this.suggestControllerPreselector=t,this.checkModelVersion=i,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,r.uh)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(e.onKeyDown((e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))}))),this._register(e.onKeyUp((e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))})));const n=Ue.n.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(e,t,i)=>{var o;(0,r.PS)((e=>this.checkModelVersion(e)));const s=this.editor.getModel();if(!s)return-1;const a=null===(o=this.suggestControllerPreselector())||void 0===o?void 0:o.removeCommonPrefix(s);if(!a)return-1;const c=p.L.lift(t),l=i.map(((e,t)=>{const i=$e.fromSuggestion(n,s,c,e,this.isShiftKeyPressed),o=i.toSingleTextEdit().removeCommonPrefix(s),r=a.augments(o);return{index:t,valid:r,prefixLength:o.text.length,suggestItem:e}})).filter((e=>e&&e.valid&&e.prefixLength>0)),d=(0,q.Dc)(l,(0,q.tT)((e=>e.prefixLength),q.fv));return d?d.index:-1}}));let e=!1;const t=()=>{e||(e=!0,this._register(n.widget.value.onDidShow((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))),this._register(n.widget.value.onDidHide((()=>{this.isSuggestWidgetVisible=!1,this.update(!1)}))),this._register(n.widget.value.onDidFocus((()=>{this.isSuggestWidgetVisible=!0,this.update(!0)}))))};this._register(d.ju.once(n.model.onDidTrigger)((e=>{t()})))}this.update(this._isActive)}update(e){const t=this.getSuggestItemInfo();this._isActive===e&&Ke(this._currentSuggestItemInfo,t)||(this._isActive=e,this._currentSuggestItemInfo=t,(0,r.PS)((e=>{this.checkModelVersion(e),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,e)})))}getSuggestItemInfo(){const e=Ue.n.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem(),i=this.editor.getPosition(),n=this.editor.getModel();return t&&i&&n?$e.fromSuggestion(e,n,i,t.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const e=Ue.n.get(this.editor);null===e||void 0===e||e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Ue.n.get(this.editor);null===e||void 0===e||e.forceRenderingAbove()}}class $e{static fromSuggestion(e,t,i,n,o){let{insertText:r}=n.completion,s=!1;if(4&n.completion.insertTextRules){const e=(new me.Yj).parse(r);e.children.length<100&&ze.l.adjustWhitespace(t,i,!0,e),r=e.toString(),s=!0}const a=e.getOverwriteInfo(n,o);return new $e(y.e.fromPositions(i.delta(0,-a.overwriteBefore),i.delta(0,Math.max(a.overwriteAfter,0))),r,n.completion.kind,s)}constructor(e,t,i,n){this.range=e,this.insertText=t,this.completionItemKind=i,this.isSnippetText=n}equals(e){return this.range.equalsRange(e.range)&&this.insertText===e.insertText&&this.completionItemKind===e.completionItemKind&&this.isSnippetText===e.isSnippetText}toSelectedSuggestionInfo(){return new Z.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new te(this.range,this.insertText)}}function Ke(e,t){return e===t||!(!e||!t)&&e.equals(t)}var qe=i(69149),Ge=i(33108),Qe=i(32064),Ze=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},Ye=function(e,t){return function(i,n){t(i,n,e)}};let Je=class e extends u.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,o,s,m,f){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=i,this.configurationService=n,this.commandService=o,this.debounceService=s,this.languageFeaturesService=m,this.audioCueService=f,this.suggestWidgetAdaptor=this._register(new je(this.editor,(()=>{var e,t;return null===(t=null===(e=this.model.get())||void 0===e?void 0:e.selectedInlineCompletion.get())||void 0===t?void 0:t.toSingleTextEdit(void 0)}),(e=>this.updateObservables(e,Ae.Other)))),this.textModelVersionId=(0,r.uh)("textModelVersionId",-1),this.cursorPosition=(0,r.uh)("cursorPosition",new p.L(1,1)),this.model=(0,h.DN)("inlineCompletionModel",void 0),this.ghostTextWidget=this._register(this.instantiationService.createInstance(z,this.editor,{ghostText:this.model.map(((e,t)=>null===e||void 0===e?void 0:e.ghostText.read(t))),minReservedLineCount:(0,r.Dz)(0),targetTextModel:this.model.map((e=>null===e||void 0===e?void 0:e.textModel))})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new c.f(this.contextKeyService,this.model));const v=(0,r.rD)(e.onDidChangeConfiguration,(()=>e.getOption(60).enabled));let _;this._register(d.ju.runAndSubscribe(e.onDidChangeModel,(()=>{(0,h.PS)((i=>{this.model.set(void 0,i),this.updateObservables(i,Ae.Other);const n=e.getModel();if(n){const o=t.createInstance(Ve,n,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,r.rD)(e.onDidChangeConfiguration,(()=>e.getOption(113).preview)),(0,r.rD)(e.onDidChangeConfiguration,(()=>e.getOption(113).previewMode)),(0,r.rD)(e.onDidChangeConfiguration,(()=>e.getOption(60).mode)),v);this.model.set(o,i)}}))}))),this._register(e.onDidChangeModelContent((e=>(0,h.PS)((t=>{var i;return this.updateObservables(t,e.isUndoing?Ae.Undo:e.isRedoing?Ae.Redo:(null===(i=this.model.get())||void 0===i?void 0:i.isAcceptingPartially)?Ae.AcceptWord:Ae.Other)}))))),this._register(e.onDidChangeCursorPosition((e=>(0,h.PS)((t=>{var i;this.updateObservables(t,Ae.Other),3===e.reason&&(null===(i=this.model.get())||void 0===i||i.stop(t))}))))),this._register(e.onDidType((()=>(0,h.PS)((e=>{var t;this.updateObservables(e,Ae.Other),v.get()&&(null===(t=this.model.get())||void 0===t||t.trigger(e))}))))),this._register(this.commandService.onDidExecuteCommand((t=>{const i=new Set([g.wk.Tab.id,g.wk.DeleteLeft.id,g.wk.DeleteRight.id,a.Ou,"acceptSelectedSuggestion"]);i.has(t.commandId)&&e.hasTextFocus()&&v.get()&&(0,h.PS)((e=>{var t;null===(t=this.model.get())||void 0===t||t.trigger(e)}))}))),this._register(this.editor.onDidBlurEditorWidget((()=>{this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||e.getOption(60).keepOnBlur||K.Q.dropDownVisible||(0,h.PS)((e=>{var t;null===(t=this.model.get())||void 0===t||t.stop(e)}))}))),this._register((0,r.EH)("forceRenderingAbove",(e=>{const t=this.model.read(e),i=null===t||void 0===t?void 0:t.ghostText.read(e),n=this.suggestWidgetAdaptor.selectedItem.read(e);n?i&&i.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()}))),this._register((0,u.OF)((()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()}))),this._register((0,r.EH)("play audio cue & read suggestion",(e=>{const t=this.model.read(e),i=null===t||void 0===t?void 0:t.selectedInlineCompletion.read(e);if(!t||!i)return void(_=void 0);const n=null===t||void 0===t?void 0:t.ghostText.get();if(!n)return void(_=void 0);const o=t.textModel.getLineContent(n.lineNumber);if(i.semanticId!==_){if(_=i.semanticId,t.isNavigatingCurrentInlineCompletion)return;this.audioCueService.playAudioCue(qe.y$.inlineSuggestion).then((()=>{this.editor.getOption(6)&&(0,l.Z9)(n.renderForScreenReader(o))}))}})))}updateObservables(e,t){var i,n;const o=this.editor.getModel();this.textModelVersionId.set(null!==(i=null===o||void 0===o?void 0:o.getVersionId())&&void 0!==i?i:-1,e,t),this.cursorPosition.set(null!==(n=this.editor.getPosition())&&void 0!==n?n:new p.L(1,1),e)}shouldShowHoverAt(e){var t;const i=null===(t=this.model.get())||void 0===t?void 0:t.ghostText.get();return!!i&&i.parts.some((t=>e.containsPosition(new p.L(i.lineNumber,t.column))))}shouldShowHoverAtViewZone(e){return this.ghostTextWidget.ownsViewZone(e)}};Je.ID="editor.contrib.inlineCompletionsController",Je=Ze([Ye(1,Fe.TG),Ye(2,Qe.i6),Ye(3,Ge.Ui),Ye(4,Oe.H),Ye(5,m.A),Ye(6,f.p),Ye(7,qe.e7)],Je);var Xe=i(63580),et=i(84144),tt=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class it extends n.R6{constructor(){super({id:it.ID,label:Xe.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:Qe.Ao.and(s.u.writable,c.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.next()}))}}it.ID=a.OW;class nt extends n.R6{constructor(){super({id:nt.ID,label:Xe.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:Qe.Ao.and(s.u.writable,c.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.previous()}))}}nt.ID=a.Np;class ot extends n.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Xe.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:s.u.writable})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.triggerExplicitly()}))}}class rt extends n.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Xe.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:Qe.Ao.and(s.u.writable,c.f.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065},menuOpts:[{menuId:et.eH.InlineSuggestionToolbar,title:Xe.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.acceptNextWord(e.editor)}))}}class st extends n.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:Xe.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:Qe.Ao.and(s.u.writable,c.f.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:et.eH.InlineSuggestionToolbar,title:Xe.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.acceptNextLine(e.editor)}))}}class at extends n.R6{constructor(){super({id:a.Ou,label:Xe.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:c.f.inlineSuggestionVisible,menuOpts:[{menuId:et.eH.InlineSuggestionToolbar,title:Xe.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:Qe.Ao.and(c.f.inlineSuggestionVisible,s.u.tabMovesFocus.toNegated(),c.f.inlineSuggestionHasIndentationLessThanTabSize)}})}run(e,t){var i;return tt(this,void 0,void 0,(function*(){const e=Je.get(t);e&&(null===(i=e.model.get())||void 0===i||i.accept(e.editor),e.editor.focus())}))}}class ct extends n.R6{constructor(){super({id:ct.ID,label:Xe.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:c.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(e,t){return tt(this,void 0,void 0,(function*(){const e=Je.get(t);(0,r.PS)((t=>{var i;null===(i=null===e||void 0===e?void 0:e.model.get())||void 0===i||i.stop(t)}))}))}}ct.ID="editor.action.inlineSuggest.hide";class lt extends et.Ke{constructor(){super({id:lt.ID,title:Xe.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:et.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:c.f.alwaysShowInlineSuggestionToolbar})}run(e,t){return tt(this,void 0,void 0,(function*(){const t=e.get(Ge.Ui),i=t.getValue("editor.inlineSuggest.showToolbar"),n="always"===i?"onHover":"always";t.updateValue("editor.inlineSuggest.showToolbar",n)}))}}lt.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar";var dt=i(65321),ut=i(59365),ht=i(45241),gt=i(31106),pt=i(50988),mt=i(10829),ft=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},vt=function(e,t){return function(i,n){t(i,n,e)}};class _t{constructor(e,t,i){this.owner=e,this.range=t,this.controller=i}isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let bt=class{constructor(e,t,i,n,o,r){this._editor=e,this._languageService=t,this._openerService=i,this.accessibilityService=n,this._instantiationService=o,this._telemetryService=r,this.hoverOrdinal=4}suggestHoverAnchor(e){const t=Je.get(this._editor);if(!t)return null;const i=e.target;if(8===i.type){const n=i.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new o.YM(1e3,this,y.e.fromPositions(this._editor.getModel().validatePosition(n.positionBefore||n.position)),e.event.posx,e.event.posy,!1)}if(7===i.type&&t.shouldShowHoverAt(i.range))return new o.YM(1e3,this,i.range,e.event.posx,e.event.posy,!1);if(6===i.type){const n=i.detail.mightBeForeignElement;if(n&&t.shouldShowHoverAt(i.range))return new o.YM(1e3,this,i.range,e.event.posx,e.event.posy,!1)}return null}computeSync(e,t){if("always"===this._editor.getOption(60).showToolbar)return[];const i=Je.get(this._editor);return i&&i.shouldShowHoverAt(e.range)?[new _t(this,e.range,i)]:[]}renderHoverParts(e,t){const i=new u.SL,n=t[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,n,i);const o=n.controller.model.get(),s=this._instantiationService.createInstance(K.Q,this._editor,!1,(0,r.Dz)(null),o.selectedInlineCompletionIndex,o.inlineCompletionsCount,o.selectedInlineCompletion.map((e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.inlineCompletion.source.inlineCompletions.commands)&&void 0!==t?t:[]})));return e.fragment.appendChild(s.getDomNode()),o.triggerExplicitly(),i.add(s),i}renderScreenReaderText(e,t,i){const n=dt.$,o=n("div.hover-row.markdown-hover"),s=dt.R3(o,n("div.hover-contents",{["aria-live"]:"assertive"})),a=i.add(new ht.$({editor:this._editor},this._languageService,this._openerService)),c=t=>{i.add(a.onDidRenderAsync((()=>{s.className="hover-contents code-hover-contents",e.onContentsChanged()})));const n=Xe.NC("inlineSuggestionFollows","Suggestion:"),o=i.add(a.render((new ut.W5).appendText(n).appendCodeblock("text",t)));s.replaceChildren(o.element)};i.add((0,r.EH)("update hover",(e=>{var i;const n=null===(i=t.controller.model.read(e))||void 0===i?void 0:i.ghostText.read(e);if(n){const e=this._editor.getModel().getLineContent(n.lineNumber);c(n.renderForScreenReader(e))}else dt.mc(s)}))),e.fragment.appendChild(o)}};bt=ft([vt(1,C.O),vt(2,pt.v4),vt(3,gt.F),vt(4,Fe.TG),vt(5,mt.b)],bt),(0,n._K)(Je.ID,Je,3),(0,n.Qr)(ot),(0,n.Qr)(it),(0,n.Qr)(nt),(0,n.Qr)(rt),(0,n.Qr)(st),(0,n.Qr)(at),(0,n.Qr)(ct),(0,et.r1)(lt),o.Ae.register(bt)},91592:(e,t,i)=>{"use strict";i.d(t,{Q:()=>W});var n=i(65321),o=i(90317),r=i(55496),s=i(74741),a=i(9488),c=i(15393),l=i(73046),d=i(9917),u=i(49056),h=i(1432),g=i(25670),p=(i(15027),i(96020)),m=i(63580),f=i(30833),v=i(47583),_=i(4669),b=i(98401),y=(i(90708),function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))});class w extends d.JT{constructor(e,t,i={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new _.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=new d.SL,this.options=i,this.lookupKeybindings="function"===typeof this.options.getKeyBinding,this.toggleMenuAction=this._register(new C((()=>{var e;return null===(e=this.toggleMenuActionViewItem)||void 0===e?void 0:e.show()}),i.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new o.o(this.element,{orientation:i.orientation,ariaLabel:i.ariaLabel,actionRunner:i.actionRunner,allowContextMenu:i.allowContextMenu,actionViewItemProvider:(e,n)=>{var o;if(e.id===C.ID)return this.toggleMenuActionViewItem=new v.C(e,e.menuActions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:g.k.asClassNameArray(null!==(o=i.moreIcon)&&void 0!==o?o:l.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(i.actionViewItemProvider){const t=i.actionViewItemProvider(e,n);if(t)return t}if(e instanceof s.wY){const i=new v.C(e,e.actions,t,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:e.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement});return i.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(i),this.disposables.add(this._onDidChangeDropdownVisibility.add(i.onDidChangeVisibility)),i}}}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(e){return this.actionBar.getAction(e)}setActions(e,t){this.clear();const i=e?e.slice(0):[];this.hasSecondaryActions=!!(t&&t.length>0),this.hasSecondaryActions&&t&&(this.toggleMenuAction.menuActions=t.slice(0),i.push(this.toggleMenuAction)),i.forEach((e=>{this.actionBar.push(e,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(e)})}))}getKeybindingLabel(e){var t,i;const n=this.lookupKeybindings?null===(i=(t=this.options).getKeyBinding)||void 0===i?void 0:i.call(t,e):void 0;return(0,b.f6)(null===n||void 0===n?void 0:n.getLabel())}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}class C extends s.aU{constructor(e,t){t=t||m.NC("moreActions","More Actions..."),super(C.ID,t,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}run(){return y(this,void 0,void 0,(function*(){this.toggleDropdownMenu()}))}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}C.ID="toolbar.toggle.more";var S=i(84144),x=i(32064),k=i(5606),N=i(91847),L=i(10829),I=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},R=function(e,t){return function(i,n){t(i,n,e)}};let D=class extends w{constructor(e,t,i,n,o,r,s){super(e,o,Object.assign(Object.assign({getKeyBinding:e=>{var t;return null!==(t=r.lookupKeybinding(e.id))&&void 0!==t?t:void 0}},t),{allowContextMenu:!0})),this._options=t,this._menuService=i,this._contextKeyService=n,this._contextMenuService=o,this._sessionDisposables=this._store.add(new d.SL),(null===t||void 0===t?void 0:t.telemetrySource)&&this._store.add(this.actionBar.onDidRun((e=>s.publicLog2("workbenchActionExecuted",{id:e.action.id,from:t.telemetrySource}))))}setActions(e,t=[],i){var o,r,c;this._sessionDisposables.clear();const l=e.slice(),d=t.slice(),u=[];let h=0;const g=[];let p=!1;if(-1!==(null===(o=this._options)||void 0===o?void 0:o.hiddenItemStrategy))for(let n=0;n<l.length;n++){const e=l[n];(e instanceof S.U8||e instanceof S.NZ)&&(e.hideActions&&(u.push(e.hideActions.toggle),e.hideActions.toggle.checked&&h++,e.hideActions.isHidden&&(p=!0,l[n]=void 0,0!==(null===(r=this._options)||void 0===r?void 0:r.hiddenItemStrategy)&&(g[n]=e))))}if(void 0!==(null===(c=this._options)||void 0===c?void 0:c.maxNumberOfItems)){let e=0;for(let t=0;t<l.length;t++){const i=l[t];i&&(++e>=this._options.maxNumberOfItems&&(l[t]=void 0,g[t]=i))}}(0,a.Rs)(l),(0,a.Rs)(g),super.setActions(l,s.Z0.join(g,d)),u.length>0&&this._sessionDisposables.add((0,n.nm)(this.getElement(),"contextmenu",(e=>{var t,n,o,r;const a=this.getItemAction(e.target);if(!a)return;e.preventDefault(),e.stopPropagation();let c,l=!1;if(1===h&&0===(null===(t=this._options)||void 0===t?void 0:t.hiddenItemStrategy)){l=!0;for(let e=0;e<u.length;e++)if(u[e].checked){u[e]=(0,s.xw)({id:a.id,label:a.label,checked:!0,enabled:!1,run(){}});break}}if(!l&&(a instanceof S.U8||a instanceof S.NZ)){if(!a.hideActions)return;c=a.hideActions.hide}else c=(0,s.xw)({id:"label",label:(0,m.NC)("hide","Hide"),enabled:!1,run(){}});const d=s.Z0.join([c],u);(null===(n=this._options)||void 0===n?void 0:n.resetMenu)&&!i&&(i=[this._options.resetMenu]),p&&i&&(d.push(new s.Z0),d.push((0,s.xw)({id:"resetThisMenu",label:(0,m.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),this._contextMenuService.showContextMenu({getAnchor:()=>e,getActions:()=>d,menuId:null===(o=this._options)||void 0===o?void 0:o.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},null===(r=this._options)||void 0===r?void 0:r.menuOptions),contextKeyService:this._contextKeyService})})))}};D=I([R(2,S.co),R(3,x.i6),R(4,k.i),R(5,N.d),R(6,L.b)],D);var M=i(94565),P=i(72065),E=i(59554),A=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},T=function(e,t){return function(i,n){t(i,n,e)}};const O=(0,E.q5)("inline-suggestion-hints-next",l.l.chevronRight,(0,m.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),F=(0,E.q5)("inline-suggestion-hints-previous",l.l.chevronLeft,(0,m.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let W=class e extends d.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(e,t,i){const n=new s.aU(e,t,i,!0,(()=>this._commandService.executeCommand(e))),o=this.keybindingService.lookupKeybinding(e,this._contextKeyService);let r=t;return o&&(r=(0,m.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",t,o.getLabel())),n.tooltip=r,n}constructor(t,i,r,l,d,h,f,v,_,b,y){super(),this.editor=t,this.withBorder=i,this._position=r,this._currentSuggestionIdx=l,this._suggestionCount=d,this._extraCommands=h,this._commandService=f,this.keybindingService=_,this._contextKeyService=b,this._menuService=y,this.id="InlineSuggestionHintsContentWidget"+e.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,n.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,n.h)("div",{style:{display:"flex"}},[(0,n.h)("div@actionBar",{className:"custom-actions"}),(0,n.h)("div@toolBar")])]),this.previousAction=this.createCommandAction(p.Np,(0,m.NC)("previous","Previous"),g.k.asClassName(F)),this.availableSuggestionCountAction=new s.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(p.OW,(0,m.NC)("next","Next"),g.k.asClassName(O)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(S.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new c.pY((()=>{this.availableSuggestionCountAction.label=""}),100)),this.disableButtonsDebounced=this._register(new c.pY((()=>{this.previousAction.enabled=this.nextAction.enabled=!1}),100)),this.lastCommands=[];const w=this._register(new o.o(this.nodes.actionBar));w.push(this.previousAction,{icon:!0,label:!1}),w.push(this.availableSuggestionCountAction),w.push(this.nextAction,{icon:!0,label:!1}),this.toolBar=this._register(v.createInstance(H,this.nodes.toolBar,S.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:e=>e.startsWith("primary")},actionViewItemProvider:(e,t)=>e instanceof S.U8?v.createInstance(B,e,void 0):void 0,telemetrySource:"InlineSuggestionToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility((t=>{e._dropDownVisible=t}))),this._register((0,u.EH)("update position",(e=>{this._position.read(e),this.editor.layoutContentWidget(this)}))),this._register((0,u.EH)("counts",(e=>{const t=this._suggestionCount.read(e),i=this._currentSuggestionIdx.read(e);void 0!==t?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${i+1}/${t}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),void 0!==t&&t>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()}))),this._register((0,u.EH)("extra commands",(e=>{const t=this._extraCommands.read(e);if((0,a.fS)(this.lastCommands,t))return;this.lastCommands=t;const i=t.map((e=>({class:void 0,id:e.id,enabled:!0,tooltip:e.tooltip||"",label:e.title,run:t=>this._commandService.executeCommand(e.id)})));for(const[n,o]of this.inlineCompletionsActionsMenus.getActions())for(const e of o)e instanceof S.U8&&i.push(e);i.length>0&&i.unshift(new s.Z0),this.toolBar.setAdditionalSecondaryActions(i)})))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};W._dropDownVisible=!1,W.id=0,W=A([T(6,M.H),T(7,P.TG),T(8,N.d),T(9,x.i6),T(10,S.co)],W);class B extends f.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const t=(0,n.h)("div.keybinding").root,i=new r.e(t,h.OS,Object.assign({disableTitle:!0},r.F));i.set(e),this.label.textContent=this._action.label,this.label.appendChild(t),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let H=class extends D{constructor(e,t,i,n,o,r,s,a){super(e,Object.assign({resetMenu:t},i),n,o,r,s,a),this.menuId=t,this.options2=i,this.menuService=n,this.contextKeyService=o,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this._store.add(this.menu.onDidChange((()=>this.updateToolbar()))),this.updateToolbar()}updateToolbar(){var e,t,i,n,o,r,s;const a=[],c=[];(0,f.vr)(this.menu,null===(e=this.options2)||void 0===e?void 0:e.menuOptions,{primary:a,secondary:c},null===(i=null===(t=this.options2)||void 0===t?void 0:t.toolbarOptions)||void 0===i?void 0:i.primaryGroup,null===(o=null===(n=this.options2)||void 0===n?void 0:n.toolbarOptions)||void 0===o?void 0:o.shouldInlineSubmenu,null===(s=null===(r=this.options2)||void 0===r?void 0:r.toolbarOptions)||void 0===s?void 0:s.useSeparatorsInPrimaryActions),c.push(...this.additionalActions),this.setActions(a,c)}setAdditionalSecondaryActions(e){(0,a.fS)(this.additionalActions,e,((e,t)=>e===t))||(this.additionalActions=e,this.updateToolbar())}};H=A([T(3,S.co),T(4,x.i6),T(5,k.i),T(6,N.d),T(7,L.b)],H)},49504:(e,t,i)=>{"use strict";var n=i(22258),o=i(42549),r=i(16830),s=i(61329),a=i(97295),c=i(69386),l=i(24314);class d{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const i=u(e,this._cursors);for(let n=0,o=i.length;n<o;n++){const e=i[n];t.addEditOperation(e.range,e.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function u(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let s=t.length-2;s>=0;s--)t[s].lineNumber===t[s+1].lineNumber&&t.splice(s,1);const i=[];let n=0,o=0;const r=t.length;for(let s=1,d=e.getLineCount();s<=d;s++){const d=e.getLineContent(s),u=d.length+1;let h=0;if(o<r&&t[o].lineNumber===s&&(h=t[o].column,o++,h===u))continue;if(0===d.length)continue;const g=a.ow(d);let p=0;if(-1===g)p=1;else{if(g===d.length-1)continue;p=g+2}p=Math.max(h,p),i[n++]=c.h["delete"](new l.e(s,p,s,u))}return i}var h=i(94729),g=i(50187),p=i(3860),m=i(29102);class f{constructor(e,t,i){this._selection=e,this._isCopyingDown=t,this._noop=i||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let i=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._endLineNumberDelta=1,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));const n=[];for(let r=i.startLineNumber;r<=i.endLineNumber;r++)n.push(e.getLineContent(r));const o=n.join("\n");""===o&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new l.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber+1,1),i.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new l.e(i.startLineNumber,1,i.startLineNumber,1),o+"\n"):t.addEditOperation(new l.e(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o),this._selectionId=t.trackSelection(i),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=i.startLineNumber,t=i.startColumn,n=i.endLineNumber,o=i.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(n+=this._endLineNumberDelta,o=1),i=p.Y.createWithDirection(e,t,n,o,this._selectionDirection)}return i}}var v=i(10291),_=i(49119),b=i(4256),y=i(18279),w=i(75383),C=i(1615),S=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},x=function(e,t){return function(i,n){t(i,n,e)}};let k=class{constructor(e,t,i,n){this._languageConfigurationService=n,this._selection=e,this._isMovingDown=t,this._autoIndent=i,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const i=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===i)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let n=this._selection;n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const{tabSize:o,indentSize:r,insertSpaces:s}=e.getOptions(),c=this.buildIndentConverter(o,r,s),d={tokenization:{getLineTokens:t=>e.tokenization.getLineTokens(t),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(t,i)=>e.getLanguageIdAtPosition(t,i)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&1===e.getLineMaxColumn(n.startLineNumber)){const i=n.startLineNumber,o=this._isMovingDown?i+1:i-1;1===e.getLineMaxColumn(o)?t.addEditOperation(new l.e(1,1,1,1),null):(t.addEditOperation(new l.e(i,1,i,1),e.getLineContent(o)),t.addEditOperation(new l.e(o,1,o,e.getLineMaxColumn(o)),null)),n=new p.Y(o,1,o,1)}else{let i,r;if(this._isMovingDown){i=n.endLineNumber+1,r=e.getLineContent(i),t.addEditOperation(new l.e(i-1,e.getLineMaxColumn(i-1),i,e.getLineMaxColumn(i)),null);let u=r;if(this.shouldAutoIndent(e,n)){const h=this.matchEnterRule(e,c,o,i,n.startLineNumber-1);if(null!==h){const t=a.V8(e.getLineContent(i)),n=h+y.Y(t,o),c=y.J(n,o,s);u=c+this.trimLeft(r)}else{d.getLineContent=t=>t===n.startLineNumber?e.getLineContent(i):e.getLineContent(t);const t=(0,w.n8)(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber,c,this._languageConfigurationService);if(null!==t){const n=a.V8(e.getLineContent(i)),c=y.Y(t,o),l=y.Y(n,o);if(c!==l){const e=y.J(c,o,s);u=e+this.trimLeft(r)}}}t.addEditOperation(new l.e(n.startLineNumber,1,n.startLineNumber,1),u+"\n");const g=this.matchEnterRuleMovingDown(e,c,o,n.startLineNumber,i,u);if(null!==g)0!==g&&this.getIndentEditsOfMovingBlock(e,t,n,o,s,g);else{d.getLineContent=t=>t===n.startLineNumber?u:t>=n.startLineNumber+1&&t<=n.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);const r=(0,w.n8)(this._autoIndent,d,e.getLanguageIdAtPosition(i,1),n.startLineNumber+1,c,this._languageConfigurationService);if(null!==r){const i=a.V8(e.getLineContent(n.startLineNumber)),c=y.Y(r,o),l=y.Y(i,o);if(c!==l){const i=c-l;this.getIndentEditsOfMovingBlock(e,t,n,o,s,i)}}}}else t.addEditOperation(new l.e(n.startLineNumber,1,n.startLineNumber,1),u+"\n")}else if(i=n.startLineNumber-1,r=e.getLineContent(i),t.addEditOperation(new l.e(i,1,i+1,1),null),t.addEditOperation(new l.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this.shouldAutoIndent(e,n)){d.getLineContent=t=>t===i?e.getLineContent(n.startLineNumber):e.getLineContent(t);const r=this.matchEnterRule(e,c,o,n.startLineNumber,n.startLineNumber-2);if(null!==r)0!==r&&this.getIndentEditsOfMovingBlock(e,t,n,o,s,r);else{const r=(0,w.n8)(this._autoIndent,d,e.getLanguageIdAtPosition(n.startLineNumber,1),i,c,this._languageConfigurationService);if(null!==r){const i=a.V8(e.getLineContent(n.startLineNumber)),c=y.Y(r,o),l=y.Y(i,o);if(c!==l){const i=c-l;this.getIndentEditsOfMovingBlock(e,t,n,o,s,i)}}}}}this._selectionId=t.trackSelection(n)}buildIndentConverter(e,t,i){return{shiftIndent:n=>v.ShiftCommand.shiftIndent(n,n.length+1,e,t,i),unshiftIndent:n=>v.ShiftCommand.unshiftIndent(n,n.length+1,e,t,i)}}parseEnterResult(e,t,i,n,o){if(o){let r=o.indentation;o.indentAction===_.wU.None||o.indentAction===_.wU.Indent?r=o.indentation+o.appendText:o.indentAction===_.wU.IndentOutdent?r=o.indentation:o.indentAction===_.wU.Outdent&&(r=t.unshiftIndent(o.indentation)+o.appendText);const s=e.getLineContent(n);if(this.trimLeft(s).indexOf(this.trimLeft(r))>=0){const o=a.V8(e.getLineContent(n));let s=a.V8(r);const c=(0,w.tI)(e,n,this._languageConfigurationService);null!==c&&2&c&&(s=t.unshiftIndent(s));const l=y.Y(s,i),d=y.Y(o,i);return l-d}}return null}matchEnterRuleMovingDown(e,t,i,n,o,r){if(a.ow(r)>=0){const r=e.getLineMaxColumn(o),s=(0,C.A)(this._autoIndent,e,new l.e(o,r,o,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,s)}{let o=n-1;while(o>=1){const t=e.getLineContent(o),i=a.ow(t);if(i>=0)break;o--}if(o<1||n>e.getLineCount())return null;const r=e.getLineMaxColumn(o),s=(0,C.A)(this._autoIndent,e,new l.e(o,r,o,r),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,s)}}matchEnterRule(e,t,i,n,o,r){let s=o;while(s>=1){let t;t=s===o&&void 0!==r?r:e.getLineContent(s);const i=a.ow(t);if(i>=0)break;s--}if(s<1||n>e.getLineCount())return null;const c=e.getLineMaxColumn(s),d=(0,C.A)(this._autoIndent,e,new l.e(s,c,s,c),this._languageConfigurationService);return this.parseEnterResult(e,t,i,n,d)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const i=e.getLanguageIdAtPosition(t.startLineNumber,1),n=e.getLanguageIdAtPosition(t.endLineNumber,1);return i===n&&null!==this._languageConfigurationService.getLanguageConfiguration(i).indentRulesSupport}getIndentEditsOfMovingBlock(e,t,i,n,o,r){for(let s=i.startLineNumber;s<=i.endLineNumber;s++){const c=e.getLineContent(s),d=a.V8(c),u=y.Y(d,n),h=u+r,g=y.J(h,n,o);g!==d&&(t.addEditOperation(new l.e(s,1,s,d.length+1),g),s===i.endLineNumber&&i.endColumn<=d.length+1&&""===g&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let i=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(i=i.setEndPosition(i.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber&&(i=i.setEndPosition(i.endLineNumber,2)),i}};k=S([x(3,b.c_)],k);class N{static getCollator(){return N._COLLATOR||(N._COLLATOR=new Intl.Collator),N._COLLATOR}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}getEditOperations(e,t){const i=I(e,this.selection,this.descending);i&&t.addEditOperation(i.range,i.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,i){if(null===e)return!1;const n=L(e,t,i);if(!n)return!1;for(let o=0,r=n.before.length;o<r;o++)if(n.before[o]!==n.after[o])return!0;return!1}}function L(e,t,i){const n=t.startLineNumber;let o=t.endLineNumber;if(1===t.endColumn&&o--,n>=o)return null;const r=[];for(let a=n;a<=o;a++)r.push(e.getLineContent(a));let s=r.slice(0);return s.sort(N.getCollator().compare),!0===i&&(s=s.reverse()),{startLineNumber:n,endLineNumber:o,before:r,after:s}}function I(e,t,i){const n=L(e,t,i);return n?c.h.replace(new l.e(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n")):null}N._COLLATOR=null;var R=i(63580),D=i(84144);class M extends r.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const i=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));i.sort(((e,t)=>l.e.compareRangesUsingStarts(e.selection,t.selection)));let n=i[0];for(let r=1;r<i.length;r++){const e=i[r];n.selection.endLineNumber===e.selection.startLineNumber&&(n.index<e.index?e.ignore=!0:(n.ignore=!0,n=e))}const o=[];for(const r of i)o.push(new f(r.selection,this.down,r.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class P extends M{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:R.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:R.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class E extends M{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:R.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:R.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class A extends r.R6{constructor(){super({id:"editor.action.duplicateSelection",label:R.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:m.u.writable,menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:R.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,i){if(!t.hasModel())return;const n=[],o=t.getSelections(),r=t.getModel();for(const a of o)if(a.isEmpty())n.push(new f(a,!0));else{const e=new p.Y(a.endLineNumber,a.endColumn,a.endLineNumber,a.endColumn);n.push(new s.OY(e,r.getValueInRange(a)))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class T extends r.R6{constructor(e,t){super(t),this.down=e}run(e,t){const i=e.get(b.c_),n=[],o=t.getSelections()||[],r=t.getOption(10);for(const s of o)n.push(new k(s,this.down,r,i));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class O extends T{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:R.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:R.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class F extends T{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:R.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:D.eH.MenubarSelectionMenu,group:"2_line",title:R.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class W extends r.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const i=t.getSelections()||[];for(const o of i)if(!N.canRun(t.getModel(),o,this.descending))return;const n=[];for(let o=0,r=i.length;o<r;o++)n[o]=new N(i[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class B extends W{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:R.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:m.u.writable})}}class H extends W{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:R.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:m.u.writable})}}class V extends r.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:R.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:m.u.writable})}run(e,t){if(!t.hasModel())return;const i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;const n=[],o=[];let r=0;for(const s of t.getSelections()){const e=new Set,t=[];for(let n=s.startLineNumber;n<=s.endLineNumber;n++){const o=i.getLineContent(n);e.has(o)||(t.push(o),e.add(o))}const a=new p.Y(s.startLineNumber,1,s.endLineNumber,i.getLineMaxColumn(s.endLineNumber)),l=s.startLineNumber-r,d=new p.Y(l,1,l+t.length-1,t[t.length-1].length);n.push(c.h.replace(a,t.join("\n"))),o.push(d),r+=s.endLineNumber-s.startLineNumber+1-t.length}t.pushUndoStop(),t.executeEdits(this.id,n,o),t.pushUndoStop()}}class z extends r.R6{constructor(){super({id:z.ID,label:R.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:(0,n.gx)(2089,2102),weight:100}})}run(e,t,i){let n=[];"auto-save"===i.reason&&(n=(t.getSelections()||[]).map((e=>new g.L(e.positionLineNumber,e.positionColumn))));const o=t.getSelection();if(null===o)return;const r=new d(o,n);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}}z.ID="editor.action.trimTrailingWhitespace";class U extends r.R6{constructor(){super({id:"editor.action.deleteLines",label:R.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:m.u.writable,kbOpts:{kbExpr:m.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const i=this._getLinesToRemove(t),n=t.getModel();if(1===n.getLineCount()&&1===n.getLineMaxColumn(1))return;let o=0;const r=[],s=[];for(let a=0,l=i.length;a<l;a++){const e=i[a];let t=e.startLineNumber,l=e.endLineNumber,d=1,u=n.getLineMaxColumn(l);l<n.getLineCount()?(l+=1,u=1):t>1&&(t-=1,d=n.getLineMaxColumn(t)),r.push(c.h.replace(new p.Y(t,d,l,u),"")),s.push(new p.Y(t-o,e.positionColumn,t-o,e.positionColumn)),o+=e.endLineNumber-e.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));const i=[];let n=t[0];for(let o=1;o<t.length;o++)n.endLineNumber+1>=t[o].startLineNumber?n.endLineNumber=t[o].endLineNumber:(i.push(n),n=t[o]);return i.push(n),i}}class j extends r.R6{constructor(){super({id:"editor.action.indentLines",label:R.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:2142,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.indent(i.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class $ extends r.R6{constructor(){super({id:"editor.action.outdentLines",label:R.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:2140,weight:100}})}run(e,t){o.wk.Outdent.runEditorCommand(e,t,null)}}class K extends r.R6{constructor(){super({id:"editor.action.insertLineBefore",label:R.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.lineInsertBefore(i.cursorConfig,t.getModel(),t.getSelections())))}}class q extends r.R6{constructor(){super({id:"editor.action.insertLineAfter",label:R.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const i=t._getViewModel();i&&(t.pushUndoStop(),t.executeCommands(this.id,h.u6.lineInsertAfter(i.cursorConfig,t.getModel(),t.getSelections())))}}class G extends r.R6{run(e,t){if(!t.hasModel())return;const i=t.getSelection(),n=this._getRangesToDelete(t),o=[];for(let a=0,c=n.length-1;a<c;a++){const e=n[a],t=n[a+1];null===l.e.intersectRanges(e,t)?o.push(e):n[a+1]=l.e.plusRange(e,t)}o.push(n[n.length-1]);const r=this._getEndCursorState(i,o),s=o.map((e=>c.h.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class Q extends G{constructor(){super({id:"deleteAllLeft",label:R.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:m.u.writable,kbOpts:{kbExpr:m.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];let o=0;return t.forEach((t=>{let r;if(1===t.endColumn&&o>0){const e=t.startLineNumber-o;r=new p.Y(e,t.startColumn,e,t.startColumn)}else r=new p.Y(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?i=r:n.push(r)})),i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getSelections();if(null===t)return[];let i=t;const n=e.getModel();return null===n?[]:(i.sort(l.e.compareRangesUsingStarts),i=i.map((e=>{if(e.isEmpty()){if(1===e.startColumn){const t=Math.max(1,e.startLineNumber-1),i=1===e.startLineNumber?1:n.getLineContent(t).length+1;return new l.e(t,i,e.startLineNumber,1)}return new l.e(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new l.e(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),i)}}class Z extends G{constructor(){super({id:"deleteAllRight",label:R.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:m.u.writable,kbOpts:{kbExpr:m.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let i=null;const n=[];for(let o=0,r=t.length,s=0;o<r;o++){const r=t[o],a=new p.Y(r.startLineNumber-s,r.startColumn,r.startLineNumber-s,r.startColumn);r.intersectRanges(e)?i=a:n.push(a)}return i&&n.unshift(i),n}_getRangesToDelete(e){const t=e.getModel();if(null===t)return[];const i=e.getSelections();if(null===i)return[];const n=i.map((e=>{if(e.isEmpty()){const i=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===i?new l.e(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new l.e(e.startLineNumber,e.startColumn,e.startLineNumber,i)}return e}));return n.sort(l.e.compareRangesUsingStarts),n}}class Y extends r.R6{constructor(){super({id:"editor.action.joinLines",label:R.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:m.u.writable,kbOpts:{kbExpr:m.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const i=t.getSelections();if(null===i)return;let n=t.getSelection();if(null===n)return;i.sort(l.e.compareRangesUsingStarts);const o=[],r=i.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(n.equalsSelection(e)&&(n=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new p.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new p.Y(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));o.push(r);const s=t.getModel();if(null===s)return;const a=[],d=[];let u=n,h=0;for(let g=0,m=o.length;g<m;g++){const e=o[g],t=e.startLineNumber,i=1;let r,m,f=0;const v=s.getLineContent(e.endLineNumber).length-e.endColumn;if(e.isEmpty()||e.startLineNumber===e.endLineNumber){const i=e.getStartPosition();i.lineNumber<s.getLineCount()?(r=t+1,m=s.getLineMaxColumn(r)):(r=i.lineNumber,m=s.getLineMaxColumn(i.lineNumber))}else r=e.endLineNumber,m=s.getLineMaxColumn(r);let _=s.getLineContent(t);for(let n=t+1;n<=r;n++){const e=s.getLineContent(n),t=s.getLineFirstNonWhitespaceColumn(n);if(t>=1){let i=!0;""===_&&(i=!1),!i||" "!==_.charAt(_.length-1)&&"\t"!==_.charAt(_.length-1)||(i=!1,_=_.replace(/[\s\uFEFF\xA0]+$/g," "));const n=e.substr(t-1);_+=(i?" ":"")+n,f=i?n.length+1:n.length}else f=0}const b=new l.e(t,i,r,m);if(!b.isEmpty()){let i;e.isEmpty()?(a.push(c.h.replace(b,_)),i=new p.Y(b.startLineNumber-h,_.length-f+1,t-h,_.length-f+1)):e.startLineNumber===e.endLineNumber?(a.push(c.h.replace(b,_)),i=new p.Y(e.startLineNumber-h,e.startColumn,e.endLineNumber-h,e.endColumn)):(a.push(c.h.replace(b,_)),i=new p.Y(e.startLineNumber-h,e.startColumn,e.startLineNumber-h,_.length-v)),null!==l.e.intersectRanges(b,n)?u=i:d.push(i)}h+=b.endLineNumber-b.startLineNumber}d.unshift(u),t.pushUndoStop(),t.executeEdits(this.id,a,d),t.pushUndoStop()}}class J extends r.R6{constructor(){super({id:"editor.action.transpose",label:R.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:m.u.writable})}run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=[];for(let r=0,a=i.length;r<a;r++){const e=i[r];if(!e.isEmpty())continue;const t=e.getStartPosition(),a=n.getLineMaxColumn(t.lineNumber);if(t.column>=a){if(t.lineNumber===n.getLineCount())continue;const e=new l.e(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new s.T4(new p.Y(t.lineNumber,Math.max(1,t.column-1),t.lineNumber+1,1),i))}else{const e=new l.e(t.lineNumber,Math.max(1,t.column-1),t.lineNumber,t.column+1),i=n.getValueInRange(e).split("").reverse().join("");o.push(new s.hP(e,i,new p.Y(t.lineNumber,t.column+1,t.lineNumber,t.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class X extends r.R6{run(e,t){const i=t.getSelections();if(null===i)return;const n=t.getModel();if(null===n)return;const o=t.getOption(125),r=[];for(const s of i)if(s.isEmpty()){const e=s.getStartPosition(),i=t.getConfiguredWordAtPosition(e);if(!i)continue;const a=new l.e(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),d=n.getValueInRange(a);r.push(c.h.replace(a,this._modifyText(d,o)))}else{const e=n.getValueInRange(s);r.push(c.h.replace(s,this._modifyText(e,o)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class ee extends X{constructor(){super({id:"editor.action.transformToUppercase",label:R.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:m.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class te extends X{constructor(){super({id:"editor.action.transformToLowercase",label:R.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:m.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class ie{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}}class ne extends X{constructor(){super({id:"editor.action.transformToTitlecase",label:R.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:m.u.writable})}_modifyText(e,t){const i=ne.titleBoundary.get();return i?e.toLocaleLowerCase().replace(i,(e=>e.toLocaleUpperCase())):e}}ne.titleBoundary=new ie("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class oe extends X{constructor(){super({id:"editor.action.transformToSnakecase",label:R.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:m.u.writable})}_modifyText(e,t){const i=oe.caseBoundary.get(),n=oe.singleLetters.get();return i&&n?e.replace(i,"$1_$2").replace(n,"$1_$2$3").toLocaleLowerCase():e}}oe.caseBoundary=new ie("(\\p{Ll})(\\p{Lu})","gmu"),oe.singleLetters=new ie("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class re extends X{constructor(){super({id:"editor.action.transformToCamelcase",label:R.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:m.u.writable})}_modifyText(e,t){const i=re.wordBoundary.get();if(!i)return e;const n=e.split(i),o=n.shift();return o+n.map((e=>e.substring(0,1).toLocaleUpperCase()+e.substring(1))).join("")}}re.wordBoundary=new ie("[_\\s-]","gm");class se extends X{static isSupported(){const e=[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every((e=>e.isSupported()));return e}constructor(){super({id:"editor.action.transformToKebabcase",label:R.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:m.u.writable})}_modifyText(e,t){const i=se.caseBoundary.get(),n=se.singleLetters.get(),o=se.underscoreBoundary.get();return i&&n&&o?e.replace(o,"$1-$3").replace(i,"$1-$2").replace(n,"$1-$2").toLocaleLowerCase():e}}se.caseBoundary=new ie("(\\p{Ll})(\\p{Lu})","gmu"),se.singleLetters=new ie("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),se.underscoreBoundary=new ie("(\\S)(_)(\\S)","gm"),(0,r.Qr)(P),(0,r.Qr)(E),(0,r.Qr)(A),(0,r.Qr)(O),(0,r.Qr)(F),(0,r.Qr)(B),(0,r.Qr)(H),(0,r.Qr)(V),(0,r.Qr)(z),(0,r.Qr)(U),(0,r.Qr)(j),(0,r.Qr)($),(0,r.Qr)(K),(0,r.Qr)(q),(0,r.Qr)(Q),(0,r.Qr)(Z),(0,r.Qr)(Y),(0,r.Qr)(J),(0,r.Qr)(ee),(0,r.Qr)(te),oe.caseBoundary.isSupported()&&oe.singleLetters.isSupported()&&(0,r.Qr)(oe),re.wordBoundary.isSupported()&&(0,r.Qr)(re),ne.titleBoundary.isSupported()&&(0,r.Qr)(ne),se.isSupported()&&(0,r.Qr)(se)},76:(e,t,i)=>{"use strict";var n=i(9488),o=i(15393),r=i(71050),s=i(41264),a=i(17301),c=i(4669),l=i(9917),d=i(97295),u=i(70666),h=i(16830),g=i(11640),p=i(50187),m=i(24314),f=i(29102),v=i(51722),_=i(4256),b=i(63580),y=i(32064),w=i(71922),C=i(73910),S=i(88191),x=i(84013),k=(i(47202),function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s}),N=function(e,t){return function(i,n){t(i,n,e)}},L=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const I=new y.uy("LinkedEditingInputVisible",!1),R="linked-editing-decoration";let D=class e extends l.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,o){super(),this.languageConfigurationService=n,this._syncRangesToken=0,this._localToDispose=this._register(new l.SL),this._editor=e,this._providers=i.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=I.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new l.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(67)||e.hasChanged(88))&&this.reinitialize(!1)}))),this._register(this._providers.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}reinitialize(e){const t=this._editor.getModel(),i=null!==t&&(this._editor.getOption(67)||this._editor.getOption(88))&&this._providers.has(t);if(i===this._enabled&&!e)return;if(this._enabled=i,this.clearRanges(),this._localToDispose.clear(),!i||null===t)return;this._localToDispose.add(c.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,(()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()})));const n=new o.vp(this._debounceInformation.get(t)),r=()=>{var e;this._rangeUpdateTriggerPromise=n.trigger((()=>this.updateRanges()),null!==(e=this._debounceDuration)&&void 0!==e?e:this._debounceInformation.get(t))},s=new o.vp(0),a=e=>{this._rangeSyncTriggerPromise=s.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{r()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const t=this._currentDecorations.getRange(0);if(t&&e.changes.every((e=>t.intersectRanges(e.range))))return void a(this._syncRangesToken)}r()}))),this._localToDispose.add({dispose:()=>{n.dispose(),s.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||0===this._currentDecorations.length)return;const t=this._editor.getModel(),i=this._currentDecorations.getRange(0);if(!i||i.startLineNumber!==i.endLineNumber)return this.clearRanges();const n=t.getValueInRange(i);if(this._currentWordPattern){const e=n.match(this._currentWordPattern),t=e?e[0].length:0;if(t!==n.length)return this.clearRanges()}const o=[];for(let r=1,s=this._currentDecorations.length;r<s;r++){const e=this._currentDecorations.getRange(r);if(e)if(e.startLineNumber!==e.endLineNumber)o.push({range:e,text:n});else{let i=t.getValueInRange(e),r=n,s=e.startColumn,a=e.endColumn;const c=d.Mh(i,r);s+=c,i=i.substr(c),r=r.substr(c);const l=d.P1(i,r);a-=l,i=i.substr(0,i.length-l),r=r.substr(0,r.length-l),s===a&&0===r.length||o.push({range:new m.e(e.startLineNumber,s,e.endLineNumber,a),text:r})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return L(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const i=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const n=this._editor.getModel(),r=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===r){if(i.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const e=this._currentDecorations.getRange(0);if(e&&e.containsPosition(i))return}}this.clearRanges(),this._currentRequestPosition=i,this._currentRequestModelVersion=r;const s=(0,o.PG)((t=>L(this,void 0,void 0,(function*(){try{const o=new x.G(!1),a=yield E(this._providers,n,i,t);if(this._debounceInformation.update(n,o.elapsed()),s!==this._currentRequest)return;if(this._currentRequest=null,r!==n.getVersionId())return;let c=[];(null===a||void 0===a?void 0:a.ranges)&&(c=a.ranges),this._currentWordPattern=(null===a||void 0===a?void 0:a.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=c.length;e<t;e++)if(m.e.containsPosition(c[e],i)){if(l=!0,0!==e){const t=c[e];c.splice(e,1),c.unshift(t)}break}if(!l)return void this.clearRanges();const d=c.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations.set(d),this._syncRangesToken++}catch(o){(0,a.n2)(o)||(0,a.dL)(o),this._currentRequest!==s&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=s,s}))}};D.ID="editor.contrib.linkedEditing",D.DECORATION=v.qx.register({description:"linked-editing",stickiness:0,className:R}),D=k([N(1,y.i6),N(2,w.p),N(3,_.c_),N(4,S.A)],D);class M extends h.R6{constructor(){super({id:"editor.action.linkedEditing",label:b.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:y.Ao.and(f.u.writable,f.u.hasRenameProvider),kbOpts:{kbExpr:f.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const i=e.get(g.$),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return u.o.isUri(n)&&p.L.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),a.dL):super.runCommand(e,t)}run(e,t){const i=D.get(t);return i?Promise.resolve(i.updateRanges(!0)):Promise.resolve()}}const P=h._l.bindToContribution(D.get);function E(e,t,i,r){const s=e.ordered(t);return(0,o.Ps)(s.map((e=>()=>L(this,void 0,void 0,(function*(){try{return yield e.provideLinkedEditingRanges(t,i,r)}catch(n){return void(0,a.Cp)(n)}})))),(e=>!!e&&n.Of(null===e||void 0===e?void 0:e.ranges)))}(0,h.fK)(new P({id:"cancelLinkedEditingInput",precondition:I,handler:e=>e.clearRanges(),kbOpts:{kbExpr:f.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));(0,C.P6G)("editor.linkedEditingBackground",{dark:s.Il.fromHex("#f00").transparent(.3),light:s.Il.fromHex("#f00").transparent(.3),hcDark:s.Il.fromHex("#f00").transparent(.3),hcLight:s.Il.white},b.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,h.sb)("_executeLinkedEditingProvider",((e,t,i)=>{const{linkedEditingRangeProvider:n}=e.get(w.p);return E(n,t,i,r.T.None)})),(0,h._K)(D.ID,D,1),(0,h.Qr)(M)},18408:(e,t,i)=>{"use strict";var n=i(15393),o=i(71050),r=i(17301),s=i(59365),a=i(9917),c=i(66663),l=i(1432),d=i(95935),u=i(84013),h=i(70666),g=(i(47359),i(16830)),p=i(51722),m=i(88191),f=i(71922),v=i(82005),_=i(9488),b=i(98401),y=i(24314),w=i(73733),C=i(94565),S=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class x{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return S(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"===typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}}class k{constructor(e){this._disposables=new a.SL;let t=[];for(const[i,n]of e){const e=i.links.map((e=>new x(e,n)));t=k._union(t,e),(0,a.Wf)(i)&&this._disposables.add(i)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const i=[];let n,o,r,s;for(n=0,r=0,o=e.length,s=t.length;n<o&&r<s;){const o=e[n],s=t[r];if(y.e.areIntersectingOrTouching(o.range,s.range)){n++;continue}const a=y.e.compareRangesUsingStarts(o.range,s.range);a<0?(i.push(o),n++):(i.push(s),r++)}for(;n<o;n++)i.push(e[n]);for(;r<s;r++)i.push(t[r]);return i}}function N(e,t,i){const n=[],o=e.ordered(t).reverse().map(((e,o)=>Promise.resolve(e.provideLinks(t,i)).then((t=>{t&&(n[o]=[t,e])}),r.Cp)));return Promise.all(o).then((()=>{const e=new k((0,_.kX)(n));return i.isCancellationRequested?(e.dispose(),new k([])):e}))}C.P.registerCommand("_executeLinkProvider",((e,...t)=>S(void 0,void 0,void 0,(function*(){let[i,n]=t;(0,b.p_)(i instanceof h.o),"number"!==typeof n&&(n=0);const{linkProvider:r}=e.get(f.p),s=e.get(w.q).getModel(i);if(!s)return[];const a=yield N(r,s,o.T.None);if(!a)return[];for(let e=0;e<Math.min(n,a.links.length);e++)yield a.links[e].resolve(o.T.None);const c=a.links.slice(0);return a.dispose(),c}))));var L=i(63580),I=i(59422),R=i(50988),D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},M=function(e,t){return function(i,n){t(i,n,e)}},P=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let E=class e extends a.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,o,r){super(),this.editor=e,this.openerService=t,this.notificationService=i,this.languageFeaturesService=o,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=r.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new n.pY((()=>this.computeLinksNow()),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const s=this._register(new v.yN(e));this._register(s.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this._register(s.onExecute((e=>{this.onEditorMouseUp(e)}))),this._register(s.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(68)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))}))),this._register(e.onDidChangeModelContent((e=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))}))),this._register(e.onDidChangeModel((e=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)}))),this._register(e.onDidChangeModelLanguage((e=>{this.stop(),this.computeLinks.schedule(0)}))),this._register(this.providers.onDidChange((e=>{this.stop(),this.computeLinks.schedule(0)}))),this.computeLinks.schedule(0)}computeLinksNow(){return P(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.editor.getOption(68))return;const e=this.editor.getModel();if(this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,n.PG)((t=>N(this.providers,e,t)));try{const t=new u.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){(0,r.dL)(t)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(75),i=[],n=Object.keys(this.currentOccurrences);for(const r of n){const e=this.currentOccurrences[r];i.push(e.decorationId)}const o=[];if(e)for(const r of e)o.push(T.decoration(r,t));this.editor.changeDecorations((t=>{const n=t.deltaDecorations(i,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let i=0,o=n.length;i<o;i++){const t=new T(e[i],n[i]);this.currentOccurrences[t.decorationId]=t}}))}_onEditorMouseMove(e,t){const i="altKey"===this.editor.getOption(75);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,i),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(75);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((i=>{t.deactivate(i,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:n}=e;n.resolve(o.T.None).then((e=>{if("string"===typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===c.lg.file&&e.startsWith(`${c.lg.file}:`)){const i=h.o.parse(e);if(i.scheme===c.lg.file){const n=d.z_(i);let o=null;n.startsWith("/./")?o=`.${n.substr(1)}`:n.startsWith("//./")&&(o=`.${n.substr(2)}`),o&&(e=d.Vo(t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})}),(e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(L.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",n.url.toString())):"missing"===t?this.notificationService.warn(L.NC("missing.url","Failed to open this link because its target is missing.")):(0,r.dL)(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const i of t){const e=this.currentOccurrences[i.id];if(e)return e}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};E.ID="editor.linkDetector",E=D([M(1,R.v4),M(2,I.lT),M(3,f.p),M(4,m.A)],E);const A={general:p.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:p.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class T{static decoration(e,t){return{range:e.range,options:T._getOptions(e,t,!1)}}static _getOptions(e,t,i){const n=Object.assign({},i?A.active:A.general);return n.hoverMessage=O(e,t),n}constructor(e,t){this.link=e,this.decorationId=t}activate(e,t){e.changeDecorationOptions(this.decorationId,T._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,T._getOptions(this.link,t,!1))}}function O(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),n=e.tooltip?e.tooltip:i?L.NC("links.navigate.executeCmd","Execute command"):L.NC("links.navigate.follow","Follow link"),o=t?l.dz?L.NC("links.navigate.kb.meta.mac","cmd + click"):L.NC("links.navigate.kb.meta","ctrl + click"):l.dz?L.NC("links.navigate.kb.alt.mac","option + click"):L.NC("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1];t=L.NC("tooltip.explanation","Execute command {0}",e)}}const i=new s.W5("",!0).appendLink(e.url.toString(!0).replace(/ /g,"%20"),n,t).appendMarkdown(` (${o})`);return i}return(new s.W5).appendText(`${n} (${o})`)}class F extends g.R6{constructor(){super({id:"editor.action.openLink",label:L.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const i=E.get(t);if(!i)return;if(!t.hasModel())return;const n=t.getSelections();for(const o of n){const e=i.getLinkOccurrence(o.getEndPosition());e&&i.openLinkOccurrence(e,!1)}}}(0,g._K)(E.ID,E,1),(0,g.Qr)(F)},45241:(e,t,i)=>{"use strict";i.d(t,{$:()=>f});var n,o=i(53253),r=i(17301),s=i(4669),a=i(9917),c=(i(26454),i(52136)),l=i(72042),d=i(68801),u=i(82963),h=i(50988),g=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=function(e,t){return function(i,n){t(i,n,e)}},m=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let f=class e{constructor(e,t,i){this._options=e,this._languageService=t,this._openerService=i,this._onDidRenderAsync=new s.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,i){if(!e){const e=document.createElement("span");return{element:e,dispose:()=>{}}}const n=new a.SL,r=n.add((0,o.ap)(e,Object.assign(Object.assign({},this._getRenderOptions(e,n)),t),i));return r.element.classList.add("rendered-markdown"),{element:r.element,dispose:()=>n.dispose()}}_getRenderOptions(t,i){return{codeBlockRenderer:(t,i)=>m(this,void 0,void 0,(function*(){var n,o,r;let s;t?s=this._languageService.getLanguageIdByLanguageName(t):this._options.editor&&(s=null===(n=this._options.editor.getModel())||void 0===n?void 0:n.getLanguageId()),s||(s=d.bd);const a=yield(0,u.C2)(this._languageService,i,s),l=document.createElement("span");if(l.innerHTML=null!==(r=null===(o=e._ttpTokenizer)||void 0===o?void 0:o.createHTML(a))&&void 0!==r?r:a,this._options.editor){const e=this._options.editor.getOption(48);(0,c.N)(l,e)}else this._options.codeBlockFontFamily&&(l.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(l.style.fontSize=this._options.codeBlockFontSize),l})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>v(this._openerService,e,t.isTrusted),disposables:i}}}};function v(e,t,i){return m(this,void 0,void 0,(function*(){try{return yield e.open(t,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:_(i)})}catch(n){return(0,r.dL)(n),!1}}))}function _(e){return!0===e||!(!e||!Array.isArray(e.enabledCommands))&&e.enabledCommands}f._ttpTokenizer=null===(n=window.trustedTypes)||void 0===n?void 0:n.createPolicy("tokenizeToString",{createHTML(e){return e}}),f=g([p(1,l.O),p(2,h.v4)],f)},27753:(e,t,i)=>{"use strict";i.d(t,{O:()=>h});var n=i(85152),o=i(15393),r=i(9917),s=(i(27415),i(16830)),a=i(24314),c=i(63580),l=i(32064),d=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=function(e,t){return function(i,n){t(i,n,e)}};let h=class e{static get(t){return t.getContribution(e.ID)}constructor(t,i){this._messageWidget=new r.XK,this._messageListeners=new r.SL,this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(i)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let i;(0,n.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new p(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new o._F((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(i?i.containsPosition(e.target.position)||this.closeMessage():i=new a.e(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(p.fadeOut(this._messageWidget.value))}};h.ID="editor.contrib.messageController",h.MESSAGE_VISIBLE=new l.uy("messageVisible",!1,c.NC("messageVisible","Whether the editor is currently showing an inline message")),h=d([u(1,l.i6)],h);const g=s._l.bindToContribution(h.get);(0,s.fK)(new g({id:"leaveEditorMessage",precondition:h.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class p{static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(i),e.getDomNode().removeEventListener("animationend",t)},i=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}constructor(e,{lineNumber:t,column:i},n){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:i},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("message"),r.textContent=n,this._domNode.appendChild(r);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",2===e)}}(0,s._K)(h.ID,h,4)},77061:(e,t,i)=>{"use strict";var n=i(85152),o=i(15393),r=i(22258),s=i(9917),a=i(16830),c=i(28108),l=i(24314),d=i(3860),u=i(29102),h=i(55826),g=i(63580),p=i(84144),m=i(32064),f=i(71922),v=i(14495),_=i(72065),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},y=function(e,t){return function(i,n){t(i,n,e)}};function w(e,t){const i=t.filter((t=>!e.find((e=>e.equals(t)))));if(i.length>=1){const e=i.map((e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`)).join(", "),t=1===i.length?g.NC("cursorAdded","Cursor added: {0}",e):g.NC("cursorsAdded","Cursors added: {0}",e);(0,n.i7)(t)}}class C extends a.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:g.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,c.P.addCursorUp(o,r,n)),o.revealTopMostCursor(i.source),w(r,o.getCursorStates())}}class S extends a.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:g.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,i){if(!t.hasModel())return;let n=!0;i&&!1===i.logicalLine&&(n=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const r=o.getCursorStates();o.setCursorStates(i.source,3,c.P.addCursorDown(o,r,n)),o.revealBottomMostCursor(i.source),w(r,o.getCursorStates())}}class x extends a.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:g.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,i){if(!e.isEmpty()){for(let n=e.startLineNumber;n<e.endLineNumber;n++){const e=t.getLineMaxColumn(n);i.push(new d.Y(n,e,n,e))}e.endColumn>1&&i.push(new d.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const i=t.getModel(),n=t.getSelections(),o=t._getViewModel(),r=o.getCursorStates(),s=[];n.forEach((e=>this.getCursorsForSelection(e,i,s))),s.length>0&&t.setSelections(s),w(r,o.getCursorStates())}}class k extends a.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:g.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=t.getModel().getLineCount(),o=[];for(let a=i[0].startLineNumber;a<=n;a++)o.push(new d.Y(a,i[0].startColumn,a,i[0].endColumn));const r=t._getViewModel(),s=r.getCursorStates();o.length>0&&t.setSelections(o),w(s,r.getCursorStates())}}class N extends a.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:g.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const i=t.getSelections(),n=[];for(let s=i[0].startLineNumber;s>=1;s--)n.push(new d.Y(s,i[0].startColumn,s,i[0].endColumn));const o=t._getViewModel(),r=o.getCursorStates();n.length>0&&t.setSelections(n),w(r,o.getCursorStates())}}class L{constructor(e,t,i){this.selections=e,this.revealRange=t,this.revealScrollType=i}}class I{static create(e,t){if(!e.hasModel())return null;const i=t.getState();if(!e.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new I(e,t,!1,i.searchString,i.wholeWord,i.matchCase,null);let n,o,r=!1;const s=e.getSelections();1===s.length&&s[0].isEmpty()?(r=!0,n=!0,o=!0):(n=i.wholeWord,o=i.matchCase);const a=e.getSelection();let c,l=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;c=t.word,l=new d.Y(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else c=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new I(e,t,r,c,n,o,l)}constructor(e,t,i,n,o,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=i,this.searchText=n,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new L(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new L(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1);return i?new d.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new L(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new L(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1);return i?new d.Y(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(125):null,!1,1073741824)}}class R extends s.JT{static get(e){return e.getContribution(R.ID)}constructor(e){super(),this._sessionDispose=this._register(new s.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=I.create(this._editor,e);if(!t)return;this._session=t;const i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const i=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return i?new d.Y(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const i=e.getState(),n=i.matchCase,o=B(this._editor.getModel(),t,n);if(!o){const e=this._editor.getModel(),i=[];for(let n=0,o=t.length;n<o;n++)i[n]=this._expandEmptyToWord(e,t[n]);return void this._editor.setSelections(i)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){const e=this._editor.getModel();t=i.searchScope?e.findMatches(i.searchString,i.searchScope,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(125):null,!1,1073741824):e.findMatches(i.searchString,!0,i.isRegex,i.matchCase,i.wholeWord?this._editor.getOption(125):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(i.searchScope)}if(t.length>0){const e=this._editor.getSelection();for(let i=0,n=t.length;i<n;i++){const n=t[i],o=n.range.intersectRanges(e);if(o){t[i]=t[0],t[0]=n;break}}this._setSelections(t.map((e=>new d.Y(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}}R.ID="editor.contrib.multiCursorController";class D extends a.R6{run(e,t){const i=R.get(t);if(!i)return;const n=t._getViewModel();if(n){const o=n.getCursorStates(),r=h.pR.get(t);if(r)this._run(i,r);else{const n=e.get(_.TG).createInstance(h.pR,t);this._run(i,n),n.dispose()}w(o,n.getCursorStates())}}}class M extends D{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:g.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:2082,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class P extends D{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:g.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class E extends D{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:g.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:(0,r.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class A extends D{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:g.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class T extends D{constructor(){super({id:"editor.action.selectHighlights",label:g.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:3114,weight:100},menuOpts:{menuId:p.eH.MenubarSelectionMenu,group:"3_multi",title:g.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class O extends D{constructor(){super({id:"editor.action.changeAll",label:g.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:m.Ao.and(u.u.writable,u.u.editorTextFocus),kbOpts:{kbExpr:u.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class F{constructor(e,t,i,n,o){this._model=e,this._searchText=t,this._matchCase=i,this._wordSeparators=n,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map((e=>e.range)),this._cachedFindMatches.sort(l.e.compareRangesUsingStarts)),this._cachedFindMatches}}let W=class e extends s.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(103),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new o.pY((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(103)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()})));const i=h.pR.get(e);i&&this._register(i.getState().onFindReplaceStateChange((e=>{this._update()}))),this.updateSoon.schedule()}_update(){this._setState(e._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,i){if(!t)return null;if(!i.hasModel())return null;const n=i.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;const o=R.get(i);if(!o)return null;const r=h.pR.get(i);if(!r)return null;let s=o.getSession(r);if(!s){const e=i.getSelections();if(e.length>1){const t=r.getState(),n=t.matchCase,o=B(i.getModel(),e,n);if(!o)return null}s=I.create(i,r)}if(!s)return null;if(s.currentMatch)return null;if(/^[ \t]+$/.test(s.searchText))return null;if(s.searchText.length>200)return null;const a=r.getState(),c=a.matchCase;if(a.isRevealed){let e=a.searchString;c||(e=e.toLowerCase());let t=s.searchText;if(c||(t=t.toLowerCase()),e===t&&s.matchCase===a.matchCase&&s.wholeWord===a.wholeWord&&!a.isRegex)return null}return new F(i.getModel(),s.searchText,s.matchCase,s.wholeWord?i.getOption(125):null,e)}_setState(e){if(this.state=e,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const i=this.state.findMatches(),n=this.editor.getSelections();n.sort(l.e.compareRangesUsingStarts);const o=[];for(let a=0,c=0,d=i.length,u=n.length;a<d;){const e=i[a];if(c>=u)o.push(e),a++;else{const t=l.e.compareRangesUsingStarts(e,n[c]);t<0?(!n[c].isEmpty()&&l.e.areIntersecting(e,n[c])||o.push(e),a++):(t>0||a++,c++)}}const r=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(78),s=o.map((e=>({range:e,options:(0,v.w)(r)})));this._decorations.set(s)}dispose(){this._setState(null),super.dispose()}};function B(e,t,i){const n=H(e,t[0],!i);for(let o=1,r=t.length;o<r;o++){const r=t[o];if(r.isEmpty())return!1;const s=H(e,r,!i);if(n!==s)return!1}return!0}function H(e,t,i){const n=e.getValueInRange(t);return i?n.toLowerCase():n}W.ID="editor.contrib.selectionHighlighter",W=b([y(1,f.p)],W);class V extends a.R6{constructor(){super({id:"editor.action.focusNextCursor",label:g.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:g.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),r=o.shift();r&&(o.push(r),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),w(o,n.getCursorStates()))}}class z extends a.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:g.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:g.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,i){if(!t.hasModel())return;const n=t._getViewModel();if(n.cursorConfig.readOnly)return;n.model.pushStackElement();const o=Array.from(n.getCursorStates()),r=o.pop();r&&(o.unshift(r),n.setCursorStates(i.source,3,o),n.revealPrimaryCursor(i.source,!0),w(o,n.getCursorStates()))}}(0,a._K)(R.ID,R,4),(0,a._K)(W.ID,W,1),(0,a.Qr)(C),(0,a.Qr)(S),(0,a.Qr)(x),(0,a.Qr)(M),(0,a.Qr)(P),(0,a.Qr)(E),(0,a.Qr)(A),(0,a.Qr)(T),(0,a.Qr)(O),(0,a.Qr)(k),(0,a.Qr)(N),(0,a.Qr)(V),(0,a.Qr)(z)},97660:(e,t,i)=>{"use strict";var n=i(79579),o=i(9917),r=i(16830),s=i(29102),a=i(43155),c=i(71922),l=i(15393),d=i(17301),u=i(4669),h=i(44906),g=i(71050),p=i(98401),m=i(70666),f=i(50187),v=i(88216),_=i(94565),b=i(32064),y=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const w={Visible:new b.uy("parameterHintsVisible",!1),MultipleSignatures:new b.uy("parameterHintsMultipleSignatures",!1)};function C(e,t,i,n,o){return y(this,void 0,void 0,(function*(){const r=e.ordered(t);for(const e of r)try{const r=yield e.provideSignatureHelp(t,i,o,n);if(r)return r}catch(s){(0,d.Cp)(s)}}))}_.P.registerCommand("_executeSignatureHelpProvider",((e,...t)=>y(void 0,void 0,void 0,(function*(){const[i,n,o]=t;(0,p.p_)(m.o.isUri(i)),(0,p.p_)(f.L.isIPosition(n)),(0,p.p_)("string"===typeof o||!o);const r=e.get(c.p),s=yield e.get(v.S).createModelReference(i);try{const e=yield C(r.signatureHelpProvider,s.object.textEditorModel,f.L.lift(n),{triggerKind:a.WW.Invoke,isRetrigger:!1,triggerCharacter:o},g.T.None);if(!e)return;return setTimeout((()=>e.dispose()),0),e.value}finally{s.dispose()}}))));var S,x=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};(function(e){e.Default={type:0};class t{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}}e.Pending=t;class i{constructor(e){this.hints=e,this.type=1}}e.Active=i})(S||(S={}));class k extends o.JT{constructor(e,t,i=k.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new u.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=S.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new o.XK),this.triggerChars=new h.q,this.retriggerChars=new h.q,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new l.vp(i),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=S.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const i=this.editor.getModel();if(!i||!this.providers.has(i))return;const n=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(n)),t).catch(d.dL)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=t%e===e-1,n=this.editor.getOption(82).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,i=0===t,n=this.editor.getOption(82).cycle;!(e<2||i)||n?this.updateActiveSignature(i&&n?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new S.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return x(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,i=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const n=this._pendingTriggers.reduce(N);this._pendingTriggers=[];const o={triggerKind:n.triggerKind,triggerCharacter:n.triggerCharacter,isRetrigger:t,activeSignatureHelp:i};if(!this.editor.hasModel())return!1;const r=this.editor.getModel(),s=this.editor.getPosition();this.state=new S.Pending((0,l.PG)((e=>C(this.providers,r,s,o,e))),i);try{const t=yield this.state.request;return e!==this.triggerId?(null===t||void 0===t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new S.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null===t||void 0===t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(a){return e===this.triggerId&&(this.state=S.Default),(0,d.dL)(a),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const e=this.editor.getModel();if(e)for(const t of this.providers.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])if(e.length){const t=e.charCodeAt(0);this.triggerChars.add(t),this.retriggerChars.add(t)}for(const e of t.signatureHelpRetriggerCharacters||[])e.length&&this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,i=e.charCodeAt(t);(this.triggerChars.has(i)||this.isTriggered&&this.retriggerChars.has(i))&&this.trigger({triggerKind:a.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:a.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:a.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(82).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}function N(e,t){switch(t.triggerKind){case a.WW.Invoke:return t;case a.WW.ContentChange:return e;case a.WW.TriggerCharacter:default:return t}}k.DEFAULT_DELAY=120;var L=i(63580),I=i(72065),R=i(65321),D=i(85152),M=i(63161),P=i(73046),E=i(97295),A=(i(27236),i(72042)),T=i(45241),O=i(50988),F=i(73910),W=i(59554),B=i(25670),H=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},V=function(e,t){return function(i,n){t(i,n,e)}};const z=R.$,U=(0,W.q5)("parameter-hints-next",P.l.chevronDown,L.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),j=(0,W.q5)("parameter-hints-previous",P.l.chevronUp,L.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let $=class e extends o.JT{constructor(e,t,i,n,r){super(),this.editor=e,this.model=t,this.renderDisposeables=this._register(new o.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new T.$({editor:e},r,n)),this.keyVisible=w.Visible.bindTo(i),this.keyMultipleSignatures=w.MultipleSignatures.bindTo(i)}createParameterHintDOMNodes(){const e=z(".editor-widget.parameter-hints-widget"),t=R.R3(e,z(".phwrapper"));t.tabIndex=-1;const i=R.R3(t,z(".controls")),n=R.R3(i,z(".button"+B.k.asCSSSelector(j))),o=R.R3(i,z(".overloads")),r=R.R3(i,z(".button"+B.k.asCSSSelector(U)));this._register(R.nm(n,"click",(e=>{R.zB.stop(e),this.previous()}))),this._register(R.nm(r,"click",(e=>{R.zB.stop(e),this.next()})));const s=z(".body"),a=new M.s$(s,{alwaysConsumeMouseWheel:!0});this._register(a),t.appendChild(a.getDomNode());const c=R.R3(s,z(".signature")),l=R.R3(s,z(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:c,overloads:o,docs:l,scrollbar:a},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const d=()=>{if(!this.domNodes)return;const e=this.editor.getOption(48);this.domNodes.element.style.fontSize=`${e.fontSize}px`,this.domNodes.element.style.lineHeight=""+e.lineHeight/e.fontSize};d(),this._register(u.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(48))).on(d,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{var e;null===(e=this.domNodes)||void 0===e||e.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(e=this.domNodes)||void 0===e||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const i=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",i),this.keyMultipleSignatures.set(i),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const n=e.signatures[e.activeSignature];if(!n)return;const o=R.R3(this.domNodes.signature,z(".code")),r=this.editor.getOption(48);o.style.fontSize=`${r.fontSize}px`,o.style.fontFamily=r.fontFamily;const s=n.parameters.length>0,a=null!==(t=n.activeParameter)&&void 0!==t?t:e.activeParameter;if(s)this.renderParameters(o,n,a);else{const e=R.R3(o,z("span"));e.textContent=n.label}const c=n.parameters[a];if(null===c||void 0===c?void 0:c.documentation){const e=z("span.documentation");if("string"===typeof c.documentation)e.textContent=c.documentation;else{const t=this.renderMarkdownDocs(c.documentation);e.appendChild(t.element)}R.R3(this.domNodes.docs,z("p",{},e))}if(void 0===n.documentation);else if("string"===typeof n.documentation)R.R3(this.domNodes.docs,z("p",{},n.documentation));else{const e=this.renderMarkdownDocs(n.documentation);R.R3(this.domNodes.docs,e.element)}const l=this.hasDocs(n,c);if(this.domNodes.signature.classList.toggle("has-docs",l),this.domNodes.docs.classList.toggle("empty",!l),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,c){let e="";const t=n.parameters[a];e=Array.isArray(t.label)?n.label.substring(t.label[0],t.label[1]):t.label,t.documentation&&(e+="string"===typeof t.documentation?`, ${t.documentation}`:`, ${t.documentation.value}`),n.documentation&&(e+="string"===typeof n.documentation?`, ${n.documentation}`:`, ${n.documentation.value}`),this.announcedLabel!==e&&(D.Z9(L.NC("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"===typeof t.documentation&&(0,p.cW)(t.documentation).length>0)||(!!(t&&"object"===typeof t.documentation&&(0,p.cW)(t.documentation).value.length>0)||(!!(e.documentation&&"string"===typeof e.documentation&&(0,p.cW)(e.documentation).length>0)||!!(e.documentation&&"object"===typeof e.documentation&&(0,p.cW)(e.documentation.value).length>0)))}renderParameters(e,t,i){const[n,o]=this.getParameterLabelOffsets(t,i),r=document.createElement("span");r.textContent=t.label.substring(0,n);const s=document.createElement("span");s.textContent=t.label.substring(n,o),s.className="parameter active";const a=document.createElement("span");a.textContent=t.label.substring(o),R.R3(e,r,s,a)}getParameterLabelOffsets(e,t){const i=e.parameters[t];if(i){if(Array.isArray(i.label))return i.label;if(i.label.length){const t=new RegExp(`(\\W|^)${(0,E.ec)(i.label)}(?=\\W|$)`,"g");t.test(e.label);const n=t.lastIndex-i.label.length;return n>=0?[n,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}updateMaxHeight(){if(!this.domNodes)return;const e=Math.max(this.editor.getLayoutInfo().height/4,250),t=`${e}px`;this.domNodes.element.style.maxHeight=t;const i=this.domNodes.element.getElementsByClassName("phwrapper");i.length&&(i[0].style.maxHeight=t)}};$.ID="editor.widget.parameterHintsWidget",$=H([V(2,b.i6),V(3,O.v4),V(4,A.O)],$),(0,F.P6G)("editorHoverWidget.highlightForeground",{dark:F.Gwp,light:F.Gwp,hcDark:F.Gwp,hcLight:F.Gwp},L.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var K=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},q=function(e,t){return function(i,n){t(i,n,e)}};let G=class e extends o.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i){super(),this.editor=e,this.model=this._register(new k(e,i.signatureHelpProvider)),this._register(this.model.onChangedHints((e=>{var t;e?(this.widget.value.show(),this.widget.value.render(e)):null===(t=this.widget.rawValue)||void 0===t||t.hide()}))),this.widget=new n.o((()=>this._register(t.createInstance($,this.editor,this.model))))}cancel(){this.model.cancel()}previous(){var e;null===(e=this.widget.rawValue)||void 0===e||e.previous()}next(){var e;null===(e=this.widget.rawValue)||void 0===e||e.next()}trigger(e){this.model.trigger(e,0)}};G.ID="editor.controller.parameterHints",G=K([q(1,I.TG),q(2,c.p)],G);class Q extends r.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:L.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:s.u.hasSignatureHelpProvider,kbOpts:{kbExpr:s.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const i=G.get(t);null===i||void 0===i||i.trigger({triggerKind:a.WW.Invoke})}}(0,r._K)(G.ID,G,2),(0,r.Qr)(Q);const Z=175,Y=r._l.bindToContribution(G.get);(0,r.fK)(new Y({id:"closeParameterHints",precondition:w.Visible,handler:e=>e.cancel(),kbOpts:{weight:Z,kbExpr:s.u.focus,primary:9,secondary:[1033]}})),(0,r.fK)(new Y({id:"showPrevParameterHint",precondition:b.Ao.and(w.Visible,w.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:Z,kbExpr:s.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,r.fK)(new Y({id:"showNextParameterHint",precondition:b.Ao.and(w.Visible,w.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:Z,kbExpr:s.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},36943:(e,t,i)=>{"use strict";i.d(t,{Fw:()=>A,Jy:()=>T,vk:()=>B,rc:()=>F,SC:()=>U,M8:()=>j,KY:()=>H,IH:()=>V,R7:()=>z});var n=i(65321),o=i(90317),r=i(74741),s=i(73046),a=i(25670),c=i(41264),l=i(4669),d=i(36248),u=(i(86310),i(16830)),h=i(11640),g=i(84527),p=i(73098),m=i(44742),f=i(9917),v=(i(92865),i(24314)),_=i(51722);const b=new c.Il(new c.VS(0,122,204)),y={showArrow:!0,showFrame:!0,className:"",frameColor:b,arrowColor:b,keepEditorSelection:!1},w="vs.editor.contrib.zoneWidget";class C{constructor(e,t,i,n,o,r,s,a){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=i,this.heightInLines=n,this.showInHiddenAreas=s,this.ordinal=a,this._onDomNodeTop=o,this._onComputedHeight=r}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class S{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class x{constructor(e){this._editor=e,this._ruleName=x._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),n.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){n.uN(this._ruleName),n.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){1===e.column&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:v.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}x._IdGenerator=new m.R(".arrow-decoration-");class k{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new f.SL,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=d.I8(t),d.jB(this.options,y,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new x(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){var t;if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i))}null===(t=this._resizeSash)||void 0===t||t.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(e)return e.getStartPosition()}show(e,t){const i=v.e.isIRange(e)?v.e.lift(e):v.e.fromPositions(e);this._isShowing=!0,this._showImpl(i,t),this._isShowing=!1,this._positionMarkerId.set([{range:i,options:_.qx.EMPTY}])}hide(){var e;this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),null===(e=this._arrow)||void 0===e||e.hide()}_decoratingElementsHeight(){const e=this.editor.getOption(64);let t=0;if(this.options.showArrow){const i=Math.round(e/3);t+=2*i}if(this.options.showFrame){const i=Math.round(e/9);t+=2*i}return t}_showImpl(e,t){const i=e.getStartPosition(),n=this.editor.getLayoutInfo(),o=this._getWidth(n);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(n)+"px";const r=document.createElement("div");r.style.overflow="hidden";const s=this.editor.getOption(64),a=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,a);let c=0,l=0;if(this._arrow&&this.options.showArrow&&(c=Math.round(s/3),this._arrow.height=c,this._arrow.show(i)),this.options.showFrame&&(l=Math.round(s/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new C(r,i.lineNumber,i.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e)),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new S(w+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:l;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}const d=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=c+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,o),this.options.keepEditorSelection||this.editor.setSelection(e);const u=this.editor.getModel();if(u){const t=u.validateRange(new v.e(e.startLineNumber,1,e.endLineNumber+1,1));this.revealRange(t,t.endLineNumber===u.getLineCount())}}revealRange(e,t){t?this.editor.revealLineNearTop(e.endLineNumber,0):this.editor.revealRange(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new p.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){const i=(t.currentY-e.startY)/this.editor.getOption(64),n=i<0?Math.ceil(i):Math.floor(i),o=e.heightInLines+n;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var N=i(63580),L=i(30833),I=i(32064),R=i(65026),D=i(72065),M=i(73910),P=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,n){t(i,n,e)}};const A=(0,D.yh)("IPeekViewService");var T;(0,R.z)(A,class{constructor(){this._widgets=new Map}addExclusiveWidget(e,t){const i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());const n=()=>{const i=this._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),this._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(n)})}},1),function(e){e.inPeekEditor=new I.uy("inReferenceSearchEditor",!0,N.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),e.notInPeekEditor=e.inPeekEditor.toNegated()}(T||(T={}));let O=class{constructor(e,t){e instanceof g.H&&T.inPeekEditor.bindTo(t)}dispose(){}};function F(e){const t=e.get(h.$).getFocusedCodeEditor();return t instanceof g.H?t.getParentEditor():t}O.ID="editor.contrib.referenceController",O=P([E(1,I.i6)],O),(0,u._K)(O.ID,O,0);const W={headerBackgroundColor:c.Il.white,primaryHeadingColor:c.Il.fromHex("#333333"),secondaryHeadingColor:c.Il.fromHex("#6c6c6cb3")};let B=class extends k{constructor(e,t,i){super(e,t),this.instantiationService=i,this._onDidClose=new l.Q5,this.onDidClose=this._onDidClose.event,d.jB(this.options,W,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=n.$(".head"),this._bodyElement=n.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){this._titleElement=n.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),n.mu(this._titleElement,"click",(e=>this._onTitleClick(e)))),n.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=n.$("span.filename"),this._secondaryHeading=n.$("span.dirname"),this._metaHeading=n.$("span.meta"),n.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const i=n.$(".peekview-actions");n.R3(this._headElement,i);const c=this._getActionBarOptions();this._actionbarWidget=new o.o(i,c),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new r.aU("peekview.close",N.NC("label.close","Close"),a.k.asClassName(s.l.close),!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:L.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:n.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,n.$Z(this._metaHeading)):n.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const i=Math.ceil(1.2*this.editor.getOption(64)),n=Math.round(e-(i+2));this._doLayoutHead(i,t),this._doLayoutBody(n,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};B=P([E(2,D.TG)],B);const H=(0,M.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:c.Il.black,hcLight:c.Il.white},N.NC("peekViewTitleBackground","Background color of the peek view title area.")),V=(0,M.P6G)("peekViewTitleLabel.foreground",{dark:c.Il.white,light:c.Il.black,hcDark:c.Il.white,hcLight:M.NOs},N.NC("peekViewTitleForeground","Color of the peek view title.")),z=(0,M.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},N.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),U=(0,M.P6G)("peekView.border",{dark:M.c63,light:M.c63,hcDark:M.lRK,hcLight:M.lRK},N.NC("peekViewBorder","Color of the peek view borders and arrow.")),j=(0,M.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:c.Il.black,hcLight:c.Il.white},N.NC("peekViewResultsBackground","Background color of the peek view result list.")),$=((0,M.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:c.Il.white,hcLight:M.NOs},N.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,M.P6G)("peekViewResult.fileForeground",{dark:c.Il.white,light:"#1E1E1E",hcDark:c.Il.white,hcLight:M.NOs},N.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,M.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},N.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,M.P6G)("peekViewResult.selectionForeground",{dark:c.Il.white,light:"#6C6C6C",hcDark:c.Il.white,hcLight:M.NOs},N.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,M.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:c.Il.black,hcLight:c.Il.white},N.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,M.P6G)("peekViewEditorGutter.background",{dark:$,light:$,hcDark:$,hcLight:$},N.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,M.P6G)("peekViewEditorStickyScroll.background",{dark:$,light:$,hcDark:$,hcLight:$},N.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),(0,M.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},N.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,M.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},N.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,M.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:M.xL1,hcLight:M.xL1},N.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},83943:(e,t,i)=>{"use strict";i.d(t,{X:()=>u});var n=i(88289),o=i(9917),r=i(98401),s=i(65520),a=i(84973),c=i(8625),l=i(97781),d=i(85152);class u{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var i;const n=new o.SL;e.canAcceptInBackground=!!(null===(i=this.options)||void 0===i?void 0:i.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const r=n.add(new o.XK);return r.value=this.doProvide(e,t),n.add(this.onDidActiveTextEditorControlChange((()=>{r.value=void 0,r.value=this.doProvide(e,t)}))),n}doProvide(e,t){const i=new o.SL,a=this.activeTextEditorControl;if(a&&this.canProvideWithTextEditor(a)){const c={editor:a},l=(0,s.Pi)(a);if(l){let e=(0,r.f6)(a.saveViewState());i.add(l.onDidChangeCursorPosition((()=>{e=(0,r.f6)(a.saveViewState())}))),c.restoreViewState=()=>{e&&a===this.activeTextEditorControl&&a.restoreViewState(e)},i.add((0,n.I)(t.onCancellationRequested)((()=>{var e;return null===(e=c.restoreViewState)||void 0===e?void 0:e.call(c)})))}i.add((0,o.OF)((()=>this.clearDecorations(a)))),i.add(this.provideWithTextEditor(c,e,t))}else i.add(this.provideWithoutTextEditor(e,t));return i}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus();const i=e.getModel();i&&"getLineContent"in i&&(0,d.Z9)(`${i.getLineContent(t.range.startLineNumber)}`)}getModel(e){var t;return(0,s.QI)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),i.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,l.EN)(c.m9),position:a.sh.Full}}}],[o,r]=e.deltaDecorations(i,n);this.rangeHighlightDecorationId={rangeHighlightId:o,overviewRulerDecorationId:r}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}}},82379:(e,t,i)=>{"use strict";var n=i(85152),o=i(15393),r=i(71050),s=i(17301),a=i(9917),c=i(98401),l=i(70666),d=i(14410),u=i(16830),h=i(66007),g=i(11640),p=i(50187),m=i(24314),f=i(29102),v=i(71765),_=i(27753),b=i(63580),y=i(23193),w=i(32064),C=i(72065),S=i(43557),x=i(59422),k=i(90535),N=i(89872),L=(i(51058),i(91847)),I=i(73910),R=i(97781),D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},M=function(e,t){return function(i,n){t(i,n,e)}};const P=new w.uy("renameInputVisible",!1,(0,b.NC)("renameInputVisible","Whether the rename input widget is visible"));let E=class{constructor(e,t,i,n,o){this._editor=e,this._acceptKeybindings=t,this._themeService=i,this._keybindingService=n,this._disposables=new a.SL,this.allowEditorOverflow=!0,this._visibleContextKey=P.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(48)&&this._updateFont()}))),this._disposables.add(i.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,b.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(e){var t,i,n,o;if(!this._input||!this._domNode)return;const r=e.getColor(I.rh),s=e.getColor(I.A42);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(I.D0T))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.border=s?`1px solid ${s}`:"",this._domNode.style.color=String(null!==(i=e.getColor(I.zJb))&&void 0!==i?i:""),this._input.style.backgroundColor=String(null!==(n=e.getColor(I.sEe))&&void 0!==n?n:"");const a=e.getColor(I.dt_);this._input.style.borderWidth=a?"1px":"0px",this._input.style.borderStyle=a?"solid":"none",this._input.style.borderColor=null!==(o=null===a||void 0===a?void 0:a.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(48);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var e,t;const[i,n]=this._acceptKeybindings;return this._label.innerText=(0,b.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(i))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(n))||void 0===t?void 0:t.getLabel()),null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;null===(t=this._currentAcceptInput)||void 0===t||t.call(this,e)}cancelInput(e){var t;null===(t=this._currentCancelInput)||void 0===t||t.call(this,e)}getInput(e,t,i,n,o,r){this._domNode.classList.toggle("preview",o),this._position=new p.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",i.toString()),this._input.setAttribute("selectionEnd",n.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const s=new a.SL;return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=i=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:o&&i})):this.cancelInput(!0)},s.add(r.onCancellationRequested((()=>this.cancelInput(!0)))),s.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!document.hasFocus())))),this._show()})).finally((()=>{s.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};E=D([M(2,R.XE),M(3,L.d),M(4,w.i6)],E);var A=i(71922),T=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},O=function(e,t){return function(i,n){t(i,n,e)}},F=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class W{constructor(e,t,i){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=i.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return F(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const i=this._providers[this._providerRenameIdx];if(!i.resolveRenameLocation)break;const n=yield i.resolveRenameLocation(this.model,this.position,e);if(n){if(!n.rejectReason)return n;t.push(n.rejectReason)}}const i=this.model.getWordAtPosition(this.position);return i?{range:new m.e(this.position.lineNumber,i.startColumn,this.position.lineNumber,i.endColumn),text:i.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:m.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return F(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,n){return F(this,void 0,void 0,(function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:i.join("\n")};const r=yield o.provideRenameEdits(this.model,this.position,e,n);return r?r.rejectReason?this._provideRenameEdits(e,t+1,i.concat(r.rejectReason),n):r:this._provideRenameEdits(e,t+1,i.concat(b.NC("no result","No result.")),n)}))}}function B(e,t,i,n){return F(this,void 0,void 0,(function*(){const o=new W(t,i,e),s=yield o.resolveRenameLocation(r.T.None);return(null===s||void 0===s?void 0:s.rejectReason)?{edits:[],rejectReason:s.rejectReason}:o.provideRenameEdits(n,r.T.None)}))}let H=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,o,s,c,l){this.editor=e,this._instaService=t,this._notificationService=i,this._bulkEditService=n,this._progressService=o,this._logService=s,this._configService=c,this._languageFeaturesService=l,this._disposableStore=new a.SL,this._cts=new r.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(E,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return F(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),this._cts=new r.A,!this.editor.hasModel())return;const i=this.editor.getPosition(),s=new W(this.editor.getModel(),i,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;const a=new d.Dl(this.editor,5,void 0,this._cts.token);let c;try{const e=s.resolveRenameLocation(a.token);this._progressService.showWhile(e,250),c=yield e}catch(y){return void(null===(e=_.O.get(this.editor))||void 0===e||e.showMessage(y||b.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),i))}finally{a.dispose()}if(!c)return;if(c.rejectReason)return void(null===(t=_.O.get(this.editor))||void 0===t||t.showMessage(c.rejectReason,i));if(a.token.isCancellationRequested)return;const l=new d.Dl(this.editor,5,c.range,this._cts.token),u=this.editor.getSelection();let h=0,g=c.text.length;m.e.isEmpty(u)||m.e.spansMultipleLines(u)||!m.e.containsRange(c.range,u)||(h=Math.max(0,u.startColumn-c.range.startColumn),g=Math.min(c.range.endColumn,u.endColumn)-c.range.startColumn);const p=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),f=yield this._renameInputField.getInput(c.range,c.text,h,g,p,l.token);if("boolean"===typeof f)return f&&this.editor.focus(),void l.dispose();this.editor.focus();const v=(0,o.eP)(s.provideRenameEdits(f.newName,l.token),l.token).then((e=>F(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):(this.editor.setSelection(m.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(e,{editor:this.editor,showPreview:f.wantsPreview,label:b.NC("label","Renaming '{0}' to '{1}'",null===c||void 0===c?void 0:c.text,f.newName),code:"undoredo.rename",quotableLabel:b.NC("quotableLabel","Renaming {0} to {1}",null===c||void 0===c?void 0:c.text,f.newName),respectAutoSaveConfig:!0}).then((e=>{e.ariaSummary&&(0,n.Z9)(b.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",c.text,f.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(b.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(e)}))))}))),(e=>{this._notificationService.error(b.NC("rename.failed","Rename failed to compute edits")),this._logService.error(e)})).finally((()=>{l.dispose()}));return this._progressService.showWhile(v,250),v}))}acceptRenameInput(e){this._renameInputField.acceptInput(e)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};H.ID="editor.contrib.renameController",H=T([O(1,C.TG),O(2,x.lT),O(3,h.vu),O(4,k.ek),O(5,S.VZ),O(6,v.V),O(7,A.p)],H);class V extends u.R6{constructor(){super({id:"editor.action.rename",label:b.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:w.Ao.and(f.u.writable,f.u.hasRenameProvider),kbOpts:{kbExpr:f.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const i=e.get(g.$),[n,o]=Array.isArray(t)&&t||[void 0,void 0];return l.o.isUri(n)&&p.L.isIPosition(o)?i.openCodeEditor({resource:n},i.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),s.dL):super.runCommand(e,t)}run(e,t){const i=H.get(t);return i?i.run():Promise.resolve()}}(0,u._K)(H.ID,H,4),(0,u.Qr)(V);const z=u._l.bindToContribution(H.get);(0,u.fK)(new z({id:"acceptRenameInput",precondition:P,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:w.Ao.and(f.u.focus,w.Ao.not("isComposing")),primary:3}})),(0,u.fK)(new z({id:"acceptRenameInputWithPreview",precondition:w.Ao.and(P,w.Ao.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:w.Ao.and(f.u.focus,w.Ao.not("isComposing")),primary:1027}})),(0,u.fK)(new z({id:"cancelRenameInput",precondition:P,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:f.u.focus,primary:9,secondary:[1033]}})),(0,u.sb)("_executeDocumentRenameProvider",(function(e,t,i,...n){const[o]=n;(0,c.p_)("string"===typeof o);const{renameProvider:r}=e.get(A.p);return B(r,t,i,o)})),(0,u.sb)("_executePrepareRename",(function(e,t,i){return F(this,void 0,void 0,(function*(){const{renameProvider:n}=e.get(A.p),o=new W(t,i,n),s=yield o.resolveRenameLocation(r.T.None);if(null===s||void 0===s?void 0:s.rejectReason)throw new Error(s.rejectReason);return s}))})),N.B.as(y.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:b.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},79694:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var n=i(91741),o=i(50187),r=i(24314),s=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class a{provideSelectionRanges(e,t){return s(this,void 0,void 0,(function*(){const i=[];for(const n of t){const t=[];i.push(t);const o=new Map;yield new Promise((t=>a._bracketsRightYield(t,0,e,n,o))),yield new Promise((i=>a._bracketsLeftYield(i,0,e,n,o,t)))}return i}))}static _bracketsRightYield(e,t,i,o,r){const s=new Map,c=Date.now();while(1){if(t>=a._maxRounds){e();break}if(!o){e();break}const l=i.bracketPairs.findNextBracket(o);if(!l){e();break}const d=Date.now()-c;if(d>a._maxDuration){setTimeout((()=>a._bracketsRightYield(e,t+1,i,o,r)));break}if(l.bracketInfo.isOpeningBracket){const e=l.bracketInfo.bracketText,t=s.has(e)?s.get(e):0;s.set(e,t+1)}else{const e=l.bracketInfo.getOpeningBrackets()[0].bracketText;let t=s.has(e)?s.get(e):0;if(t-=1,s.set(e,Math.max(0,t)),t<0){let t=r.get(e);t||(t=new n.S,r.set(e,t)),t.push(l.range)}}o=l.range.getEndPosition()}}static _bracketsLeftYield(e,t,i,n,o,s){const c=new Map,l=Date.now();while(1){if(t>=a._maxRounds&&0===o.size){e();break}if(!n){e();break}const d=i.bracketPairs.findPrevBracket(n);if(!d){e();break}const u=Date.now()-l;if(u>a._maxDuration){setTimeout((()=>a._bracketsLeftYield(e,t+1,i,n,o,s)));break}if(d.bracketInfo.isOpeningBracket){const e=d.bracketInfo.bracketText;let t=c.has(e)?c.get(e):0;if(t-=1,c.set(e,Math.max(0,t)),t<0){const t=o.get(e);if(t){const n=t.shift();0===t.size&&o.delete(e);const c=r.e.fromPositions(d.range.getEndPosition(),n.getStartPosition()),l=r.e.fromPositions(d.range.getStartPosition(),n.getEndPosition());s.push({range:c}),s.push({range:l}),a._addBracketLeading(i,l,s)}}}else{const e=d.bracketInfo.getOpeningBrackets()[0].bracketText,t=c.has(e)?c.get(e):0;c.set(e,t+1)}n=d.range.getStartPosition()}}static _addBracketLeading(e,t,i){if(t.startLineNumber===t.endLineNumber)return;const n=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(n);0!==s&&s!==t.startColumn&&(i.push({range:r.e.fromPositions(new o.L(n,s),t.getEndPosition())}),i.push({range:r.e.fromPositions(new o.L(n,1),t.getEndPosition())}));const a=n-1;if(a>0){const n=e.getLineFirstNonWhitespaceColumn(a);n===t.startColumn&&n!==e.getLineLastNonWhitespaceColumn(a)&&(i.push({range:r.e.fromPositions(new o.L(a,n),t.getEndPosition())}),i.push({range:r.e.fromPositions(new o.L(a,1),t.getEndPosition())}))}}}a._maxDuration=30,a._maxRounds=2},47721:(e,t,i)=>{"use strict";var n=i(9488),o=i(71050),r=i(17301),s=i(16830),a=i(50187),c=i(24314),l=i(3860),d=i(29102),u=i(79694),h=i(97295);class g{provideSelectionRanges(e,t){const i=[];for(const n of t){const t=[];i.push(t),this._addInWordRanges(t,e,n),this._addWordRanges(t,e,n),this._addWhitespaceLine(t,e,n),t.push({range:e.getFullModelRange()})}return i}_addInWordRanges(e,t,i){const n=t.getWordAtPosition(i);if(!n)return;const{word:o,startColumn:r}=n,s=i.column-r;let a=s,l=s,d=0;for(;a>=0;a--){const e=o.charCodeAt(a);if(a!==s&&(95===e||45===e))break;if((0,h.mK)(e)&&(0,h.df)(d))break;d=e}for(a+=1;l<o.length;l++){const e=o.charCodeAt(l);if((0,h.df)(e)&&(0,h.mK)(d))break;if(95===e||45===e)break;d=e}a<l&&e.push({range:new c.e(i.lineNumber,r+a,i.lineNumber,r+l)})}_addWordRanges(e,t,i){const n=t.getWordAtPosition(i);n&&e.push({range:new c.e(i.lineNumber,n.startColumn,i.lineNumber,n.endColumn)})}_addWhitespaceLine(e,t,i){t.getLineLength(i.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(i.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(i.lineNumber)&&e.push({range:new c.e(i.lineNumber,1,i.lineNumber,t.getLineMaxColumn(i.lineNumber))})}}var p=i(63580),m=i(84144),f=i(94565),v=i(71922),_=i(88216),b=i(98401),y=i(70666),w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},C=function(e,t){return function(i,n){t(i,n,e)}},S=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class x{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const i=new x(t,this.ranges);return i.ranges[t].equalsRange(this.ranges[this.index])?i.mov(e):i}}let k=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return S(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),i=this._editor.getModel();if(this._state||(yield R(this._languageFeaturesService.selectionRangeProvider,i,t.map((e=>e.getPosition())),this._editor.getOption(108),o.T.None).then((e=>{var i;if(n.Of(e)&&e.length===t.length&&this._editor.hasModel()&&n.fS(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let i=0;i<e.length;i++)e[i]=e[i].filter((e=>e.containsPosition(t[i].getStartPosition())&&e.containsPosition(t[i].getEndPosition()))),e[i].unshift(t[i]);this._state=e.map((e=>new x(0,e))),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const r=this._state.map((e=>l.Y.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}}))}};k.ID="editor.contrib.smartSelectController",k=w([C(1,v.p)],k);class N extends s.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return S(this,void 0,void 0,(function*(){const e=k.get(t);e&&(yield e.run(this._forward))}))}}class L extends N{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:p.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}f.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class I extends N{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:p.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:d.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:m.eH.MenubarSelectionMenu,group:"1_basic",title:p.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}function R(e,t,i,o,s){return S(this,void 0,void 0,(function*(){const l=e.all(t).concat(new g);1===l.length&&l.unshift(new u.x);const d=[],h=[];for(const e of l)d.push(Promise.resolve(e.provideSelectionRanges(t,i,s)).then((e=>{if(n.Of(e)&&e.length===i.length)for(let t=0;t<i.length;t++){h[t]||(h[t]=[]);for(const n of e[t])c.e.isIRange(n.range)&&c.e.containsPosition(n.range,i[t])&&h[t].push(c.e.lift(n.range))}}),r.Cp));return yield Promise.all(d),h.map((e=>{if(0===e.length)return[];e.sort(((e,t)=>a.L.isBefore(e.getStartPosition(),t.getStartPosition())?1:a.L.isBefore(t.getStartPosition(),e.getStartPosition())||a.L.isBefore(e.getEndPosition(),t.getEndPosition())?-1:a.L.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));const i=[];let n;for(const t of e)(!n||c.e.containsRange(t,n)&&!c.e.equalsRange(t,n))&&(i.push(t),n=t);if(!o.selectLeadingAndTrailingWhitespace)return i;const r=[i[0]];for(let o=1;o<i.length;o++){const e=i[o-1],n=i[o];if(n.startLineNumber!==e.startLineNumber||n.endLineNumber!==e.endLineNumber){const i=new c.e(e.startLineNumber,t.getLineFirstNonWhitespaceColumn(e.startLineNumber),e.endLineNumber,t.getLineLastNonWhitespaceColumn(e.endLineNumber));i.containsRange(e)&&!i.equalsRange(e)&&n.containsRange(i)&&!n.equalsRange(i)&&r.push(i);const o=new c.e(e.startLineNumber,1,e.endLineNumber,t.getLineMaxColumn(e.endLineNumber));o.containsRange(e)&&!o.equalsRange(i)&&n.containsRange(o)&&!n.equalsRange(o)&&r.push(o)}r.push(n)}return r}))}))}(0,s._K)(k.ID,k,4),(0,s.Qr)(L),(0,s.Qr)(I),f.P.registerCommand("_executeSelectionRangeProvider",(function(e,...t){return S(this,void 0,void 0,(function*(){const[i,n]=t;(0,b.p_)(y.o.isUri(i));const r=e.get(v.p).selectionRangeProvider,s=yield e.get(_.S).createModelReference(i);try{return R(r,s.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},o.T.None)}finally{s.dispose()}}))}))},98762:(e,t,i)=>{"use strict";i.d(t,{f:()=>_});var n=i(9917),o=i(98401),r=i(16830),s=i(50187),a=i(29102),c=i(4256),l=i(71922),d=i(55621),u=i(63580),h=i(32064),g=i(43557),p=i(70500),m=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},f=function(e,t){return function(i,n){t(i,n,e)}};const v={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let _=class e{static get(t){return t.getContribution(e.ID)}constructor(t,i,o,r,s){this._editor=t,this._logService=i,this._languageFeaturesService=o,this._languageConfigurationService=s,this._snippetListener=new n.SL,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(r),this._hasNextTabstop=e.HasNextTabstop.bindTo(r),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(r)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,"undefined"===typeof t?v:Object.assign(Object.assign({},v),t))}catch(i){this.cancel(),this._logService.error(i),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var i;if(this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!==typeof e&&this.cancel(),this._session?((0,o.p_)("string"===typeof e),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new p.l(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),null===(i=this._session)||void 0===i?void 0:i.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(e,t)=>{if(!this._session||e!==this._editor.getModel()||!s.L.equals(this._editor.getPosition(),t))return;const{activeChoice:i}=this._session;if(!i||0===i.choice.options.length)return;const n=e.getValueInRange(i.range),o=Boolean(i.choice.options.find((e=>e.value===n))),r=[];for(let s=0;s<i.choice.options.length;s++){const e=i.choice.options[s];r.push({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(s+1),range:i.range,filterText:o?`${n}_${e.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,u.NC)("next","Go to next placeholder...")}})}return{suggestions:r}}};const e=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme,exclusive:!0},this._choiceCompletionItemProvider);this._snippetListener.add(e)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState())))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:e}=this._session;e&&this._choiceCompletionItemProvider?this._currentChoice!==e.choice&&(this._currentChoice=e.choice,queueMicrotask((()=>{(0,d.i5)(this._editor,this._choiceCompletionItemProvider)}))):this._currentChoice=void 0}finish(){while(this._inSnippet.get())this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){var e;null===(e=this._session)||void 0===e||e.prev(),this._updateState()}next(){var e;null===(e=this._session)||void 0===e||e.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};_.ID="snippetController2",_.InSnippetMode=new h.uy("inSnippetMode",!1,(0,u.NC)("inSnippetMode","Whether the editor in current in snippet mode")),_.HasNextTabstop=new h.uy("hasNextTabstop",!1,(0,u.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),_.HasPrevTabstop=new h.uy("hasPrevTabstop",!1,(0,u.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),_=m([f(1,g.VZ),f(2,l.p),f(3,h.i6),f(4,c.c_)],_),(0,r._K)(_.ID,_,4);const b=r._l.bindToContribution(_.get);(0,r.fK)(new b({id:"jumpToNextSnippetPlaceholder",precondition:h.Ao.and(_.InSnippetMode,_.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:a.u.editorTextFocus,primary:2}})),(0,r.fK)(new b({id:"jumpToPrevSnippetPlaceholder",precondition:h.Ao.and(_.InSnippetMode,_.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:a.u.editorTextFocus,primary:1026}})),(0,r.fK)(new b({id:"leaveSnippet",precondition:_.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:a.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,r.fK)(new b({id:"acceptSnippet",precondition:_.InSnippetMode,handler:e=>e.finish()}))},35084:(e,t,i)=>{"use strict";i.d(t,{Lv:()=>c,Vm:()=>a,Yj:()=>p,xv:()=>r,y1:()=>g});class n{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t,i=0,o=this.value.charCodeAt(e);if(t=n._table[o],"number"===typeof t)return this.pos+=1,{type:t,pos:e,len:1};if(n.isDigitCharacter(o)){t=8;do{i+=1,o=this.value.charCodeAt(e+i)}while(n.isDigitCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}if(n.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(e+ ++i)}while(n.isVariableCharacter(o)||n.isDigitCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}t=10;do{i+=1,o=this.value.charCodeAt(e+i)}while(!isNaN(o)&&"undefined"===typeof n._table[o]&&!n.isDigitCharacter(o)&&!n.isVariableCharacter(o));return this.pos+=i,{type:t,pos:e,len:i}}}n._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class o{constructor(){this._children=[]}appendChild(e){return e instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:i}=e,n=i.children.indexOf(e),o=i.children.slice(0);o.splice(n,1,...t),i._children=o,function e(t,i){for(const n of t)n.parent=i,e(n.children,n)}(t,i)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let e=this;while(1){if(!e)return;if(e instanceof g)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}}class r extends o{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}}class s extends o{}class a extends s{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}constructor(e){super(),this.index=e}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof c?this._children[0]:void 0}clone(){const e=new a(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}class c extends o{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof r&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new c;return this.options.forEach(e.appendChild,e),e}}class l extends o{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let i=!1,n=e.replace(this.regexp,(function(){return i=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!i&&this._children.some((e=>e instanceof d&&Boolean(e.elseValue)))&&(n=this._replace([])),n}_replace(e){let t="";for(const i of this._children)if(i instanceof d){let n=e[i.index]||"";n=i.resolve(n),t+=n}else t+=i.toString();return t}toString(){return""}clone(){const e=new l;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}}class d extends o{constructor(e,t,i,n){super(),this.index=e,this.shorthandName=t,this.ifValue=i,this.elseValue=n}resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:Boolean(e)||"string"!==typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e=>e.charAt(0).toUpperCase()+e.substr(1))).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(((e,t)=>0===t?e.charAt(0).toLowerCase()+e.substr(1):e.charAt(0).toUpperCase()+e.substr(1))).join(""):e}clone(){const e=new d(this.index,this.shorthandName,this.ifValue,this.elseValue);return e}}class u extends s{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new r(t)],!0)}clone(){const e=new u(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}}function h(e,t){const i=[...e];while(i.length>0){const e=i.shift(),n=t(e);if(!n)break;i.unshift(...e.children)}}class g extends o{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk((function(i){return i instanceof a&&(e.push(i),t=!t||t.index<i.index?i:t),!0})),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,i=!1;return this.walk((n=>n===e?(i=!0,!1):(t+=n.len(),!0))),i?t:-1}fullLen(e){let t=0;return h([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){const t=[];let{parent:i}=e;while(i)i instanceof a&&t.push(i),i=i.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof u&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new g;return this._children=this.children.map((e=>e.clone())),e}walk(e){h(this.children,e)}}class p{constructor(){this._scanner=new n,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,i){const n=new g;return this.parseFragment(e,n),this.ensureFinalTabstop(n,null!==i&&void 0!==i&&i,null!==t&&void 0!==t&&t),n}parseFragment(e,t){const i=t.children.length;this._scanner.text(e),this._token=this._scanner.next();while(this._parse(t));const n=new Map,o=[];t.walk((e=>(e instanceof a&&(e.isFinalTabstop?n.set(0,void 0):!n.has(e.index)&&e.children.length>0?n.set(e.index,e.children):o.push(e)),!0)));const r=(e,i)=>{const o=n.get(e.index);if(!o)return;const s=new a(e.index);s.transform=e.transform;for(const t of o){const e=t.clone();s.appendChild(e),e instanceof a&&n.has(e.index)&&!i.has(e.index)&&(i.add(e.index),r(e,i),i.delete(e.index))}t.replace(e,[s])},s=new Set;for(const a of o)r(a,s);return t.children.slice(i)}ensureFinalTabstop(e,t,i){if(t||i&&e.placeholders.length>0){const t=e.placeholders.find((e=>0===e.index));t||e.appendChild(new a(0))}}_accept(e,t){if(void 0===e||this._token.type===e){const e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;while(this._token.type!==e){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new r(t)),!0)}_parseTabstopOrVariableName(e){let t;const i=this._token,n=this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0));return n?(e.appendChild(/^\d+$/.test(t)?new a(Number(t)):new u(t)),!0):this._backTo(i)}_parseComplexPlaceholder(e){let t;const i=this._token,n=this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0));if(!n)return this._backTo(i);const o=new a(Number(t));if(this._accept(1))while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new r("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else{if(!(o.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);{const t=new c;while(1){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(t),this._accept(4)))return e.appendChild(o),!0}return this._backTo(i),!1}}}}_parseChoiceElement(e){const t=this._token,i=[];while(1){if(2===this._token.type||7===this._token.type)break;let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;i.push(e)}return 0===i.length?(this._backTo(t),!1):(e.appendChild(new r(i.join(""))),!0)}_parseComplexVariable(e){let t;const i=this._token,n=this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0));if(!n)return this._backTo(i);const o=new u(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(i),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(i);while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new r("${"+t+":")),o.children.forEach(e.appendChild,e),!0}}_parseTransform(e){const t=new l;let i="",n="";while(1){if(this._accept(6))break;let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,i+=e;else{if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}}while(1){if(this._accept(6))break;let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new r(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}while(1){if(this._accept(4))break;if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}try{t.regexp=new RegExp(i,n)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let i=!1;this._accept(3)&&(i=!0);const n=this._accept(8,!0);if(!n)return this._backTo(t),!1;if(!i)return e.appendChild(new d(Number(n))),!0;if(this._accept(4))return e.appendChild(new d(Number(n))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){const i=this._accept(9,!0);return i&&this._accept(4)?(e.appendChild(new d(Number(n),i)),!0):(this._backTo(t),!1)}if(this._accept(11)){const t=this._until(4);if(t)return e.appendChild(new d(Number(n),void 0,t,void 0)),!0}else if(this._accept(12)){const t=this._until(4);if(t)return e.appendChild(new d(Number(n),void 0,void 0,t)),!0}else if(this._accept(13)){const t=this._until(1);if(t){const i=this._until(4);if(i)return e.appendChild(new d(Number(n),void 0,t,i)),!0}}else{const t=this._until(4);if(t)return e.appendChild(new d(Number(n),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},70500:(e,t,i)=>{"use strict";i.d(t,{l:()=>O});var n=i(9488),o=i(9917),r=i(97295),s=(i(64235),i(69386)),a=i(24314),c=i(3860),l=i(4256),d=i(51722),u=i(44349),h=i(40382),g=i(35084),p=i(15527),m=i(1432);function f(e,t=m.ED){return(0,p.oP)(e,t)?e.charAt(0).toUpperCase()+e.slice(1):e}Object.create(null);var v=i(55336),_=i(95935);const b=function(){if("object"===typeof crypto&&"function"===typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let e;e="object"===typeof crypto&&"function"===typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e};const t=new Uint8Array(16),i=[];for(let n=0;n<256;n++)i.push(n.toString(16).padStart(2,"0"));return function(){e(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128;let n=0,o="";return o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+="-",o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o+=i[t[n++]],o}}();var y=i(63580),w=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},C=function(e,t){return function(i,n){t(i,n,e)}};Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class S{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const i=t.resolve(e);if(void 0!==i)return i}}}class x{constructor(e,t,i,n){this._model=e,this._selection=t,this._selectionIdx=i,this._overtypingCapturer=n}resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,i=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,i=e.multiline)}if(t&&i&&e.snippet){const i=this._model.getLineContent(this._selection.startLineNumber),n=(0,r.V8)(i,0,this._selection.startColumn-1);let o=n;e.snippet.walk((t=>t!==e&&(t instanceof g.xv&&(o=(0,r.V8)((0,r.uq)(t.value).pop())),!0)));const s=(0,r.Mh)(o,n);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,i)=>`${t}${o.substr(s)}${i}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):"CURSOR_INDEX"===t?String(this._selectionIdx):"CURSOR_NUMBER"===t?String(this._selectionIdx+1):void 0}}class k{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return v.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=v.EZ(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t?"."===v.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,_.XX)(this._model.uri)):"TM_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class N{constructor(e,t,i,n){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=i,this._spread=n}resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!(0,r.m5)(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}}let L=class{constructor(e,t,i){this._model=e,this._selection=t,this._languageConfigurationService=i}resolve(e){const{name:t}=e,i=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),n=this._languageConfigurationService.getLanguageConfiguration(i).comments;if(n)return"LINE_COMMENT"===t?n.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?n.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&n.blockCommentEndToken||void 0}};L=w([C(2,l.c_)],L);class I{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if("CURRENT_YEAR"===t)return String(this._date.getFullYear());if("CURRENT_YEAR_SHORT"===t)return String(this._date.getFullYear()).slice(-2);if("CURRENT_MONTH"===t)return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if("CURRENT_DATE"===t)return String(this._date.getDate().valueOf()).padStart(2,"0");if("CURRENT_HOUR"===t)return String(this._date.getHours().valueOf()).padStart(2,"0");if("CURRENT_MINUTE"===t)return String(this._date.getMinutes().valueOf()).padStart(2,"0");if("CURRENT_SECOND"===t)return String(this._date.getSeconds().valueOf()).padStart(2,"0");if("CURRENT_DAY_NAME"===t)return I.dayNames[this._date.getDay()];if("CURRENT_DAY_NAME_SHORT"===t)return I.dayNamesShort[this._date.getDay()];if("CURRENT_MONTH_NAME"===t)return I.monthNames[this._date.getMonth()];if("CURRENT_MONTH_NAME_SHORT"===t)return I.monthNamesShort[this._date.getMonth()];if("CURRENT_SECONDS_UNIX"===t)return String(Math.floor(this._date.getTime()/1e3));if("CURRENT_TIMEZONE_OFFSET"===t){const e=this._date.getTimezoneOffset(),t=e>0?"-":"+",i=Math.trunc(Math.abs(e/60)),n=i<10?"0"+i:i,o=Math.abs(e)-60*i,r=o<10?"0"+o:o;return t+n+":"+r}}}I.dayNames=[y.NC("Sunday","Sunday"),y.NC("Monday","Monday"),y.NC("Tuesday","Tuesday"),y.NC("Wednesday","Wednesday"),y.NC("Thursday","Thursday"),y.NC("Friday","Friday"),y.NC("Saturday","Saturday")],I.dayNamesShort=[y.NC("SundayShort","Sun"),y.NC("MondayShort","Mon"),y.NC("TuesdayShort","Tue"),y.NC("WednesdayShort","Wed"),y.NC("ThursdayShort","Thu"),y.NC("FridayShort","Fri"),y.NC("SaturdayShort","Sat")],I.monthNames=[y.NC("January","January"),y.NC("February","February"),y.NC("March","March"),y.NC("April","April"),y.NC("May","May"),y.NC("June","June"),y.NC("July","July"),y.NC("August","August"),y.NC("September","September"),y.NC("October","October"),y.NC("November","November"),y.NC("December","December")],I.monthNamesShort=[y.NC("JanuaryShort","Jan"),y.NC("FebruaryShort","Feb"),y.NC("MarchShort","Mar"),y.NC("AprilShort","Apr"),y.NC("MayShort","May"),y.NC("JuneShort","Jun"),y.NC("JulyShort","Jul"),y.NC("AugustShort","Aug"),y.NC("SeptemberShort","Sep"),y.NC("OctoberShort","Oct"),y.NC("NovemberShort","Nov"),y.NC("DecemberShort","Dec")];class R{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,h.uT)(this._workspaceService.getWorkspace());return(0,h.c$)(t)?void 0:"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}_resolveWorkspaceName(e){if((0,h.eb)(e))return v.EZ(e.uri.path);let t=v.EZ(e.configPath.path);return t.endsWith(h.A6)&&(t=t.substr(0,t.length-h.A6.length-1)),t}_resoveWorkspacePath(e){if((0,h.eb)(e))return f(e.uri.fsPath);const t=v.EZ(e.configPath.path);let i=e.configPath.fsPath;return i.endsWith(t)&&(i=i.substr(0,i.length-t.length-1)),i?f(i):"/"}}class D{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?b():void 0}}var M=i(25108),P=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},E=function(e,t){return function(i,n){t(i,n,e)}};class A{constructor(e,t,i){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=i,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,n.vM)(t.placeholders,g.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const i of this._snippet.placeholders){const n=this._snippet.offset(i),o=this._snippet.fullLen(i),r=a.e.fromPositions(e.getPositionAt(this._offset+n),e.getPositionAt(this._offset+n+o)),s=i.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive,c=t.addDecoration(r,s);this._placeholderDecorations.set(i,c)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const i=this._placeholderDecorations.get(t),n=this._editor.getModel().getDecorationRange(i),o=this._editor.getModel().getValueInRange(n),r=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<r.length;e++)r[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+r[e]);e.push(s.h.replace(n,r.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const i=this._editor.getModel().changeDecorations((e=>{const i=new Set,n=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);n.push(new c.Y(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(r,o.isFinalTabstop?A._decor.activeFinal:A._decor.active),i.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const n=this._placeholderDecorations.get(t);e.changeDecorationOptions(n,t.isFinalTabstop?A._decor.activeFinal:A._decor.active),i.add(t)}}for(const[t,o]of this._placeholderDecorations)i.has(t)||e.changeDecorationOptions(o,t.isFinalTabstop?A._decor.inactiveFinal:A._decor.inactive);return n}));return t?this.move(e):null!==i&&void 0!==i?i:[]}_hasPlaceholderBeenCollapsed(e){let t=e;while(t){if(t instanceof g.Vm){const e=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(e);if(i.isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(0===this._snippet.placeholders.length)return!0;if(1===this._snippet.placeholders.length){const[e]=this._snippet.placeholders;if(e.isFinalTabstop&&this._snippet.rightMostDescendant===e)return!0}return!1}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let i;for(const n of t){if(n.isFinalTabstop)break;i||(i=[],e.set(n.index,i));const t=this._placeholderDecorations.get(n),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(n.index);break}i.push(o)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(null===e||void 0===e?void 0:e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const i=this._editor.getModel().getDecorationRange(t);return i?{range:i,choice:e.choice}:void 0}get hasChoice(){let e=!1;return this._snippet.walk((t=>(e=t instanceof g.Lv,!e))),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((i=>{for(const n of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();M.assert(-1!==o._offset),M.assert(!o._placeholderDecorations);const r=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=n.index+(r+1)/this._nestingLevel:e.index=n.index+e.index/this._nestingLevel;this._snippet.replace(n,o._snippet.children);const s=this._placeholderDecorations.get(n);i.removeDecoration(s),this._placeholderDecorations.delete(n);for(const e of o._snippet.placeholders){const n=o._snippet.offset(e),r=o._snippet.fullLen(e),s=a.e.fromPositions(t.getPositionAt(o._offset+n),t.getPositionAt(o._offset+n+r)),c=i.addDecoration(s,A._decor.inactive);this._placeholderDecorations.set(e,c)}}this._placeholderGroups=(0,n.vM)(this._snippet.placeholders,g.Vm.compareByIndex)}))}}A._decor={active:d.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:d.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:d.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:d.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const T={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let O=class e{static adjustWhitespace(e,t,i,n,o){const s=e.getLineContent(t.lineNumber),a=(0,r.V8)(s,0,t.column-1);let c;return n.walk((t=>{if(!(t instanceof g.xv)||t.parent instanceof g.Lv)return!0;if(o&&!o.has(t))return!0;const r=t.value.split(/\r\n|\r|\n/);if(i){const i=n.offset(t);if(0===i)r[0]=e.normalizeIndentation(r[0]);else{c=null!==c&&void 0!==c?c:n.toString();const t=c.charCodeAt(i-1);10!==t&&13!==t||(r[0]=e.normalizeIndentation(a+r[0]))}for(let t=1;t<r.length;t++)r[t]=e.normalizeIndentation(a+r[t])}const s=r.join(e.getEOL());return s!==t.value&&(t.parent.replace(t,[new g.xv(s)]),c=void 0),!0})),a}static adjustSelection(e,t,i,n){if(0!==i||0!==n){const{positionLineNumber:o,positionColumn:r}=t,s=r-i,a=r+n,l=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});t=c.Y.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(t,i,n,o,r,c,l,d,p){const m=[],f=[];if(!t.hasModel())return{edits:m,snippets:f};const v=t.getModel(),_=t.invokeWithinContext((e=>e.get(h.ec))),b=t.invokeWithinContext((e=>new k(e.get(u.e),v))),y=()=>l,w=v.getValueInRange(e.adjustSelection(v,t.getSelection(),n,0)),C=v.getValueInRange(e.adjustSelection(v,t.getSelection(),0,o)),M=v.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),P=t.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>a.e.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:a,idx:u}of P){let l=e.adjustSelection(v,a,n,0),h=e.adjustSelection(v,a,0,o);w!==v.getValueInRange(l)&&(l=a),C!==v.getValueInRange(h)&&(h=a);const k=a.setStartPosition(l.startLineNumber,l.startColumn).setEndPosition(h.endLineNumber,h.endColumn),E=(new g.Yj).parse(i,!0,r),T=k.getStartPosition(),O=e.adjustWhitespace(v,T,c||u>0&&M!==v.getLineFirstNonWhitespaceColumn(a.positionLineNumber),E);E.resolveVariables(new S([b,new N(y,u,P.length,"spread"===t.getOption(76)),new x(v,a,u,d),new L(v,a,p),new I,new R(_),new D])),m[u]=s.h.replace(k,E.toString()),m[u].identifier={major:u,minor:0},m[u]._isTracked=!0,f[u]=new A(t,E,O)}return{edits:m,snippets:f}}static createEditsAndSnippetsFromEdits(t,i,n,o,r,c,l){if(!t.hasModel()||0===i.length)return{edits:[],snippets:[]};const d=[],p=t.getModel(),m=new g.Yj,f=new g.y1,v=new S([t.invokeWithinContext((e=>new k(e.get(u.e),p))),new N((()=>r),0,t.getSelections().length,"spread"===t.getOption(76)),new x(p,t.getSelection(),0,c),new L(p,t.getSelection(),l),new I,new R(t.invokeWithinContext((e=>e.get(h.ec)))),new D]);i=i.sort(((e,t)=>a.e.compareRangesUsingStarts(e.range,t.range)));let _=0;for(let u=0;u<i.length;u++){const{range:t,template:n}=i[u];if(u>0){const e=i[u-1].range,n=a.e.fromPositions(e.getEndPosition(),t.getStartPosition()),o=new g.xv(p.getValueInRange(n));f.appendChild(o),_+=o.value.length}const o=m.parseFragment(n,f);e.adjustWhitespace(p,t.getStartPosition(),!0,f,new Set(o)),f.resolveVariables(v);const r=f.toString(),c=r.slice(_);_=r.length;const l=s.h.replace(t,c);l.identifier={major:u,minor:0},l._isTracked=!0,d.push(l)}return m.ensureFinalTabstop(f,n,!0),{edits:d,snippets:[new A(t,f,"")]}}constructor(e,t,i=T,n){this._editor=e,this._template=t,this._options=i,this._languageConfigurationService=n,this._templateMerges=[],this._snippets=[]}dispose(){(0,o.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:t,snippets:i}="string"===typeof this._template?e.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):e.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=i,this._editor.executeEdits("snippet",t,(e=>{const t=e.filter((e=>!!e.identifier));for(let n=0;n<i.length;n++)i[n].initialize(t[n].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):t.map((e=>c.Y.fromPositions(e.range.getEndPosition())))})),this._editor.revealRange(this._editor.getSelections()[0])}merge(t,i=T){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);const{edits:n,snippets:o}=e.createEditsAndSnippetsFromSelections(this._editor,t,i.overwriteBefore,i.overwriteAfter,!0,i.adjustWhitespace,i.clipboardText,i.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",n,(e=>{const t=e.filter((e=>!!e.identifier));for(let n=0;n<o.length;n++)o[n].initialize(t[n].textChange);const i=o[0].isTrivialSnippet;if(!i){for(const e of this._snippets)e.merge(o);M.assert(0===o.length)}return this._snippets[0].hasPlaceholder&&!i?this._move(void 0):t.map((e=>c.Y.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const i of this._snippets){const n=i.move(e);t.push(...n)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const i of this._snippets){const n=i.computePossibleSelections();if(0===t.size)for(const[i,o]of n){o.sort(a.e.compareRangesUsingStarts);for(const n of e)if(o[0].containsRange(n)){t.set(i,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...n.get(t))}))}e.sort(a.e.compareRangesUsingStarts);for(const[i,n]of t)if(n.length===e.length){n.sort(a.e.compareRangesUsingStarts);for(let o=0;o<n.length;o++)n[o].containsRange(e[o])||t.delete(i)}else t.delete(i);return t.size>0}};O=P([E(3,l.c_)],O)},55621:(e,t,i)=>{"use strict";i.d(t,{A9:()=>x,GI:()=>C,ZJ:()=>N,_y:()=>w,i5:()=>A,kL:()=>I,tG:()=>T});var n=i(71050),o=i(17301),r=i(75392),s=i(9917),a=i(84013),c=i(98401),l=i(70666),d=i(50187),u=i(24314),h=i(88216),g=i(35084),p=i(63580),m=i(84144),f=i(94565),v=i(32064),_=i(71922),b=i(37726),y=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const w={Visible:b.iX,HasFocusedSuggestion:new v.uy("suggestWidgetHasFocusedSuggestion",!1,(0,p.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new v.uy("suggestWidgetDetailsVisible",!1,(0,p.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new v.uy("suggestWidgetMultipleSuggestions",!1,(0,p.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new v.uy("suggestionMakesTextEdit",!0,(0,p.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new v.uy("acceptSuggestionOnEnter",!0,(0,p.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new v.uy("suggestionHasInsertAndReplaceRange",!1,(0,p.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new v.uy("suggestionInsertMode",void 0,{type:"string",description:(0,p.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new v.uy("suggestionCanResolve",!1,(0,p.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},C=new m.eH("suggestWidgetStatusBar");class S{constructor(e,t,i,n){var o;this.position=e,this.completion=t,this.container=i,this.provider=n,this.isInvalid=!1,this.score=r.CL.Default,this.distance=0,this.textLabel="string"===typeof t.label?t.label:null===(o=t.label)||void 0===o?void 0:o.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,u.e.isIRange(t.range)?(this.editStart=new d.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new d.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new d.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||u.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new d.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new d.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new d.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||u.e.spansMultipleLines(t.range.insert)||u.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!==typeof n.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return y(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{(0,o.n2)(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}}class x{constructor(e=2,t=new Set,i=new Set,n=new Map,o=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=i,this.providerItemsToReuse=n,this.showDeprecated=o}}let k;function N(){return k}x.default=new x;class L{constructor(e,t,i,n){this.items=e,this.needsClipboard=t,this.durations=i,this.disposable=n}}function I(e,t,i,r=x.default,c={triggerKind:0},l=n.T.None){return y(this,void 0,void 0,(function*(){const n=new a.G(!0);i=i.clone();const d=t.getWordAtPosition(i),h=d?new u.e(i.lineNumber,d.startColumn,i.lineNumber,d.endColumn):u.e.fromPositions(i),p={replace:h,insert:h.setEndPosition(i.lineNumber,i.column)},m=[],f=new s.SL,v=[];let _=!1;const b=(e,t,n)=>{var o,a,c;let l=!1;if(!t)return l;for(const s of t.suggestions)if(!r.kindFilter.has(s.kind)){if(!r.showDeprecated&&(null===(o=null===s||void 0===s?void 0:s.tags)||void 0===o?void 0:o.includes(1)))continue;s.range||(s.range=p),s.sortText||(s.sortText="string"===typeof s.label?s.label:s.label.label),!_&&s.insertTextRules&&4&s.insertTextRules&&(_=g.Yj.guessNeedsClipboard(s.insertText)),m.push(new S(i,s,t,e)),l=!0}return(0,s.Wf)(t)&&f.add(t),v.push({providerName:null!==(a=e._debugDisplayName)&&void 0!==a?a:"unknown_provider",elapsedProvider:null!==(c=t.duration)&&void 0!==c?c:-1,elapsedOverall:n.elapsed()}),l},w=(()=>y(this,void 0,void 0,(function*(){if(!k||r.kindFilter.has(27))return;const e=r.providerItemsToReuse.get(k);if(e)return void e.forEach((e=>m.push(e)));if(r.providerFilter.size>0&&!r.providerFilter.has(k))return;const n=new a.G(!0),o=yield k.provideCompletionItems(t,i,c,l);b(k,o,n)})))();for(const s of e.orderedGroups(t)){let e=!1;if(yield Promise.all(s.map((n=>y(this,void 0,void 0,(function*(){if(r.providerItemsToReuse.has(n)){const t=r.providerItemsToReuse.get(n);return t.forEach((e=>m.push(e))),void(e=e||t.length>0)}if(!(r.providerFilter.size>0)||r.providerFilter.has(n))try{const o=new a.G(!0),r=yield n.provideCompletionItems(t,i,c,l);e=b(n,r,o)||e}catch(s){(0,o.Cp)(s)}}))))),e||l.isCancellationRequested)break}return yield w,l.isCancellationRequested?(f.dispose(),Promise.reject(new o.FU)):new L(m.sort(E(r.snippetSortOrder)),_,{entries:v,elapsed:n.elapsed()},f)}))}function R(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.textLabel<t.textLabel?-1:e.textLabel>t.textLabel?1:e.completion.kind-t.completion.kind}function D(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return R(e,t)}function M(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return R(e,t)}const P=new Map;function E(e){return P.get(e)}function A(e,t){var i;null===(i=e.getContribution("editor.contrib.suggestController"))||void 0===i||i.triggerSuggest((new Set).add(t),void 0,!0)}P.set(0,D),P.set(2,M),P.set(1,R),f.P.registerCommand("_executeCompletionItemProvider",((e,...t)=>y(void 0,void 0,void 0,(function*(){const[i,o,r,s]=t;(0,c.p_)(l.o.isUri(i)),(0,c.p_)(d.L.isIPosition(o)),(0,c.p_)("string"===typeof r||!r),(0,c.p_)("number"===typeof s||!s);const{completionProvider:a}=e.get(_.p),u=yield e.get(h.S).createModelReference(i);try{const e={incomplete:!1,suggestions:[]},t=[],i=u.object.textEditorModel.validatePosition(o),c=yield I(a,u.object.textEditorModel,i,void 0,{triggerCharacter:null!==r&&void 0!==r?r:void 0,triggerKind:r?1:0});for(const o of c.items)t.length<(null!==s&&void 0!==s?s:0)&&t.push(o.resolve(n.T.None)),e.incomplete=e.incomplete||o.container.incomplete,e.suggestions.push(o.completion);try{return yield Promise.all(t),e}finally{setTimeout((()=>c.disposable.dispose()),100)}}finally{u.dispose()}}))));class T{static isAllOff(e){return"off"===e.other&&"off"===e.comments&&"off"===e.strings}static isAllOn(e){return"on"===e.other&&"on"===e.comments&&"on"===e.strings}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}},28845:(e,t,i)=>{"use strict";i.d(t,{n:()=>St});var n=i(85152),o=i(9488),r=i(15393),s=i(71050),a=i(17301),c=i(4669),l=i(8313),d=i(9917),u=i(1432),h=i(84013),g=i(98401),p=i(43407),m=i(16830),f=i(69386),v=i(50187),_=i(24314),b=i(29102),y=i(98762),w=i(35084),C=i(43702),S=i(4767),x=i(43155),k=i(33108),N=i(65026),L=i(72065),I=i(87060),R=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},D=function(e,t){return function(i,n){t(i,n,e)}};class M{constructor(e){this.name=e}select(e,t,i){if(0===i.length)return 0;const n=i[0].score[0];for(let o=0;o<i.length;o++){const{score:e,completion:t}=i[o];if(e[0]!==n)break;if(t.preselect)return o}return 0}}class P extends M{constructor(){super("first")}memorize(e,t,i){}toJSON(){}fromJSON(){}}class E extends M{constructor(){super("recentlyUsed"),this._cache=new C.z6(300,.66),this._seq=0}memorize(e,t,i){const n=`${e.getLanguageId()}/${i.textLabel}`;this._cache.set(n,{touch:this._seq++,type:i.completion.kind,insertText:i.completion.insertText})}select(e,t,i){if(0===i.length)return 0;const n=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(n))return super.select(e,t,i);const o=i[0].score[0];let r=-1,s=-1,a=-1;for(let c=0;c<i.length;c++){if(i[c].score[0]!==o)break;const t=`${e.getLanguageId()}/${i[c].textLabel}`,n=this._cache.peek(t);if(n&&n.touch>a&&n.type===i[c].completion.kind&&n.insertText===i[c].completion.insertText&&(a=n.touch,s=c),i[c].completion.preselect&&-1===r)return c}return-1!==s?s:-1!==r?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[i,n]of e)n.touch=t,n.type="number"===typeof n.type?n.type:x.gX.fromString(n.type),this._cache.set(i,n);this._seq=this._cache.size}}class A extends M{constructor(){super("recentlyUsedByPrefix"),this._trie=S.Id.forStrings(),this._seq=0}memorize(e,t,i){const{word:n}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${n}`;this._trie.set(o,{type:i.completion.kind,insertText:i.completion.insertText,touch:this._seq++})}select(e,t,i){const{word:n}=e.getWordUntilPosition(t);if(!n)return super.select(e,t,i);const o=`${e.getLanguageId()}/${n}`;let r=this._trie.get(o);if(r||(r=this._trie.findSubstr(o)),r)for(let s=0;s<i.length;s++){const{kind:e,insertText:t}=i[s].completion;if(e===r.type&&t===r.insertText)return s}return super.select(e,t,i)}toJSON(){const e=[];return this._trie.forEach(((t,i)=>e.push([i,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,i]of e)i.type="number"===typeof i.type?i.type:x.gX.fromString(i.type),this._trie.set(t,i)}}}let T=class e{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new d.SL,this._persistSoon=new r.pY((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===I.fk.SHUTDOWN&&this._saveState()})))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,i){this._withStrategy(e,t).memorize(e,t,i),this._persistSoon.schedule()}select(e,t,i){return this._withStrategy(e,t).select(e,t,i)}_withStrategy(t,i){var n;const o=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:t.getLanguageIdAtPosition(i.lineNumber,i.column),resource:t.uri});if((null===(n=this._strategy)||void 0===n?void 0:n.name)!==o){this._saveState();const t=e._strategyCtors.get(o)||P;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections"),i=t?0:1,n=this._storageService.get(`${e._storagePrefix}/${o}`,i);n&&this._strategy.fromJSON(JSON.parse(n))}catch(r){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections"),i=t?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,n,i,1)}}};T._strategyCtors=new Map([["recentlyUsedByPrefix",A],["recentlyUsed",E],["first",P]]),T._storagePrefix="suggest/memories",T=R([D(0,I.Uy),D(1,k.Ui)],T);const O=(0,L.yh)("ISuggestMemories");(0,N.z)(O,T,1);var F=i(32064),W=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},B=function(e,t){return function(i,n){t(i,n,e)}};let H=class e{constructor(t,i){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(i),this._configListener=this._editor.onDidChangeConfiguration((e=>e.hasChanged(118)&&this._update())),this._update()}dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(118);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),i=e.getWordAtPosition(t.getStartPosition());i?this._ckAtEnd.set(i.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};H.AtEnd=new F.uy("atEndOfWord",!1),H=W([B(1,F.i6)],H);var V=i(63580),z=i(94565),U=i(43557),j=i(55621),$=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){return function(i,n){t(i,n,e)}};let q=class e{constructor(t,i){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(i)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:i},n){if(0===t.items.length)return void this.reset();const o=e._moveIndex(!0,t,i);o!==i?(this._acceptNext=n,this._model=t,this._index=i,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,i){let n=i;for(let o=t.items.length;o>0;o--){if(n=(n+t.items.length+(e?1:-1))%t.items.length,n===i)break;if(!t.items[n].completion.additionalTextEdits)break}return n}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};q.OtherSuggestions=new F.uy("hasOtherSuggestions",!1),q=$([K(1,F.i6)],q);var G=i(44906);class Q{constructor(e,t,i,n){this._disposables=new d.SL,this._disposables.add(i.onDidSuggest((e=>{0===e.completionModel.items.length&&this.reset()}))),this._disposables.add(i.onDidCancel((e=>{this.reset()}))),this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((o=>{if(this._active&&!t.isFrozen()&&0!==i.state){const t=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&n(this._active.item)}})))}_onItem(e){if(!e||!(0,o.Of)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new G.q;for(const i of e.item.completion.commitCharacters)i.length>0&&t.add(i.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var Z=i(97295),Y=i(3860),J=i(85215),X=i(79694),ee=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class te{static create(e,t){return ee(this,void 0,void 0,(function*(){if(!t.getOption(113).localityBonus)return te.None;if(!t.hasModel())return te.None;const i=t.getModel(),n=t.getPosition();if(!e.canComputeWordRanges(i.uri))return te.None;const[r]=yield(new X.x).provideSelectionRanges(i,[n]);if(0===r.length)return te.None;const s=yield e.computeWordRanges(i.uri,r[0].range);if(!s)return te.None;const a=i.getWordUntilPosition(n);return delete s[a.word],new class extends te{distance(e,i){if(!n.equals(t.getPosition()))return 0;if(17===i.kind)return 2<<20;const a="string"===typeof i.label?i.label:i.label.label,c=s[a];if((0,o.XY)(c))return 2<<20;const l=(0,o.ry)(c,_.e.fromPositions(e),_.e.compareRangesUsingStarts),d=l>=0?c[l]:c[Math.max(0,~l-1)];let u=r.length;for(const t of r){if(!_.e.containsRange(t.range,d))break;u-=1}return u}}}))}}te.None=new class extends te{distance(){return 0}};var ie=i(84972),ne=i(10829),oe=i(75392);class re{constructor(e,t,i,n,o,r,s=oe.mX["default"],a){this.clipboardText=a,this._snippetCompareFn=re._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=n,this._options=o,this._refilterKind=1,this._lineContext=i,this._fuzzyScoreOptions=s,"top"===r?this._snippetCompareFn=re._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=re._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const e=new Set;for(const[t,i]of this.getItemsByProvider())i.length>0&&i[0].container.incomplete&&e.add(t);return e}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const e=[],{leadingLineContent:t,characterCountDelta:i}=this._lineContext;let n="",r="";const s=1===this._refilterKind?this._items:this._filteredItems,a=[],c=!this._options.filterGraceful||s.length>2e3?oe.EW:oe.l7;for(let o=0;o<s.length;o++){const l=s[o];if(l.isInvalid)continue;const d=this._itemsByProvider.get(l.provider);d?d.push(l):this._itemsByProvider.set(l.provider,[l]);const u=l.position.column-l.editStart.column,h=u+i-(l.position.column-this._column);if(n.length!==h&&(n=0===h?"":t.slice(-h),r=n.toLowerCase()),l.word=n,0===h)l.score=oe.CL.Default;else{let e=0;while(e<u){const t=n.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=h)l.score=oe.CL.Default;else if("string"===typeof l.completion.filterText){const t=c(n,r,e,l.completion.filterText,l.filterTextLow,0,this._fuzzyScoreOptions);if(!t)continue;0===(0,Z.zY)(l.completion.filterText,l.textLabel)?l.score=t:(l.score=(0,oe.jB)(n,r,e,l.textLabel,l.labelLow,0),l.score[0]=t[0])}else{const t=c(n,r,e,l.textLabel,l.labelLow,0,this._fuzzyScoreOptions);if(!t)continue;l.score=t}}l.idx=o,l.distance=this._wordDistance.distance(l.position,l.completion),a.push(l),e.push(l.textLabel.length)}this._filteredItems=a.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,o.HW)(e.length-.85,e,((e,t)=>e-t)):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return re._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return re._compareCompletionItems(e,t)}}var se=i(71922),ae=i(78573),ce=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},le=function(e,t){return function(i,n){t(i,n,e)}},de=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};class ue{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),i=e.getPosition();t.tokenization.tokenizeIfCheap(i.lineNumber);const n=t.getWordAtPosition(i);return!!n&&(n.endColumn===i.column&&!!isNaN(Number(n.word)))}constructor(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.triggerOptions=i}}function he(e,t,i){if(!Boolean(t.getContextKeyValue(ae.f.inlineSuggestionVisible.key)))return!0;const n=t.getContextKeyValue(ae.f.suppressSuggestions.key);return void 0!==n?!n:!e.getOption(60).suppressSuggestions}function ge(e,t,i){if(!Boolean(t.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getContextKeyValue(ae.f.suppressSuggestions.key);return void 0!==n?!n:!e.getOption(60).suppressSuggestions}let pe=class e{constructor(e,t,i,n,o,s,a,l){this._editor=e,this._editorWorkerService=t,this._clipboardService=i,this._telemetryService=n,this._logService=o,this._contextKeyService=s,this._configurationService=a,this._languageFeaturesService=l,this._toDispose=new d.SL,this._triggerCharacterListener=new d.SL,this._triggerQuickSuggest=new r._F,this._triggerState=void 0,this._completionDisposables=new d.SL,this._onDidCancel=new c.Q5,this._onDidTrigger=new c.Q5,this._onDidSuggest=new c.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new Y.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters()}))),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()})));let u=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{u=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{u=!1,this._onCompositionEnd()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{u||this._onCursorChange(e)}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{u||void 0===this._triggerState||this._refilterCompletionItems()}))),this._updateTriggerCharacters()}dispose(){(0,d.B9)(this._triggerCharacterListener),(0,d.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(87)||!this._editor.hasModel()||!this._editor.getOption(116))return;const e=new Map;for(const i of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const t of i.triggerCharacters||[]){let n=e.get(t);n||(n=new Set,n.add((0,j.ZJ)()),e.set(t,n)),n.add(i)}const t=t=>{var i;if(!ge(this._editor,this._contextKeyService,this._configurationService))return;if(ue.shouldAutoTrigger(this._editor))return;if(!t){const e=this._editor.getPosition(),i=this._editor.getModel();t=i.getLineContent(e.lineNumber).substr(0,e.column-1)}let n="";(0,Z.YK)(t.charCodeAt(t.length-1))?(0,Z.ZG)(t.charCodeAt(t.length-2))&&(n=t.substr(t.length-2)):n=t.charAt(t.length-1);const o=e.get(n);if(o){const e=new Map;if(this._completionModel)for(const[t,i]of this._completionModel.getItemsByProvider())o.has(t)||e.set(t,i);this.trigger({auto:!0,triggerKind:1,triggerCharacter:n,retrigger:Boolean(this._completionModel),clipboardText:null===(i=this._completionModel)||void 0===i?void 0:i.clipboardText,completionOptions:{providerFilter:o,providerItemsToReuse:e}})}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd((()=>t())))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(e=!1){var t;void 0!==this._triggerState&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){void 0!==this._triggerState&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:this._triggerState.auto,retrigger:!0}):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source?this.cancel():void 0===this._triggerState&&0===e.reason?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():void 0!==this._triggerState&&3===e.reason&&this._refilterCompletionItems()}_onCompositionEnd(){void 0===this._triggerState?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){j.tG.isAllOff(this._editor.getOption(85))||(this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(void 0!==this._triggerState)return;if(!ue.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const e=this._editor.getModel(),t=this._editor.getPosition(),i=this._editor.getOption(85);if(!j.tG.isAllOff(i)){if(!j.tG.isAllOn(i)){e.tokenization.tokenizeIfCheap(t.lineNumber);const n=e.tokenization.getLineTokens(t.lineNumber),o=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if("on"!==j.tG.valueFor(i,o))return}he(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(e)&&this.trigger({auto:!0})}}),this._editor.getOption(86)))}_refilterCompletionItems(){(0,g.p_)(this._editor.hasModel()),(0,g.p_)(void 0!==this._triggerState);const e=this._editor.getModel(),t=this._editor.getPosition(),i=new ue(e,t,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(i)}trigger(t){var i,n,o,r,c,l;if(!this._editor.hasModel())return;const d=this._editor.getModel(),u=new ue(d,this._editor.getPosition(),t);this.cancel(t.retrigger),this._triggerState=t,this._onDidTrigger.fire({auto:t.auto,shy:null!==(i=t.shy)&&void 0!==i&&i,position:this._editor.getPosition()}),this._context=u;let h={triggerKind:null!==(n=t.triggerKind)&&void 0!==n?n:0};t.triggerCharacter&&(h={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new s.A;const g=this._editor.getOption(107);let p=1;switch(g){case"top":p=0;break;case"bottom":p=2;break}const{itemKind:m,showDeprecated:f}=e._createSuggestFilter(this._editor),v=new j.A9(p,null!==(r=null===(o=t.completionOptions)||void 0===o?void 0:o.kindFilter)&&void 0!==r?r:m,null===(c=t.completionOptions)||void 0===c?void 0:c.providerFilter,null===(l=t.completionOptions)||void 0===l?void 0:l.providerItemsToReuse,f),_=te.create(this._editorWorkerService,this._editor),b=(0,j.kL)(this._languageFeaturesService.completionProvider,d,this._editor.getPosition(),v,h,this._requestToken.token);Promise.all([b,_]).then((([e,i])=>de(this,void 0,void 0,(function*(){var n;if(null===(n=this._requestToken)||void 0===n||n.dispose(),!this._editor.hasModel())return;let o=null===t||void 0===t?void 0:t.clipboardText;if(!o&&e.needsClipboard&&(o=yield this._clipboardService.readText()),void 0===this._triggerState)return;const r=this._editor.getModel(),s=new ue(r,this._editor.getPosition(),t),a=Object.assign(Object.assign({},oe.mX["default"]),{firstMatchCanBeWeak:!this._editor.getOption(113).matchOnWordStartOnly});this._completionModel=new re(e.items,this._context.column,{leadingLineContent:s.leadingLineContent,characterCountDelta:s.column-this._context.column},i,this._editor.getOption(113),this._editor.getOption(107),a,o),this._completionDisposables.add(e.disposable),this._onNewContext(s),this._reportDurationsTelemetry(e.durations)})))).catch(a.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)}))}static _createSuggestFilter(e){const t=new Set,i=e.getOption(107);"none"===i&&t.add(27);const n=e.getOption(113);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,Z.V8)(e.leadingLineContent)===(0,Z.V8)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=ue.shouldAutoTrigger(this._editor);if(e&&this._context){const e=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:e}})}}else if(e.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&0!==e.leadingWord.word.length){const e=new Map,t=new Set;for(const[i,n]of this._completionModel.getItemsByProvider())n.length>0&&n[0].container.incomplete?t.add(i):e.set(i,n);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:t,providerItemsToReuse:e}})}else{const t=this._completionModel.lineContext;let i=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){const n=ue.shouldAutoTrigger(this._editor);if(!this._context)return void this.cancel();if(n&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});if(this._context.triggerOptions.auto)return void this.cancel();if(this._completionModel.lineContext=t,i=this._completionModel.items.length>0,i&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:e.triggerOptions,isFrozen:i})}}else this.cancel();else this.cancel()}};pe=ce([le(1,J.p),le(2,ie.p),le(3,ne.b),le(4,U.VZ),le(5,F.i6),le(6,k.Ui),le(7,se.p)],pe);class me{constructor(e,t){this._disposables=new d.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(e.onWillType((()=>{if(this._locked||!e.hasModel())return;const t=e.getSelections(),i=t.length;let n=!1;for(let e=0;e<i;e++)if(!t[e].isEmpty()){n=!0;break}if(!n)return void(0!==this._lastOvertyped.length&&(this._lastOvertyped.length=0));this._lastOvertyped=[];const o=e.getModel();for(let e=0;e<i;e++){const i=t[e];if(o.getValueLengthInRange(i)>me._maxSelectionLength)return;this._lastOvertyped[e]={value:o.getValueInRange(i),multiline:i.startLineNumber!==i.endLineNumber}}}))),this._disposables.add(t.onDidTrigger((e=>{this._locked=!0}))),this._disposables.add(t.onDidCancel((e=>{this._locked=!1})))}getLastOvertypedInfo(e){if(e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}me._maxSelectionLength=51200;var fe=i(65321),ve=(i(28609),i(69047)),_e=i(59870),be=(i(60854),i(84527)),ye=i(90317),we=i(30833),Ce=i(84144),Se=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},xe=function(e,t){return function(i,n){t(i,n,e)}};class ke extends we.Mm{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,V.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,ke.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"")}}let Ne=class{constructor(e,t,i,n,o){this._menuId=t,this._menuService=n,this._contextKeyService=o,this._menuDisposables=new d.SL,this.element=fe.R3(e,fe.$(".suggest-status-bar"));const r=e=>e instanceof Ce.U8?i.createInstance(ke,e,void 0):void 0;this._leftActions=new ye.o(this.element,{actionViewItemProvider:r}),this._rightActions=new ye.o(this.element,{actionViewItemProvider:r}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const t=[],i=[];for(const[n,o]of e.getActions())"left"===n?t.push(...o):i.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(i)};this._menuDisposables.add(e.onDidChange((()=>t()))),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};Ne=Se([xe(2,L.TG),xe(3,Ce.co),xe(4,F.i6)],Ne);i(71713);var Le=i(73910),Ie=i(92321),Re=i(97781),De=i(73098);class Me{constructor(){let e;this._onDidWillResize=new c.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new c.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new d.SL,this._size=new fe.Ro(0,0),this._minSize=new fe.Ro(0,0),this._maxSize=new fe.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new De.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new De.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new De.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:De.l.North}),this._southSash=new De.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:De.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,i=0;this._sashListener.add(c.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,i=0)}))),this._sashListener.add(c.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,i=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((n=>{e&&(i=n.currentX-n.startX,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((n=>{e&&(i=-(n.currentX-n.startX),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((n=>{e&&(t=-(n.currentY-n.startY),this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((n=>{e&&(t=n.currentY-n.startY,this.layout(e.height+t,e.width+i),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(c.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(c.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,i,n){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=i?3:0,this._westSash.state=n?3:0}layout(e=this.size.height,t=this.size.width){const{height:i,width:n}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(i,Math.min(o,e)),t=Math.max(n,Math.min(r,t));const s=new fe.Ro(t,e);fe.Ro.equals(s,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=s,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var Pe=i(63161),Ee=i(73046),Ae=i(25670),Te=i(59365),Oe=i(45241),Fe=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},We=function(e,t){return function(i,n){t(i,n,e)}};function Be(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let He=class{constructor(e,t){this._editor=e,this._onDidClose=new c.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new c.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new d.SL,this._renderDisposeable=new d.SL,this._borderWidth=1,this._size=new fe.Ro(330,0),this.domNode=fe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Oe.$,{editor:e}),this._body=fe.$(".body"),this._scrollbar=new Pe.s$(this._body,{alwaysConsumeMouseWheel:!0}),fe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=fe.R3(this._body,fe.$(".header")),this._close=fe.R3(this._header,fe.$("span"+Ae.k.asCSSSelector(Ee.l.close))),this._close.title=V.NC("details.close","Close"),this._type=fe.R3(this._header,fe.$("p.type")),this._docs=fe.R3(this._body,fe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(48)&&this._configureFont()})))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(48),i=t.getMassagedFontFamily(),n=e.get(114)||t.fontSize,o=e.get(115)||t.lineHeight,r=t.fontWeight,s=`${n}px`,a=`${o}px`;this.domNode.style.fontSize=s,this.domNode.style.lineHeight=""+o/n,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=i,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(115)||this._editor.getOption(48).lineHeight,t=this._borderWidth,i=2*t;return{lineHeight:e,borderWidth:t,borderHeight:i,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=V.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var i,n;this._renderDisposeable.clear();let{detail:o,documentation:r}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(i=e.word)&&void 0!==i?i:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(n=e.completion.commitCharacters)||void 0===n?void 0:n.join("")}\n`,r=(new Te.W5).appendCodeblock("empty",t),o=`Provider: ${e.provider._debugDisplayName}`}if(t||Be(e)){if(this.domNode.classList.remove("no-docs","no-type"),o){const e=o.length>1e5?`${o.substr(0,1e5)}`:o;this._type.textContent=e,this._type.title=e,fe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else fe.PO(this._type),this._type.title="",fe.Cp(this._type),this.domNode.classList.add("no-type");if(fe.PO(this._docs),"string"===typeof r)this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),fe.PO(this._docs);const e=this._markdownRenderer.render(r);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const i=new fe.Ro(e,t);fe.Ro.equals(i,this._size)||(this._size=i,fe.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};He=Fe([We(1,L.TG)],He);class Ve{constructor(e,t){let i,n;this.widget=e,this._editor=t,this._disposables=new d.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Me,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let o=0,r=0;this._disposables.add(this._resizable.onDidWillResize((()=>{i=this._topLeft,n=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((e=>{if(i&&n){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(r=n.width-e.dimension.width,t=!0),e.north&&(o=n.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:i.top+o,left:i.left+r})}e.done&&(i=void 0,n=void 0,o=0,r=0,this._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size,this._preferAlignAtTop)})))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var i;const n=e.getBoundingClientRect();this._anchorBox=n,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,null!==(i=this._userSize)&&void 0!==i?i:this.widget.size,t)}_placeAtAnchor(e,t,i){var n;const o=fe.D6(document.body),r=this.widget.getLayoutInfo(),s=new fe.Ro(220,2*r.lineHeight),a=e.top,c=function(){const i=o.width-(e.left+e.width+r.borderWidth+r.horizontalPadding),n=-r.borderWidth+e.left+e.width,c=new fe.Ro(i,o.height-e.top-r.borderHeight-r.verticalPadding),l=c.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:a,left:n,fit:i-t.width,maxSizeTop:c,maxSizeBottom:l,minSize:s.with(Math.min(i,s.width))}}(),l=function(){const i=e.left-r.borderWidth-r.horizontalPadding,n=Math.max(r.horizontalPadding,e.left-t.width-r.borderWidth),c=new fe.Ro(i,o.height-e.top-r.borderHeight-r.verticalPadding),l=c.with(void 0,e.top+e.height-r.borderHeight-r.verticalPadding);return{top:a,left:n,fit:i-t.width,maxSizeTop:c,maxSizeBottom:l,minSize:s.with(Math.min(i,s.width))}}(),d=function(){const i=e.left,n=-r.borderWidth+e.top+e.height,a=new fe.Ro(e.width-r.borderHeight,o.height-e.top-e.height-r.verticalPadding);return{top:n,left:i,fit:a.height-t.height,maxSizeBottom:a,maxSizeTop:a,minSize:s.with(a.width)}}(),u=[c,l,d],h=null!==(n=u.find((e=>e.fit>=0)))&&void 0!==n?n:u.sort(((e,t)=>t.fit-e.fit))[0],g=e.top+e.height-r.borderHeight;let p,m=t.height;const f=Math.max(h.maxSizeTop.height,h.maxSizeBottom.height);let v;m>f&&(m=f),i?m<=h.maxSizeTop.height?(p=!0,v=h.maxSizeTop):(p=!1,v=h.maxSizeBottom):m<=h.maxSizeBottom.height?(p=!1,v=h.maxSizeBottom):(p=!0,v=h.maxSizeTop),this._applyTopLeft({left:h.left,top:p?h.top:g-m}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!p,h===c,p,h!==c),this._resizable.minSize=h.minSize,this._resizable.maxSize=v,this._resizable.layout(m,Math.min(v.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var ze,Ue=i(59834),je=i(70666),$e=i(66663),Ke=i(95935),qe=i(68801);(function(e){e[e["FILE"]=0]="FILE",e[e["FOLDER"]=1]="FOLDER",e[e["ROOT_FOLDER"]=2]="ROOT_FOLDER"})(ze||(ze={}));const Ge=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Qe(e,t,i,n){const o=n===ze.ROOT_FOLDER?["rootfolder-icon"]:n===ze.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===$e.lg.data){const e=Ke.Vb.parseMetaData(i);r=e.get(Ke.Vb.META_DATA_LABEL)}else{const e=i.path.match(Ge);e?(r=Ye(e[2].toLowerCase()),e[1]&&o.push(`${Ye(e[1].toLowerCase())}-name-dir-icon`)):r=Ye(i.authority.toLowerCase())}if(n===ze.FOLDER)o.push(`${r}-name-folder-icon`);else{if(r){if(o.push(`${r}-name-file-icon`),o.push("name-file-icon"),r.length<=255){const e=r.split(".");for(let t=1;t<e.length;t++)o.push(`${e.slice(t).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const n=Ze(e,t,i);n&&o.push(`${Ye(n)}-lang-file-icon`)}}return o}function Ze(e,t,i){if(!i)return null;let n=null;if(i.scheme===$e.lg.data){const e=Ke.Vb.parseMetaData(i),o=e.get(Ke.Vb.META_DATA_MIME);o&&(n=t.getLanguageIdByMimeType(o))}else{const t=e.getModel(i);t&&(n=t.getLanguageId())}return n&&n!==qe.bd?n:t.guessLanguageIdByFilepathOrFirstLine(i)}function Ye(e){return e.replace(/[\11\12\14\15\40]/g,"/")}var Je,Xe=i(73733),et=i(72042),tt=i(59554),it=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},nt=function(e,t){return function(i,n){t(i,n,e)}};function ot(e){return`suggest-aria-id:${e}`}const rt=(0,tt.q5)("suggest-more-info",Ee.l.chevronRight,V.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),st=new(Je=class e{extract(t,i){if(t.textLabel.match(e._regexStrict))return i[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return i[0]=t.completion.detail,!0;if("string"===typeof t.completion.documentation){const n=e._regexRelaxed.exec(t.completion.documentation);if(n&&(0===n.index||n.index+n[0].length===t.completion.documentation.length))return i[0]=n[0],!0}return!1}},Je._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,Je._regexStrict=new RegExp(`^${Je._regexRelaxed.source}$`,"i"),Je);let at=class{constructor(e,t,i,n){this._editor=e,this._modelService=t,this._languageService=i,this._themeService=n,this._onDidToggleDetails=new c.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=new d.SL,i=e;i.classList.add("show-file-icons");const n=(0,fe.R3)(e,(0,fe.$)(".icon")),o=(0,fe.R3)(n,(0,fe.$)("span.colorspan")),r=(0,fe.R3)(e,(0,fe.$)(".contents")),s=(0,fe.R3)(r,(0,fe.$)(".main")),a=(0,fe.R3)(s,(0,fe.$)(".icon-label.codicon")),c=(0,fe.R3)(s,(0,fe.$)("span.left")),l=(0,fe.R3)(s,(0,fe.$)("span.right")),u=new Ue.g(c,{supportHighlights:!0,supportIcons:!0});t.add(u);const h=(0,fe.R3)(c,(0,fe.$)("span.signature-label")),g=(0,fe.R3)(c,(0,fe.$)("span.qualifier-label")),p=(0,fe.R3)(l,(0,fe.$)("span.details-label")),m=(0,fe.R3)(l,(0,fe.$)("span.readMore"+Ae.k.asCSSSelector(rt)));m.title=V.NC("readMore","Read More");const f=()=>{const e=this._editor.getOptions(),t=e.get(48),o=t.getMassagedFontFamily(),r=t.fontFeatureSettings,a=e.get(114)||t.fontSize,c=e.get(115)||t.lineHeight,l=t.fontWeight,d=t.letterSpacing,u=`${a}px`,h=`${c}px`,g=`${d}px`;i.style.fontSize=u,i.style.fontWeight=l,i.style.letterSpacing=g,s.style.fontFamily=o,s.style.fontFeatureSettings=r,s.style.lineHeight=h,n.style.height=h,n.style.width=h,m.style.height=h,m.style.width=h};return f(),t.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(48)||e.hasChanged(114)||e.hasChanged(115))&&f()}))),{root:i,left:c,right:l,icon:n,colorspan:o,iconLabel:u,iconContainer:a,parametersLabel:h,qualifierLabel:g,detailsLabel:p,readMore:m,disposables:t}}renderElement(e,t,i){const{completion:n}=e;i.root.id=ot(t),i.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:(0,oe.mB)(e.score)},r=[];if(19===n.kind&&st.extract(e,r))i.icon.className="icon customcolor",i.iconContainer.className="icon hide",i.colorspan.style.backgroundColor=r[0];else if(20===n.kind&&this._themeService.getFileIconTheme().hasFileIcons){i.icon.className="icon hide",i.iconContainer.className="icon hide";const t=Qe(this._modelService,this._languageService,je.o.from({scheme:"fake",path:e.textLabel}),ze.FILE),r=Qe(this._modelService,this._languageService,je.o.from({scheme:"fake",path:n.detail}),ze.FILE);o.extraClasses=t.length>r.length?t:r}else 23===n.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(i.icon.className="icon hide",i.iconContainer.className="icon hide",o.extraClasses=[Qe(this._modelService,this._languageService,je.o.from({scheme:"fake",path:e.textLabel}),ze.FOLDER),Qe(this._modelService,this._languageService,je.o.from({scheme:"fake",path:n.detail}),ze.FOLDER)].flat()):(i.icon.className="icon hide",i.iconContainer.className="",i.iconContainer.classList.add("suggest-icon",...Ae.k.asClassNameArray(x.gX.toIcon(n.kind))));n.tags&&n.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),i.iconLabel.setLabel(e.textLabel,void 0,o),"string"===typeof n.label?(i.parametersLabel.textContent="",i.detailsLabel.textContent=ct(n.detail||""),i.root.classList.add("string-label")):(i.parametersLabel.textContent=ct(n.label.detail||""),i.detailsLabel.textContent=ct(n.label.description||""),i.root.classList.remove("string-label")),this._editor.getOption(113).showInlineDetails?(0,fe.$Z)(i.detailsLabel):(0,fe.Cp)(i.detailsLabel),Be(e)?(i.right.classList.add("can-expand-details"),(0,fe.$Z)(i.readMore),i.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},i.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(i.right.classList.remove("can-expand-details"),(0,fe.Cp)(i.readMore),i.readMore.onmousedown=null,i.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};function ct(e){return e.replace(/\r\n|\r|\n/g,"")}at=it([nt(1,Xe.q),nt(2,et.O),nt(3,Re.XE)],at);var lt=i(86253),dt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},ut=function(e,t){return function(i,n){t(i,n,e)}},ht=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};(0,Le.P6G)("editorSuggestWidget.background",{dark:Le.D0T,light:Le.D0T,hcDark:Le.D0T,hcLight:Le.D0T},V.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,Le.P6G)("editorSuggestWidget.border",{dark:Le.D1_,light:Le.D1_,hcDark:Le.D1_,hcLight:Le.D1_},V.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const gt=(0,Le.P6G)("editorSuggestWidget.foreground",{dark:Le.NOs,light:Le.NOs,hcDark:Le.NOs,hcLight:Le.NOs},V.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,Le.P6G)("editorSuggestWidget.selectedForeground",{dark:Le.NPS,light:Le.NPS,hcDark:Le.NPS,hcLight:Le.NPS},V.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,Le.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Le.cbQ,light:Le.cbQ,hcDark:Le.cbQ,hcLight:Le.cbQ},V.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const pt=(0,Le.P6G)("editorSuggestWidget.selectedBackground",{dark:Le.Vqd,light:Le.Vqd,hcDark:Le.Vqd,hcLight:Le.Vqd},V.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,Le.P6G)("editorSuggestWidget.highlightForeground",{dark:Le.Gwp,light:Le.Gwp,hcDark:Le.Gwp,hcLight:Le.Gwp},V.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,Le.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Le.PX0,light:Le.PX0,hcDark:Le.PX0,hcLight:Le.PX0},V.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,Le.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Le.ZnX)(gt,.5),light:(0,Le.ZnX)(gt,.5),hcDark:(0,Le.ZnX)(gt,.5),hcLight:(0,Le.ZnX)(gt,.5)},V.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class mt{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof be.H}`}restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(fe.Ro.is(e))return fe.Ro.lift(e)}catch(i){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let ft=class e{constructor(e,t,i,n,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._pendingLayout=new d.XK,this._pendingShowDetails=new d.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new r._F,this._disposables=new d.SL,this._onDidSelect=new c.K3,this._onDidFocus=new c.K3,this._onDidHide=new c.Q5,this._onDidShow=new c.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new c.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Me,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new vt(this,e),this._persistedSize=new mt(t,e);class s{constructor(e,t,i=!1,n=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=i,this.persistWidth=n}}let a;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),a=new s(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((e=>{var t,i,n,o;if(this._resize(e.dimension.width,e.dimension.height),a&&(a.persistHeight=a.persistHeight||!!e.north||!!e.south,a.persistWidth=a.persistWidth||!!e.east||!!e.west),e.done){if(a){const{itemHeight:e,defaultSize:r}=this.getLayoutInfo(),s=Math.round(e/2);let{width:c,height:l}=this.element.size;(!a.persistHeight||Math.abs(a.currentSize.height-l)<=s)&&(l=null!==(i=null===(t=a.persistedSize)||void 0===t?void 0:t.height)&&void 0!==i?i:r.height),(!a.persistWidth||Math.abs(a.currentSize.width-c)<=s)&&(c=null!==(o=null===(n=a.persistedSize)||void 0===n?void 0:n.width)&&void 0!==o?o:r.width),this._persistedSize.store(new fe.Ro(c,l))}this._contentWidget.unlockPreference(),a=void 0}}))),this._messageElement=fe.R3(this.element.domNode,fe.$(".message")),this._listElement=fe.R3(this.element.domNode,fe.$(".tree"));const l=o.createInstance(He,this.editor);l.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Ve(l,this.editor);const u=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(113).showIcons);u();const h=o.createInstance(at,this.editor);this._disposables.add(h),this._disposables.add(h.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new ve.aV("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[h],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>V.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:e=>{let t=e.textLabel;if("string"!==typeof e.completion.label){const{detail:i,description:n}=e.completion.label;i&&n?t=V.NC("label.full","{0}{1}, {2}",t,i,n):i?t=V.NC("label.detail","{0}{1}",t,i):n&&(t=V.NC("label.desc","{0}, {1}",t,n))}if(!e.isResolved||!this._isDetailsVisible())return t;const{documentation:i,detail:n}=e.completion,o=Z.WU("{0}{1}",n||"",i?"string"===typeof i?i:i.value:"");return V.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",t,o)}}}),this._list.style((0,lt.TU)({listInactiveFocusBackground:pt,listInactiveFocusOutline:Le.xL1})),this._status=o.createInstance(Ne,this.element.domNode,j.GI);const g=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(113).showStatusBar);g(),this._disposables.add(n.onDidColorThemeChange((e=>this._onThemeChange(e)))),this._onThemeChange(n.getColorTheme()),this._disposables.add(this._list.onMouseDown((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onTap((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onDidChangeSelection((e=>this._onListSelection(e)))),this._disposables.add(this._list.onDidChangeFocus((e=>this._onListFocus(e)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(113)&&(g(),u())}))),this._ctxSuggestWidgetVisible=j._y.Visible.bindTo(i),this._ctxSuggestWidgetDetailsVisible=j._y.DetailsVisible.bindTo(i),this._ctxSuggestWidgetMultipleSuggestions=j._y.MultipleSuggestions.bindTo(i),this._ctxSuggestWidgetHasFocusedSuggestion=j._y.HasFocusedSuggestion.bindTo(i),this._disposables.add(fe.mu(this._details.widget.domNode,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((e=>this._onEditorMouseDown(e))))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){"undefined"!==typeof e.element&&"undefined"!==typeof e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const i=this._completionModel;i&&(this._onDidSelect.fire({item:e,index:t,model:i}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=(0,Ie.c3)(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const i=e.elements[0],n=e.indexes[0];i!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=i,this._list.reveal(n),this._currentSuggestionDetails=(0,r.PG)((e=>ht(this,void 0,void 0,(function*(){const t=(0,r.Vg)((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250),n=e.onCancellationRequested((()=>t.dispose())),o=yield i.resolve(e);return t.dispose(),n.dispose(),o})))),this._currentSuggestionDetails.then((()=>{n>=this._list.length||i!==this._list.element(n)||(this._ignoreFocusEvents=!0,this._list.splice(n,1,[i]),this._list.setFocus([n]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:ot(n)}))})).catch(a.dL)),this._onDidFocus.fire({item:i,index:n,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:fe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,fe.Cp(this._listElement,this._status.element),fe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,fe.Cp(this._listElement,this._status.element),fe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:fe.Cp(this._messageElement),fe.$Z(this._listElement,this._status.element),this._show();break;case 4:fe.Cp(this._messageElement),fe.$Z(this._listElement,this._status.element),this._show();break;case 5:fe.Cp(this._messageElement),fe.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,r.Vg)((()=>this._setState(1)),t)))}showSuggestions(e,t,i,n,o){var r,s;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(r=this._loadingTimeout)||void 0===r||r.dispose(),null===(s=this._currentSuggestionDetails)||void 0===s||s.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),i&&2!==this._state&&0!==this._state)return void this._setState(4);const a=this._completionModel.items.length,c=0===a;if(this._ctxSuggestWidgetMultipleSuggestions.set(a>1),c)return this._setState(n?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(i?4:3),this._list.reveal(t,0),this._list.setFocus(o?[]:[t])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=fe.lI((()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}))}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!Be(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._pendingShowDetails.value=fe.lI((()=>{this._pendingShowDetails.clear(),this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}))}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;this._pendingLayout.clear(),this._pendingShowDetails.clear(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),i=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<i&&this._persistedSize.store(t.with(void 0,i))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,i,n;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const o=fe.D6(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let s=e.height,a=e.width;if(this._status.element.style.height=`${r.itemHeight}px`,2===this._state||1===this._state)s=r.itemHeight+r.borderHeight,a=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new fe.Ro(a,s),this._contentWidget.setPreference(2);else{const c=o.width-r.borderHeight-2*r.horizontalPadding;a>c&&(a=c);const l=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:a,d=r.statusBarHeight+this._list.contentHeight+r.borderHeight,u=r.itemHeight+r.statusBarHeight,h=fe.i(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),p=h.top+g.top+g.height,m=Math.min(o.height-p-r.verticalPadding,d),f=h.top+g.top-r.verticalPadding,v=Math.min(f,d);let _=Math.min(Math.max(v,m)+r.borderHeight,d);s===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(s=this._cappedHeight.wanted),s<u&&(s=u),s>_&&(s=_);const b=150;s>m||this._forceRenderingAbove&&f>b?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),_=v):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),_=m),this.element.preferredSize=new fe.Ro(l,r.defaultSize.height),this.element.maxSize=new fe.Ro(c,_),this.element.minSize=new fe.Ro(220,u),this._cappedHeight=s===d?{wanted:null!==(n=null===(i=this._cappedHeight)||void 0===i?void 0:i.wanted)&&void 0!==n?n:e.height,capped:s}:void 0}this._resize(a,s)}_resize(e,t){const{width:i,height:n}=this.element.maxSize;e=Math.min(i,e),t=Math.min(n,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(e=this._contentWidget.getPosition())||void 0===e?void 0:e.preference[0]))}getLayoutInfo(){const e=this.editor.getOption(48),t=(0,_e.uZ)(this.editor.getOption(115)||e.lineHeight,8,1e3),i=this.editor.getOption(113).showStatusBar&&2!==this._state&&1!==this._state?t:0,n=this._details.widget.borderWidth,o=2*n;return{itemHeight:t,statusBarHeight:i,borderWidth:n,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new fe.Ro(430,i+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};ft.LOADING_MESSAGE=V.NC("suggestWidget.loading","Loading..."),ft.NO_SUGGESTIONS_MESSAGE=V.NC("suggestWidget.noSuggestions","No suggestions."),ft=dt([ut(1,I.Uy),ut(2,F.i6),ut(3,Re.XE),ut(4,L.TG)],ft);class vt{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:i,horizontalPadding:n}=this._widget.getLayoutInfo();return new fe.Ro(t+2*i+n,e+2*i)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var _t=i(89954),bt=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},yt=function(e,t){return function(i,n){t(i,n,e)}};const wt=!1;class Ct{constructor(e,t){this._model=e,this._position=t;const i=e.getLineMaxColumn(t.lineNumber);if(i!==t.column){const i=e.getOffsetAt(t),n=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:_.e.fromPositions(t,n),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]),i=this._model.getOffsetAt(t.getStartPosition());return i-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let St=class e{static get(t){return t.getContribution(e.ID)}constructor(e,t,i,n,o,s,a){this._memoryService=t,this._commandService=i,this._contextKeyService=n,this._instantiationService=o,this._logService=s,this._telemetryService=a,this._lineSuffix=new d.XK,this._toDispose=new d.SL,this._selectors=new xt((e=>e.priority)),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(pe,this.editor),this._selectors.register({priority:0,select:(e,t,i)=>this._memoryService.select(e,t,i)});const c=j._y.InsertMode.bindTo(n);c.set(e.getOption(113).insertMode),this.model.onDidTrigger((()=>c.set(e.getOption(113).insertMode))),this.widget=this._toDispose.add(new r.Ue((()=>{const e=this._instantiationService.createInstance(ft,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new Q(this.editor,e,this.model,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t);const i=j._y.MakesTextEdit.bindTo(this._contextKeyService),n=j._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=j._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,d.OF)((()=>{i.reset(),n.reset(),o.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),r=e.editStart.column,s=t.column;let a=!0;if("smart"===this.editor.getOption(1)&&2===this.model.state&&!e.completion.additionalTextEdits&&!(4&e.completion.insertTextRules)&&s-r===e.completion.insertText.length){const i=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:r,endLineNumber:t.lineNumber,endColumn:s});a=i!==e.completion.insertText}i.set(a),n.set(!v.L.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeyCodeChord().equals(new l.$M(!0,!1,!1,!1,33))||u.dz&&e.toKeyCodeChord().equals(new l.$M(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeyCodeChord().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new r.Ue((()=>this._toDispose.add(new me(this.editor,this.model))))),this._alternatives=this._toDispose.add(new r.Ue((()=>this._toDispose.add(new q(this.editor,this._contextKeyService))))),this._toDispose.add(o.createInstance(H,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new Ct(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{var t;if(e.triggerOptions.shy)return;let i=-1;for(const o of this._selectors.itemsOrderedByPriorityDesc)if(i=o.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items),-1!==i)break;-1===i&&(i=0);let n=!1;if(e.triggerOptions.auto){const i=this.editor.getOption(113);i.snippetsPreventQuickSuggestions&&(null===(t=y.f.get(this.editor))||void 0===t?void 0:t.isInSnippet())?n=!0:"never"===i.selectionMode||"always"===i.selectionMode?n="never"===i.selectionMode:"whenTriggerCharacter"===i.selectionMode?n=1!==e.triggerOptions.triggerKind:"whenQuickSuggestion"===i.selectionMode&&(n=1===e.triggerOptions.triggerKind&&!e.triggerOptions.refilter)}this.widget.value.showSuggestions(e.completionModel,i,e.isFrozen,e.triggerOptions.auto,n)}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{wt||(this.model.cancel(),this.model.clear())})));const h=j._y.AcceptSuggestionsOnEnter.bindTo(n),g=()=>{const e=this.editor.getOption(1);h.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>g()))),g()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const i=y.f.get(this.editor);if(!i)return;const n=this.editor.getModel(),o=n.getAlternativeVersionId(),{item:r}=e,c=[],l=new s.A;1&t||this.editor.pushUndoStop();const d=this.getOverwriteInfo(r,Boolean(8&t));if(this._memoryService.memorize(n,this.editor.getPosition(),r),Array.isArray(r.completion.additionalTextEdits)){this.model.cancel();const e=p.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",r.completion.additionalTextEdits.map((e=>f.h.replaceMove(_.e.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!r.isResolved){const e=new h.G(!0);let i;const o=n.onDidChangeContent((e=>{if(e.isFlush)return l.cancel(),void o.dispose();for(const t of e.changes){const e=_.e.getEndPosition(t.range);i&&!v.L.isBefore(e,i)||(i=e)}})),s=t;t|=2;let a=!1;const d=this.editor.onWillType((()=>{d.dispose(),a=!0,2&s||this.editor.pushUndoStop()}));c.push(r.resolve(l.token).then((()=>{if(!r.completion.additionalTextEdits||l.token.isCancellationRequested)return!1;if(i&&r.completion.additionalTextEdits.some((e=>v.L.isBefore(i,_.e.getStartPosition(e.range)))))return!1;a&&this.editor.pushUndoStop();const e=p.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",r.completion.additionalTextEdits.map((e=>f.h.replaceMove(_.e.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!a&&2&s||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),o.dispose(),d.dispose()})))}let{insertText:u}=r.completion;4&r.completion.insertTextRules||(u=w.Yj.escape(u)),this.model.cancel(),i.insert(u,{overwriteBefore:d.overwriteBefore,overwriteAfter:d.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&r.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),r.completion.command&&(r.completion.command.id===kt.id?this.model.trigger({auto:!0,retrigger:!0}):c.push(this._commandService.executeCommand(r.completion.command.id,...r.completion.command.arguments?[...r.completion.command.arguments]:[]).catch(a.dL))),4&t&&this._alternatives.value.set(e,(e=>{l.cancel();while(n.canUndo()){o!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(r),Promise.all(c).finally((()=>{this._reportSuggestionAcceptedTelemetry(r,n,e),this.model.clear(),l.dispose()}))}_reportSuggestionAcceptedTelemetry(e,t,i){var n;if(this._telemetryGate++%100!==0)return;const o=e.extensionId?e.extensionId.value:(null!==(n=i.item.provider._debugDisplayName)&&void 0!==n?n:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:(0,_t.vp)((0,Ke.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,Ke.DZ)(t.uri)})}getOverwriteInfo(e,t){(0,g.p_)(this.editor.hasModel());let i="replace"===this.editor.getOption(113).insertMode;t&&(i=!i);const n=e.position.column-e.editStart.column,o=(i?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,r=this.editor.getPosition().column-e.position.column,s=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:n+r,overwriteAfter:o+s}}_alertCompletionItem(e){if((0,o.Of)(e.completion.additionalTextEdits)){const t=V.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,n.Z9)(t)}}triggerSuggest(e,t,i){this.editor.hasModel()&&(this.model.trigger({auto:null!==t&&void 0!==t&&t,completionOptions:{providerFilter:e,kindFilter:i?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),i=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},n=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),i=e.editStart.column,n=t.column;if(n-i!==e.completion.insertText.length)return!0;const o=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:i,endLineNumber:t.lineNumber,endColumn:n});return o!==e.completion.insertText};c.ju.once(this.model.onDidTrigger)((e=>{const t=[];c.ju.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{(0,d.B9)(t),i()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if((0,d.B9)(t),0===e.items.length)return void i();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),r=e.items[o];n(r)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:r,model:e},7)):i()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const i=this.widget.value.getFocusedItem();let n=0;e&&(n|=4),t&&(n|=8),this._insertSuggestion(i,n)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};St.ID="editor.contrib.suggestController",St=bt([yt(1,O),yt(2,z.H),yt(3,F.i6),yt(4,L.TG),yt(5,U.VZ),yt(6,ne.b)],St);class xt{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(-1!==this._items.indexOf(e))throw new Error("Value is already registered");return this._items.push(e),this._items.sort(((e,t)=>this.prioritySelector(t)-this.prioritySelector(e))),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class kt extends m.R6{constructor(){super({id:kt.id,label:V.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:F.Ao.and(b.u.writable,b.u.hasCompletionItemProvider,j._y.Visible.toNegated()),kbOpts:{kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,i){const n=St.get(t);if(!n)return;let o;i&&"object"===typeof i&&!0===i.auto&&(o=!0),n.triggerSuggest(void 0,o,void 0)}}kt.id="editor.action.triggerSuggest",(0,m._K)(St.ID,St,2),(0,m.Qr)(kt);const Nt=190,Lt=m._l.bindToContribution(St.get);(0,m.fK)(new Lt({id:"acceptSelectedSuggestion",precondition:F.Ao.and(j._y.Visible,j._y.HasFocusedSuggestion),handler(e){e.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:F.Ao.and(j._y.Visible,b.u.textInputFocus),weight:Nt},{primary:3,kbExpr:F.Ao.and(j._y.Visible,b.u.textInputFocus,j._y.AcceptSuggestionsOnEnter,j._y.MakesTextEdit),weight:Nt}],menuOpts:[{menuId:j.GI,title:V.NC("accept.insert","Insert"),group:"left",order:1,when:j._y.HasInsertAndReplaceRange.toNegated()},{menuId:j.GI,title:V.NC("accept.insert","Insert"),group:"left",order:1,when:F.Ao.and(j._y.HasInsertAndReplaceRange,j._y.InsertMode.isEqualTo("insert"))},{menuId:j.GI,title:V.NC("accept.replace","Replace"),group:"left",order:1,when:F.Ao.and(j._y.HasInsertAndReplaceRange,j._y.InsertMode.isEqualTo("replace"))}]})),(0,m.fK)(new Lt({id:"acceptAlternativeSelectedSuggestion",precondition:F.Ao.and(j._y.Visible,b.u.textInputFocus,j._y.HasFocusedSuggestion),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:j.GI,group:"left",order:2,when:F.Ao.and(j._y.HasInsertAndReplaceRange,j._y.InsertMode.isEqualTo("insert")),title:V.NC("accept.replace","Replace")},{menuId:j.GI,group:"left",order:2,when:F.Ao.and(j._y.HasInsertAndReplaceRange,j._y.InsertMode.isEqualTo("replace")),title:V.NC("accept.insert","Insert")}]})),z.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,m.fK)(new Lt({id:"hideSuggestWidget",precondition:j._y.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:9,secondary:[1033]}})),(0,m.fK)(new Lt({id:"selectNextSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,m.fK)(new Lt({id:"selectNextPageSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:12,secondary:[2060]}})),(0,m.fK)(new Lt({id:"selectLastSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectLastSuggestion()})),(0,m.fK)(new Lt({id:"selectPrevSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,m.fK)(new Lt({id:"selectPrevPageSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:11,secondary:[2059]}})),(0,m.fK)(new Lt({id:"selectFirstSuggestion",precondition:F.Ao.and(j._y.Visible,F.Ao.or(j._y.MultipleSuggestions,j._y.HasFocusedSuggestion.negate())),handler:e=>e.selectFirstSuggestion()})),(0,m.fK)(new Lt({id:"focusSuggestion",precondition:F.Ao.and(j._y.Visible,j._y.HasFocusedSuggestion.negate()),handler:e=>e.focusSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,m.fK)(new Lt({id:"focusAndAcceptSuggestion",precondition:F.Ao.and(j._y.Visible,j._y.HasFocusedSuggestion.negate()),handler:e=>{e.focusSuggestion(),e.acceptSelectedSuggestion(!0,!1)}})),(0,m.fK)(new Lt({id:"toggleSuggestionDetails",precondition:F.Ao.and(j._y.Visible,j._y.HasFocusedSuggestion),handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:j.GI,group:"right",order:1,when:F.Ao.and(j._y.DetailsVisible,j._y.CanResolve),title:V.NC("detail.more","show less")},{menuId:j.GI,group:"right",order:1,when:F.Ao.and(j._y.DetailsVisible.toNegated(),j._y.CanResolve),title:V.NC("detail.less","show more")}]})),(0,m.fK)(new Lt({id:"toggleExplainMode",precondition:j._y.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,m.fK)(new Lt({id:"toggleSuggestionFocus",precondition:j._y.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,m.fK)(new Lt({id:"insertBestCompletion",precondition:F.Ao.and(b.u.textInputFocus,F.Ao.equals("config.editor.tabCompletion","on"),H.AtEnd,j._y.Visible.toNegated(),q.OtherSuggestions.toNegated(),y.f.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest((0,g.Kn)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:Nt,primary:2}})),(0,m.fK)(new Lt({id:"insertNextSuggestion",precondition:F.Ao.and(b.u.textInputFocus,F.Ao.equals("config.editor.tabCompletion","on"),q.OtherSuggestions,j._y.Visible.toNegated(),y.f.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:2}})),(0,m.fK)(new Lt({id:"insertPrevSuggestion",precondition:F.Ao.and(b.u.textInputFocus,F.Ao.equals("config.editor.tabCompletion","on"),q.OtherSuggestions,j._y.Visible.toNegated(),y.f.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:Nt,kbExpr:b.u.textInputFocus,primary:1026}})),(0,m.Qr)(class extends m.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:V.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(e,t){var i;null===(i=St.get(t))||void 0===i||i.resetWidgetSize()}})},71713:(e,t,i)=>{"use strict";i(31412);var n=i(63580),o=i(73910);(0,o.P6G)("symbolIcon.arrayForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.booleanForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.colorForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.constantForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,n.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.fileForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.folderForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.keyForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.keywordForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,n.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.moduleForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.namespaceForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.nullForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.numberForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.objectForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.operatorForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.packageForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.propertyForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.referenceForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.snippetForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.stringForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.structForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.textForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.typeParameterForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.unitForeground",{dark:o.dRz,light:o.dRz,hcDark:o.dRz,hcLight:o.dRz},(0,n.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,o.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,n.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},64662:(e,t,i)=>{"use strict";i.d(t,{R:()=>c});var n=i(85152),o=i(37940),r=i(63580),s=i(84144),a=i(32064);class c extends s.Ke{constructor(){super({id:c.ID,title:{value:r.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(e){const t="terminal"===e.get(a.i6).getContextKeyValue("focusedView")?"terminalFocus":"editorFocus",i=o.n.getTabFocusMode(t),s=!i;o.n.setTabFocusMode(s,t),s?(0,n.Z9)(r.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,n.Z9)(r.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}c.ID="editor.action.toggleTabFocusMode",(0,s.r1)(c)},79607:(e,t,i)=>{"use strict";var n=i(9917),o=i(95935),r=i(16830),s=i(11640),a=i(63580),c=i(28820),l=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},d=function(e,t){return function(i,n){t(i,n,e)}},u=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};const h="ignoreUnusualLineTerminators";function g(e,t,i){e.setModelProperty(t.uri,h,i)}function p(e,t){return e.getModelProperty(t.uri,h)}let m=class extends n.JT{constructor(e,t,i){super(),this._editor=e,this._dialogService=t,this._codeEditorService=i,this._isPresentingDialog=!1,this._config=this._editor.getOption(121),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(121)&&(this._config=this._editor.getOption(121),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()}))),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return u(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;const t=p(this._codeEditorService,e);if(!0===t)return;if(this._editor.getOption(87))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());if(this._isPresentingDialog)return;let i;try{this._isPresentingDialog=!0,i=yield this._dialogService.confirm({title:a.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:a.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:a.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,o.EZ)(e.uri)),primaryButton:a.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:a.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}i.confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):g(this._codeEditorService,e,!0)}))}};m.ID="editor.contrib.unusualLineTerminatorsDetector",m=l([d(1,c.S),d(2,s.$)],m),(0,r._K)(m.ID,m,1)},14495:(e,t,i)=>{"use strict";i.d(t,{G:()=>b,w:()=>y});i(4404);var n=i(84973),o=i(51722),r=i(43155),s=i(63580),a=i(73910),c=i(97781);const l=(0,a.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},s.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,a.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},s.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,a.P6G)("editor.wordHighlightTextBackground",{light:l,dark:l,hcDark:l,hcLight:l},s.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const d=(0,a.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},s.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,a.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:a.xL1,hcLight:a.xL1},s.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,a.P6G)("editor.wordHighlightTextBorder",{light:d,dark:d,hcDark:d,hcLight:d},s.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const u=(0,a.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},s.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),h=(0,a.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},s.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),g=(0,a.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:a.SPM,light:a.SPM,hcDark:a.SPM,hcLight:a.SPM},s.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),p=o.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,c.EN)(h),position:n.sh.Center},minimap:{color:(0,c.EN)(a.IYc),position:n.F5.Inline}}),m=o.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,c.EN)(g),position:n.sh.Center},minimap:{color:(0,c.EN)(a.IYc),position:n.F5.Inline}}),f=o.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,c.EN)(a.SPM),position:n.sh.Center},minimap:{color:(0,c.EN)(a.IYc),position:n.F5.Inline}}),v=o.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),_=o.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,c.EN)(u),position:n.sh.Center},minimap:{color:(0,c.EN)(a.IYc),position:n.F5.Inline}});function b(e){return e===r.MY.Write?p:e===r.MY.Text?m:_}function y(e){return e?v:f}(0,c.Ic)(((e,t)=>{const i=e.getColor(a.Rzx);i&&t.addRule(`.monaco-editor .selectionHighlight { background-color: ${i.transparent(.5)}; }`)}))},70943:(e,t,i)=>{"use strict";var n=i(85152),o=i(9488),r=i(15393),s=i(71050),a=i(17301),c=i(9917),l=i(16830),d=i(24314),u=i(29102),h=i(43155),g=i(63580),p=i(32064),m=i(71922),f=i(14495),v=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},_=function(e,t){return function(i,n){t(i,n,e)}};const b=new p.uy("hasWordHighlights",!1);function y(e,t,i,n){const s=e.ordered(t);return(0,r.Ps)(s.map((e=>()=>Promise.resolve(e.provideDocumentHighlights(t,i,n)).then(void 0,a.Cp))),o.Of)}class w{constructor(e,t,i){this._model=e,this._selection=t,this._wordSeparators=i,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,r.PG)((e=>this._compute(this._model,this._selection,this._wordSeparators,e)))),this._result}_getCurrentWordRange(e,t){const i=e.getWordAtPosition(t.getPosition());return i?new d.e(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn):null}isValid(e,t,i){const n=t.startLineNumber,o=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(s));for(let c=0,l=i.length;!a&&c<l;c++){const e=i.getRange(c);e&&e.startLineNumber===n&&e.startColumn<=o&&e.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}}class C extends w{constructor(e,t,i,n){super(e,t,i),this._providers=n}_compute(e,t,i,n){return y(this._providers,e,t.getPosition(),n).then((e=>e||[]))}}class S extends w{constructor(e,t,i){super(e,t,i),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,i,n){return(0,r.Vs)(250,n).then((()=>{if(!t.isEmpty())return[];const n=e.getWordAtPosition(t.getPosition());if(!n||n.word.length>1e3)return[];const o=e.findMatches(n.word,!0,!1,!0,i,!1);return o.map((e=>({range:e.range,kind:h.MY.Text})))}))}isValid(e,t,i){const n=t.isEmpty();return this._selectionIsEmpty===n&&super.isValid(e,t,i)}}function x(e,t,i,n){return e.has(t)?new C(t,i,n,e):new S(t,i,n)}(0,l.sb)("_executeDocumentHighlights",((e,t,i)=>{const n=e.get(m.p);return y(n.documentHighlightProvider,t,i,s.T.None)}));class k{constructor(e,t,i){this.toUnhook=new c.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=b.bindTo(i),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(78),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{const t=this.editor.getOption(78);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(d.e.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),t=e.findIndex((e=>e.containsPosition(this.editor.getPosition()))),i=(t+1)%e.length,o=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const t=this._getWord();if(t){const r=this.editor.getModel().getLineContent(o.startLineNumber);(0,n.Z9)(`${r}, ${i+1} of ${e.length} for '${t.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),t=e.findIndex((e=>e.containsPosition(this.editor.getPosition()))),i=(t-1+e.length)%e.length,o=e[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o);const t=this._getWord();if(t){const r=this.editor.getModel().getLineContent(o.startLineNumber);(0,n.Z9)(`${r}, ${i+1} of ${e.length} for '${t.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,i=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:i})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();const t=e.startColumn,i=e.endColumn,n=this._getWord();if(!n||n.startColumn>t||n.endColumn<i)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=x(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(125)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),a.dL)}}_beginRenderDecorations(){const e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:(0,f.G)(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}dispose(){this._stopAll(),this.toUnhook.dispose()}}let N=class e extends c.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new k(e,i.documentHighlightProvider,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()}))),n()}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){var e;null===(e=this.wordHighlighter)||void 0===e||e.moveNext()}moveBack(){var e;null===(e=this.wordHighlighter)||void 0===e||e.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};N.ID="editor.contrib.wordHighlighter",N=v([_(1,p.i6),_(2,m.p)],N);class L extends l.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const i=N.get(t);i&&(this._isNext?i.moveNext():i.moveBack())}}class I extends L{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:g.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:b,kbOpts:{kbExpr:u.u.editorTextFocus,primary:65,weight:100}})}}class R extends L{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:g.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:b,kbOpts:{kbExpr:u.u.editorTextFocus,primary:1089,weight:100}})}}class D extends l.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:g.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:b.toNegated(),kbOpts:{kbExpr:u.u.editorTextFocus,primary:0,weight:100}})}run(e,t,i){const n=N.get(t);n&&n.restoreViewState(!0)}}(0,l._K)(N.ID,N,0),(0,l.Qr)(I),(0,l.Qr)(R),(0,l.Qr)(D)},91851:(e,t,i)=>{"use strict";i.d(t,{IA:()=>_,t8:()=>F});var n=i(16830),o=i(61329),r=i(64141),s=i(55343),a=i(92896),c=i(24929),l=i(50187),d=i(24314),u=i(3860),h=i(29102),g=i(4256),p=i(63580),m=i(31106),f=i(32064),v=i(39282);class _ extends n._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){if(!t.hasModel())return;const n=(0,c.u)(t.getOption(125)),o=t.getModel(),r=t.getSelections(),a=r.map((e=>{const t=new l.L(e.positionLineNumber,e.positionColumn),i=this._move(n,o,t,this._wordNavigationType);return this._moveTo(e,i,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,a.map((e=>s.Vi.fromModelSelection(e)))),1===a.length){const e=new l.L(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,i){return i?new u.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new u.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class b extends _{_move(e,t,i,n){return a.w.moveWordLeft(e,t,i,n)}}class y extends _{_move(e,t,i,n){return a.w.moveWordRight(e,t,i,n)}}class w extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class C extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class S extends b{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(h.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class x extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class k extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class N extends b{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(h.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class L extends b{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.u)(r.BH.wordSeparators.defaultValue),t,i,n)}}class I extends b{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.u)(r.BH.wordSeparators.defaultValue),t,i,n)}}class R extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class D extends y{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(h.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class M extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class P extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class E extends y{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:f.Ao.and(h.u.textInputFocus,null===(e=f.Ao.and(m.U,v.cv))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class A extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class T extends y{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.u)(r.BH.wordSeparators.defaultValue),t,i,n)}}class O extends y{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,i,n){return super._move((0,c.u)(r.BH.wordSeparators.defaultValue),t,i,n)}}class F extends n._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,i){const n=e.get(g.c_);if(!t.hasModel())return;const r=(0,c.u)(t.getOption(125)),s=t.getModel(),a=t.getSelections(),l=t.getOption(5),d=t.getOption(9),u=n.getLanguageConfiguration(s.getLanguageId()).getAutoClosingPairs(),h=t._getViewModel(),p=a.map((e=>{const i=this._delete({wordSeparators:r,model:s,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(7),autoClosingBrackets:l,autoClosingQuotes:d,autoClosingPairs:u,autoClosedCharacters:h.getCursorAutoClosedCharacters()},this._wordNavigationType);return new o.T4(i,"")}));t.pushUndoStop(),t.executeCommands(this.id,p),t.pushUndoStop()}}class W extends F{_delete(e,t){const i=a.w.deleteWordLeft(e,t);return i||new d.e(1,1,1,1)}}class B extends F{_delete(e,t){const i=a.w.deleteWordRight(e,t);if(i)return i;const n=e.model.getLineCount(),o=e.model.getLineMaxColumn(n);return new d.e(n,o,n,o)}}class H extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:h.u.writable})}}class V extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:h.u.writable})}}class z extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class U extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:h.u.writable})}}class j extends B{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:h.u.writable})}}class $ extends B{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:h.u.writable,kbOpts:{kbExpr:h.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class K extends n.R6{constructor(){super({id:"deleteInsideWord",precondition:h.u.writable,label:p.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,i){if(!t.hasModel())return;const n=(0,c.u)(t.getOption(125)),r=t.getModel(),s=t.getSelections(),l=s.map((e=>{const t=a.w.deleteInsideWord(n,r,e);return new o.T4(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,l),t.pushUndoStop()}}(0,n.fK)(new w),(0,n.fK)(new C),(0,n.fK)(new S),(0,n.fK)(new x),(0,n.fK)(new k),(0,n.fK)(new N),(0,n.fK)(new R),(0,n.fK)(new D),(0,n.fK)(new M),(0,n.fK)(new P),(0,n.fK)(new E),(0,n.fK)(new A),(0,n.fK)(new L),(0,n.fK)(new I),(0,n.fK)(new T),(0,n.fK)(new O),(0,n.fK)(new H),(0,n.fK)(new V),(0,n.fK)(new z),(0,n.fK)(new U),(0,n.fK)(new j),(0,n.fK)(new $),(0,n.Qr)(K)},86709:(e,t,i)=>{"use strict";var n=i(16830),o=i(92896),r=i(24314),s=i(29102),a=i(91851),c=i(94565);class l extends a.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.u.writable,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const i=o.L.deleteWordPartLeft(e);return i||new r.e(1,1,1,1)}}class d extends a.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.u.writable,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const i=o.L.deleteWordPartRight(e);if(i)return i;const n=e.model.getLineCount(),s=e.model.getLineMaxColumn(n);return new r.e(n,s,n,s)}}class u extends a.IA{_move(e,t,i,n){return o.L.moveWordPartLeft(e,t,i)}}class h extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}c.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class g extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}c.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class p extends a.IA{_move(e,t,i,n){return o.L.moveWordPartRight(e,t,i)}}class m extends p{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class f extends p{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:s.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,n.fK)(new l),(0,n.fK)(new d),(0,n.fK)(new h),(0,n.fK)(new g),(0,n.fK)(new m),(0,n.fK)(new f)},29477:(e,t,i)=>{"use strict";i(42535);var n=i(65321),o=i(38626),r=i(85152),s=i(93794),a=i(9917),c=i(1432),l=i(97295),d=i(70666),u=i(16830),h=i(29102),g=i(64662),p=i(32064),m=i(72065),f=i(91847),v=i(50988),_=i(20913),b=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},y=function(e,t){return function(i,n){t(i,n,e)}};const w=new p.uy("accessibilityHelpWidgetVisible",!1);let C=class e extends a.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(x,this._editor))}show(){this._widget.show()}hide(){this._widget.hide()}};function S(e,t){return e&&0!==e.length?1===e.length?t?l.WU(_.Oe.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):l.WU(_.Oe.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?l.WU(_.Oe.multiSelectionRange,e.length,t):e.length>0?l.WU(_.Oe.multiSelection,e.length):"":_.Oe.noSelection}C.ID="editor.contrib.accessibilityHelpController",C=b([y(1,m.TG)],C);let x=class e extends s.${constructor(e,t,i,s){super(),this._contextKeyService=t,this._keybindingService=i,this._openerService=s,this._editor=e,this._isVisibleKey=w.bindTo(this._contextKeyService),this._domNode=(0,o.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-modal","true"),this._domNode.setAttribute("aria-hidden","true");const a=(0,n.R3)(this._domNode.domNode,(0,n.$)("h1",void 0,_.Oe.accessibilityHelpTitle));a.id="help-dialog-heading",this._domNode.setAttribute("aria-labelledby",a.id),this._contentDomNode=(0,o.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._contentDomNode.domNode.id="help-dialog-content",this._domNode.appendChild(this._contentDomNode),this._contentDomNode.setAttribute("aria-describedby",this._contentDomNode.domNode.id),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register((0,n.mu)(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&((0,r.Z9)(_.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),(0,n.PO)(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){(0,r.Z9)(_.Oe.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;"undefined"===typeof t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(d.o.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,i){const n=this._keybindingService.lookupKeybinding(e);return n?l.WU(t,n.getAriaLabel()):l.WU(i,e)}_buildContent(){const e=this._contentDomNode.domNode,t=this._editor.getOptions(),i=this._editor.getSelections();let o=0;if(i){const e=this._editor.getModel();e&&i.forEach((t=>{o+=e.getValueLengthInRange(t)}))}(0,n.R3)(e,(0,n.$)("p",void 0,S(i,o)));const r=(0,n.R3)(e,(0,n.$)("p"));t.get(59)?t.get(87)?r.textContent=_.Oe.readonlyDiffEditor:r.textContent=_.Oe.editableDiffEditor:t.get(87)?r.textContent=_.Oe.readonlyEditor:r.textContent=_.Oe.editableEditor;const s=(0,n.R3)(e,(0,n.$)("ul")),a=c.dz?_.Oe.changeConfigToOnMac:_.Oe.changeConfigToOnWinLinux;switch(t.get(2)){case 0:(0,n.R3)(s,(0,n.$)("li",void 0,a));break;case 2:(0,n.R3)(s,(0,n.$)("li",void 0,_.Oe.auto_on));break;case 1:(0,n.R3)(s,(0,n.$)("li",void 0,_.Oe.auto_off,a));break}t.get(138)?(0,n.R3)(s,(0,n.$)("li",void 0,this._descriptionForCommand(g.R.ID,_.Oe.tabFocusModeOnMsg,_.Oe.tabFocusModeOnMsgNoKb))):(0,n.R3)(s,(0,n.$)("li",void 0,this._descriptionForCommand(g.R.ID,_.Oe.tabFocusModeOffMsg,_.Oe.tabFocusModeOffMsgNoKb)));const l=c.dz?_.Oe.openDocMac:_.Oe.openDocWinLinux;(0,n.R3)(s,(0,n.$)("li",void 0,l)),(0,n.R3)(e,(0,n.$)("p",void 0,_.Oe.outroMsg))}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,(0,n.PO)(this._contentDomNode.domNode),this._editor.focus())}_layout(){const t=this._editor.getLayoutInfo(),i=Math.max(5,Math.min(e.WIDTH,t.width-40)),n=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(i),this._domNode.setHeight(n);const o=Math.round((t.height-n)/2);this._domNode.setTop(o);const r=Math.round((t.width-i)/2);this._domNode.setLeft(r)}};x.ID="editor.contrib.accessibilityHelpWidget",x.WIDTH=500,x.HEIGHT=300,x=b([y(1,p.i6),y(2,f.d),y(3,v.v4)],x);class k extends u.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:_.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const i=C.get(t);null===i||void 0===i||i.show()}}(0,u._K)(C.ID,C,4),(0,u.Qr)(k);const N=u._l.bindToContribution(C.get);(0,u.fK)(new N({id:"closeAccessibilityHelp",precondition:w,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:h.u.focus,primary:9,secondary:[1033]}}))},19646:(e,t,i)=>{"use strict";i(93811);var n=i(65321),o=i(9917),r=i(16830),s=i(1432);class a extends o.JT{constructor(e){super(),this.editor=e,this.widget=null,s.gn&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}update(){const e=!this.editor.getOption(87);!this.widget&&e?this.widget=new c(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}a.ID="editor.contrib.iPadShowKeyboard";class c extends o.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(n.nm(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(n.nm(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return c.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}c.ID="editor.contrib.ShowKeyboardWidget",(0,r._K)(a.ID,a,3)},97830:(e,t,i)=>{"use strict";i(91065);var n=i(65321),o=i(41264),r=i(9917),s=i(16830),a=i(43155),c=i(45797),l=i(276),d=i(72042),u=i(44156),h=i(20913),g=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},p=function(e,t){return function(i,n){t(i,n,e)}};let m=class e extends r.JT{static get(t){return t.getContribution(e.ID)}constructor(e,t,i){super(),this._editor=e,this._languageService=i,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(a.RW.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new b(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};m.ID="editor.contrib.inspectTokens",m=g([p(1,u.Z),p(2,d.O)],m);class f extends s.R6{constructor(){super({id:"editor.action.inspectTokens",label:h.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const i=m.get(t);null===i||void 0===i||i.launch()}}function v(e){let t="";for(let i=0,n=e.length;i<n;i++){const n=e.charCodeAt(i);switch(n){case 9:t+="";break;case 32:t+="";break;default:t+=String.fromCharCode(n)}}return t}function _(e,t){const i=a.RW.get(t);if(i)return i;const n=e.encodeLanguageId(t);return{getInitialState:()=>l.TJ,tokenize:(e,i,n)=>(0,l.Ri)(t,n),tokenizeEncoded:(e,t,i)=>(0,l.Dy)(n,i)}}class b extends r.JT{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=_(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return b._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let i=0;for(let n=t.tokens1.length-1;n>=0;n--){const o=t.tokens1[n];if(e.column-1>=o.offset){i=n;break}}let r=0;for(let n=t.tokens2.length>>>1;n>=0;n--)if(e.column-1>=t.tokens2[n<<1]){r=n;break}const s=this._model.getLineContent(e.lineNumber);let a="";if(i<t.tokens1.length){const e=t.tokens1[i].offset,n=i+1<t.tokens1.length?t.tokens1[i+1].offset:s.length;a=s.substring(e,n)}(0,n.mc)(this._domNode,(0,n.$)("h2.tm-token",void 0,v(a),(0,n.$)("span.tm-token-length",void 0,`${a.length} ${1===a.length?"char":"chars"}`))),(0,n.R3)(this._domNode,(0,n.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const c=1+(r<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(r<<1)]):null;(0,n.R3)(this._domNode,(0,n.$)("table.tm-metadata-table",void 0,(0,n.$)("tbody",void 0,(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"language"),(0,n.$)("td.tm-metadata-value",void 0,`${c?c.languageId:"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"token type"),(0,n.$)("td.tm-metadata-value",void 0,`${c?this._tokenTypeToString(c.tokenType):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"font style"),(0,n.$)("td.tm-metadata-value",void 0,`${c?this._fontStyleToString(c.fontStyle):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"foreground"),(0,n.$)("td.tm-metadata-value",void 0,`${c?o.Il.Format.CSS.formatHex(c.foreground):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"background"),(0,n.$)("td.tm-metadata-value",void 0,`${c?o.Il.Format.CSS.formatHex(c.background):"-?-"}`))))),(0,n.R3)(this._domNode,(0,n.$)("hr.tokens-inspect-separator")),i<t.tokens1.length&&(0,n.R3)(this._domNode,(0,n.$)("span.tm-token-type",void 0,t.tokens1[i].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=a.RW.getColorMap(),i=c.N.getLanguageId(e),n=c.N.getTokenType(e),o=c.N.getFontStyle(e),r=c.N.getForeground(e),s=c.N.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(i),tokenType:n,fontStyle:o,foreground:t[r],background:t[s]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),8&e&&(t+="strikethrough "),0===t.length&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),n=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let i=1;i<e;i++){const e=this._tokenizationSupport.tokenize(this._model.getLineContent(i),!0,t);t=e.endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}b._ID="editor.contrib.inspectTokensWidget",(0,s._K)(m.ID,m,4),(0,s.Qr)(f)},91732:(e,t,i)=>{"use strict";var n=i(89872),o=i(90725),r=i(20913),s=i(11640),a=i(21212),c=i(9488),l=i(98401),d=i(63580);function u(e,t){return t&&(e.stack||e.stacktrace)?d.NC("stackTrace.format","{0}: {1}",g(e),h(e.stack)||h(e.stacktrace)):g(e)}function h(e){return Array.isArray(e)?e.join("\n"):e}function g(e){return"string"===typeof e.code&&"number"===typeof e.errno&&"string"===typeof e.syscall?d.NC("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||d.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function p(e=null,t=!1){if(!e)return d.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const i=c.kX(e),n=p(i[0],t);return i.length>1?d.NC("error.moreErrors","{0} ({1} errors in total)",n,i.length):n}if(l.HD(e))return e;if(e.detail){const i=e.detail;if(i.error)return u(i.error,t);if(i.exception)return u(i.exception,t)}return e.stack?u(e,t):e.message?e.message:d.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var m,f=i(17301),v=i(75392),_=i(9917),b=i(43702),y=i(94565),w=i(33108),C=i(28820),S=i(72065),x=i(91847),k=i(15393),N=i(71050),L=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};function I(e){const t=e;return Array.isArray(t.items)}function R(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(function(e){e[e["NO_ACTION"]=0]="NO_ACTION",e[e["CLOSE_PICKER"]=1]="CLOSE_PICKER",e[e["REFRESH_PICKER"]=2]="REFRESH_PICKER",e[e["REMOVE_ITEM"]=3]="REMOVE_ITEM"})(m||(m={}));class D extends _.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t,i){var n;const o=new _.SL;let r;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const s=o.add(new _.XK),a=()=>L(this,void 0,void 0,(function*(){const n=s.value=new _.SL;null===r||void 0===r||r.dispose(!0),e.busy=!1,r=new N.A(t);const o=r.token,a=e.value.substr(this.prefix.length).trim(),c=this._getPicks(a,n,o,i),d=(t,i)=>{var n;let o,r;if(I(t)?(o=t.items,r=t.active):o=t,0===o.length){if(i)return!1;(a.length>0||e.hideInput)&&(null===(n=this.options)||void 0===n?void 0:n.noResultsPick)&&(o=(0,l.mf)(this.options.noResultsPick)?[this.options.noResultsPick(a)]:[this.options.noResultsPick])}return e.items=o,r&&(e.activeItems=[r]),!0},u=t=>L(this,void 0,void 0,(function*(){let i=!1,n=!1;yield Promise.all([(()=>L(this,void 0,void 0,(function*(){"number"===typeof t.mergeDelay&&(yield(0,k.Vs)(t.mergeDelay),o.isCancellationRequested)||n||(i=d(t.picks,!0))})))(),(()=>L(this,void 0,void 0,(function*(){e.busy=!0;try{const r=yield t.additionalPicks;if(o.isCancellationRequested)return;let s,a,c,l;if(I(t.picks)?(s=t.picks.items,a=t.picks.active):s=t.picks,I(r)?(c=r.items,l=r.active):c=r,c.length>0||!i){let t;if(!a&&!l){const i=e.activeItems[0];i&&-1!==s.indexOf(i)&&(t=i)}d({items:[...s,...c],active:a||l||t})}}finally{o.isCancellationRequested||(e.busy=!1),n=!0}})))()])}));if(null===c);else if(R(c))yield u(c);else if(c instanceof Promise){e.busy=!0;try{const t=yield c;if(o.isCancellationRequested)return;R(t)?yield u(t):d(t)}finally{o.isCancellationRequested||(e.busy=!1)}}else d(c)}));return o.add(e.onDidChangeValue((()=>a()))),a(),o.add(e.onDidAccept((t=>{const[i]=e.selectedItems;"function"===typeof(null===i||void 0===i?void 0:i.accept)&&(t.inBackground||e.hide(),i.accept(e.keyMods,t))}))),o.add(e.onDidTriggerItemButton((({button:i,item:n})=>L(this,void 0,void 0,(function*(){var o,r;if("function"===typeof n.trigger){const s=null!==(r=null===(o=n.buttons)||void 0===o?void 0:o.indexOf(i))&&void 0!==r?r:-1;if(s>=0){const i=n.trigger(s,e.keyMods),o="number"===typeof i?i:yield i;if(t.isCancellationRequested)return;switch(o){case m.NO_ACTION:break;case m.CLOSE_PICKER:e.hide();break;case m.REFRESH_PICKER:a();break;case m.REMOVE_ITEM:{const t=e.items.indexOf(n);if(-1!==t){const i=e.items.slice(),n=i.splice(t,1),o=e.activeItems.filter((e=>e!==n[0])),r=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=i,o&&(e.activeItems=o),e.keepScrollPosition=r}break}}}}}))))),o}}var M=i(87060),P=i(10829),E=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},A=function(e,t){return function(i,n){t(i,n,e)}},T=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let O=class e extends D{constructor(t,i,n,o,r,s){super(e.PREFIX,t),this.instantiationService=i,this.keybindingService=n,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(F)),this.options=t}_getPicks(t,i,n,o){var r,s;return T(this,void 0,void 0,(function*(){const i=yield this.getCommandPicks(n);if(n.isCancellationRequested)return[];const a=[];for(const n of i){const i=(0,l.f6)(e.WORD_FILTER(t,n.label)),o=n.commandAlias?(0,l.f6)(e.WORD_FILTER(t,n.commandAlias)):void 0;i||o?(n.highlights={label:i,detail:this.options.showAlias?o:void 0},a.push(n)):t===n.commandId&&a.push(n)}const c=new Map;for(const e of a){const t=c.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):c.set(e.label,e)}a.sort(((e,t)=>{const i=this.commandsHistory.peek(e.commandId),n=this.commandsHistory.peek(t.commandId);if(i&&n)return i>n?-1:1;if(i)return-1;if(n)return 1;if(this.options.suggestedCommandIds){const i=this.options.suggestedCommandIds.has(e.commandId),n=this.options.suggestedCommandIds.has(t.commandId);if(i&&n)return 0;if(i)return-1;if(n)return 1}return e.label.localeCompare(t.label)}));const u=[];let h=!1,g=!!this.options.suggestedCommandIds;for(let e=0;e<a.length;e++){const t=a[e];0===e&&this.commandsHistory.peek(t.commandId)&&(u.push({type:"separator",label:(0,d.NC)("recentlyUsed","recently used")}),h=!0),g&&!this.commandsHistory.peek(t.commandId)&&(null===(r=this.options.suggestedCommandIds)||void 0===r?void 0:r.has(t.commandId))&&(u.push({type:"separator",label:(0,d.NC)("commonlyUsed","commonly used")}),h=!0,g=!1),!h||this.commandsHistory.peek(t.commandId)||(null===(s=this.options.suggestedCommandIds)||void 0===s?void 0:s.has(t.commandId))||(u.push({type:"separator",label:(0,d.NC)("morecCommands","other commands")}),h=!1),u.push(this.toCommandPick(t,o))}return this.hasAdditionalCommandPicks(t,n)?{picks:u,additionalPicks:(()=>T(this,void 0,void 0,(function*(){const e=yield this.getAdditionalCommandPicks(i,a,t,n);return n.isCancellationRequested?[]:e.map((e=>this.toCommandPick(e,o)))})))()}:u}))}toCommandPick(e,t){if("separator"===e.type)return e;const i=this.keybindingService.lookupKeybinding(e.commandId),n=i?(0,d.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",e.label,i.getAriaLabel()):e.label;return Object.assign(Object.assign({},e),{ariaLabel:n,detail:this.options.showAlias&&e.commandAlias!==e.label?e.commandAlias:void 0,keybinding:i,accept:()=>T(this,void 0,void 0,(function*(){var i;this.commandsHistory.push(e.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.commandId,from:null!==(i=null===t||void 0===t?void 0:t.from)&&void 0!==i?i:"quick open"});try{yield this.commandService.executeCommand(e.commandId)}catch(n){(0,f.n2)(n)||this.dialogService.error((0,d.NC)("canNotRun","Command '{0}' resulted in an error",e.label),p(n))}}))})}};O.PREFIX=">",O.WORD_FILTER=(0,v.or)(v.Ji,v.KZ,v.ir),O=E([A(1,S.TG),A(2,x.d),A(3,y.H),A(4,P.b),A(5,C.S)],O);let F=class e extends _.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>this.updateConfiguration(e))))}updateConfiguration(t){t&&!t.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService)))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let i;if(t)try{i=JSON.parse(t)}catch(o){}const n=e.cache=new b.z6(this.configuredCommandsHistoryLength,1);if(i){let e;e=i.usesLRU?i.entries:i.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>n.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var i;return null===(i=e.cache)||void 0===i?void 0:i.peek(t)}static saveState(t){if(!e.cache)return;const i={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>i.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(i),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var i,n;const o=t.getValue(),r=null===(n=null===(i=o.workbench)||void 0===i?void 0:i.commandPalette)||void 0===n?void 0:n.history;return"number"===typeof r?r:e.DEFAULT_COMMANDS_HISTORY_LENGTH}};F.DEFAULT_COMMANDS_HISTORY_LENGTH=50,F.PREF_KEY_CACHE="commandPalette.mru.cache",F.PREF_KEY_COUNTER="commandPalette.mru.counter",F.counter=1,F=E([A(0,M.Uy),A(1,w.Ui)],F);class W extends O{constructor(e,t,i,n,o,r){super(e,t,i,n,o,r)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const i of e.getSupportedActions())t.push({commandId:i.id,commandAlias:i.alias,label:(0,a.x$)(i.label)||i.id});return t}}var B=i(16830),H=i(29102),V=i(41157),z=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},U=function(e,t){return function(i,n){t(i,n,e)}},j=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let $=class extends W{get activeTextEditorControl(){return(0,l.f6)(this.codeEditorService.getFocusedCodeEditor())}constructor(e,t,i,n,o,r){super({showAlias:!1},e,i,n,o,r),this.codeEditorService=t}getCommandPicks(){return j(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return j(this,void 0,void 0,(function*(){return[]}))}};$=z([U(0,S.TG),U(1,s.$),U(2,x.d),U(3,y.H),U(4,P.b),U(5,C.S)],$);class K extends B.R6{constructor(){super({id:K.ID,label:r.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:H.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(V.eJ).quickAccess.show($.PREFIX)}}K.ID="editor.action.quickCommand",(0,B.Qr)(K),n.B.as(o.IP.Quickaccess).registerQuickAccessProvider({ctor:$,prefix:$.PREFIX,helpEntries:[{description:r.UX.quickCommandHelp,commandId:K.ID}]})},62078:(e,t,i)=>{"use strict";var n=i(9917),o=i(65520),r=i(83943),s=i(63580);class a extends r.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=(0,s.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,n.JT.None}provideWithTextEditor(e,t,i){const r=e.editor,s=new n.SL;s.add(t.onDidAccept((i=>{const[n]=t.selectedItems;if(n){if(!this.isValidLineNumber(r,n.lineNumber))return;this.gotoLocation(e,{range:this.toRange(n.lineNumber,n.column),keyMods:t.keyMods,preserveFocus:i.inBackground}),i.inBackground||t.hide()}})));const c=()=>{const e=this.parsePosition(r,t.value.trim().substr(a.PREFIX.length)),i=this.getPickLabel(r,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:i}],t.ariaLabel=i,!this.isValidLineNumber(r,e.lineNumber))return void this.clearDecorations(r);const n=this.toRange(e.lineNumber,e.column);r.revealRangeInCenter(n,0),this.addDecorations(r,n)};c(),s.add(t.onDidChangeValue((()=>c())));const l=(0,o.Pi)(r);if(l){const e=l.getOptions(),t=e.get(65);2===t.renderType&&(l.updateOptions({lineNumbers:"on"}),s.add((0,n.OF)((()=>l.updateOptions({lineNumbers:"relative"})))))}return s}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const i=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),n=this.lineCount(e)+1;return{lineNumber:i[0]>0?i[0]:n+i[0],column:i[1]}}getPickLabel(e,t,i){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,i)?(0,s.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,i):(0,s.NC)("gotoLineLabel","Go to line {0}.",t);const n=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,s.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",n.lineNumber,n.column,o):(0,s.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",n.lineNumber,n.column)}isValidLineNumber(e,t){return!(!t||"number"!==typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,i){if(!i||"number"!==typeof i)return!1;const n=this.getModel(e);if(!n)return!1;const o={lineNumber:t,column:i};return n.validatePosition(o).equals(o)}lineCount(e){var t,i;return null!==(i=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==i?i:0}}a.PREFIX=":";var c=i(89872),l=i(90725),d=i(11640),u=i(98401),h=i(20913),g=i(4669),p=i(16830),m=i(29102),f=i(41157),v=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},_=function(e,t){return function(i,n){t(i,n,e)}};let b=class extends a{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=g.ju.None}get activeTextEditorControl(){return(0,u.f6)(this.editorService.getFocusedCodeEditor())}};b=v([_(0,d.$)],b);class y extends p.R6{constructor(){super({id:y.ID,label:h.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:m.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(f.eJ).quickAccess.show(b.PREFIX)}}y.ID="editor.action.gotoLine",(0,p.Qr)(y),c.B.as(l.IP.Quickaccess).registerQuickAccessProvider({ctor:b,prefix:b.PREFIX,helpEntries:[{description:h.qq.gotoLineActionLabel,commandId:y.ID}]})},96816:(e,t,i)=>{"use strict";i(28609),i(71713);var n=i(15393),o=i(71050),r=i(73046),s=i(25670),a=i(75392),c=i(55336),l=i(1432),d=i(97295);const u=[void 0,[]];function h(e,t,i=0,n=0){const o=t;return o.values&&o.values.length>1?g(e,o.values,i,n):p(e,t,i,n)}function g(e,t,i,n){let o=0;const r=[];for(const s of t){const[t,a]=p(e,s,i,n);if("number"!==typeof t)return u;o+=t,r.push(...a)}return[o,m(r)]}function p(e,t,i,n){const o=(0,a.EW)(t.original,t.originalLowercase,i,e,e.toLowerCase(),n,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return o?[o[0],(0,a.mB)(o)]:u}Object.freeze({score:0});function m(e){const t=e.sort(((e,t)=>e.start-t.start)),i=[];let n;for(const o of t)n&&f(n,o)?(n.start=Math.min(n.start,o.start),n.end=Math.max(n.end,o.end)):(n=o,i.push(o));return i}function f(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function v(e){return e.startsWith('"')&&e.endsWith('"')}const _=" ";function b(e){"string"!==typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:i,normalized:n,normalizedLowercase:o}=y(e),r=i.indexOf(c.ir)>=0,s=v(e);let a;const l=e.split(_);if(l.length>1)for(const c of l){const e=v(c),{pathNormalized:t,normalized:i,normalizedLowercase:n}=y(c);i&&(a||(a=[]),a.push({original:c,originalLowercase:c.toLowerCase(),pathNormalized:t,normalized:i,normalizedLowercase:n,expectContiguousMatch:e}))}return{original:e,originalLowercase:t,pathNormalized:i,normalized:n,normalizedLowercase:o,values:a,containsPathSeparator:r,expectContiguousMatch:s}}function y(e){let t;t=l.ED?e.replace(/\//g,c.ir):e.replace(/\\/g,c.ir);const i=(0,d.R1)(t).replace(/\s|"/g,"");return{pathNormalized:t,normalized:i,normalizedLowercase:i.toLowerCase()}}function w(e){return Array.isArray(e)?b(e.map((e=>e.original)).join(_)):b(e.original)}var C=i(9917),S=i(24314),x=i(43155),k=i(30335),N=i(83943),L=i(63580),I=i(71922),R=i(9488),D=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},M=function(e,t){return function(i,n){t(i,n,e)}},P=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?i(e.value):o(e.value).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let E=class e extends N.X{constructor(e,t,i=Object.create(null)){super(i),this._languageFeaturesService=e,this._outlineModelService=t,this.options=i,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,L.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),C.JT.None}provideWithTextEditor(e,t,i){const n=e.editor,o=this.getModel(n);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,i):this.doProvideWithoutEditorSymbols(e,o,t,i):C.JT.None}doProvideWithoutEditorSymbols(e,t,i,n){const o=new C.SL;return this.provideLabelPick(i,(0,L.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{P(this,void 0,void 0,(function*(){const r=yield this.waitForLanguageSymbolRegistry(t,o);r&&!n.isCancellationRequested&&o.add(this.doProvideWithEditorSymbols(e,t,i,n))}))})(),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return P(this,void 0,void 0,(function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const i=new n.CR,o=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange((()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(o.dispose(),i.complete(!0))})));return t.add((0,C.OF)((()=>i.complete(!1)))),i.p}))}doProvideWithEditorSymbols(t,i,n,r){var s;const a=t.editor,c=new C.SL;c.add(n.onDidAccept((e=>{const[i]=n.selectedItems;i&&i.range&&(this.gotoLocation(t,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:e.inBackground}),e.inBackground||n.hide())}))),c.add(n.onDidTriggerItemButton((({item:e})=>{e&&e.range&&(this.gotoLocation(t,{range:e.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));const l=this.getDocumentSymbols(i,r);let d;const u=t=>P(this,void 0,void 0,(function*(){null===d||void 0===d||d.dispose(!0),n.busy=!1,d=new o.A(r),n.busy=!0;try{const i=b(n.value.substr(e.PREFIX.length).trim()),o=yield this.doGetSymbolPicks(l,i,void 0,d.token);if(r.isCancellationRequested)return;if(o.length>0){if(n.items=o,t&&0===i.original.length){const e=(0,R.dF)(o,(e=>Boolean("separator"!==e.type&&e.range&&S.e.containsPosition(e.range.decoration,t))));e&&(n.activeItems=[e])}}else i.original.length>0?this.provideLabelPick(n,(0,L.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,L.NC)("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(n.busy=!1)}}));return c.add(n.onDidChangeValue((()=>u(void 0)))),u(null===(s=a.getSelection())||void 0===s?void 0:s.getPosition()),c.add(n.onDidChangeActive((()=>{const[e]=n.activeItems;e&&e.range&&(a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration))}))),c}doGetSymbolPicks(t,i,n,o){var a,c;return P(this,void 0,void 0,(function*(){const l=yield t;if(o.isCancellationRequested)return[];const u=0===i.original.indexOf(e.SCOPE_PREFIX),g=u?1:0;let p,m,f;i.values&&i.values.length>1?(p=w(i.values[0]),m=w(i.values.slice(1))):p=i;const v=null===(c=null===(a=this.options)||void 0===a?void 0:a.openSideBySideDirection)||void 0===c?void 0:c.call(a);v&&(f=[{iconClass:"right"===v?s.k.asClassName(r.l.splitHorizontal):s.k.asClassName(r.l.splitVertical),tooltip:"right"===v?(0,L.NC)("openToSide","Open to the Side"):(0,L.NC)("openToBottom","Open to the Bottom")}]);const _=[];for(let C=0;C<l.length;C++){const k=l[C],N=(0,d.fy)(k.name),I=`$(${x.uZ.toIcon(k.kind).id}) ${N}`,R=I.length-N.length;let D,M,P,E,O=k.containerName;if((null===n||void 0===n?void 0:n.extraContainerLabel)&&(O=O?`${n.extraContainerLabel}  ${O}`:n.extraContainerLabel),i.original.length>g){let W=!1;if(p!==i&&([D,M]=h(I,Object.assign(Object.assign({},i),{values:void 0}),g,R),"number"===typeof D&&(W=!0)),"number"!==typeof D&&([D,M]=h(I,p,g,R),"number"!==typeof D))continue;if(!W&&m){if(O&&m.original.length>0&&([P,E]=h(O,m)),"number"!==typeof P)continue;"number"===typeof D&&(D+=P)}}const F=k.tags&&k.tags.indexOf(1)>=0;_.push({index:C,kind:k.kind,score:D,label:I,ariaLabel:N,description:O,highlights:F?void 0:{label:M,description:E},range:{selection:S.e.collapseToStart(k.selectionRange),decoration:k.range},strikethrough:F,buttons:f})}const b=_.sort(((e,t)=>u?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let y=[];if(u){let B,H,V=0;function z(){H&&"number"===typeof B&&V>0&&(H.label=(0,d.WU)(T[B]||A,V))}for(const U of b)B!==U.kind?(z(),B=U.kind,V=1,H={type:"separator"},y.push(H)):V++,y.push(U);z()}else b.length>0&&(y=[{label:(0,L.NC)("symbols","symbols ({0})",_.length),type:"separator"},...b]);return y}))}compareByScore(e,t){if("number"!==typeof e.score&&"number"===typeof t.score)return 1;if("number"===typeof e.score&&"number"!==typeof t.score)return-1;if("number"===typeof e.score&&"number"===typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const i=T[e.kind]||A,n=T[t.kind]||A,o=i.localeCompare(n);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return P(this,void 0,void 0,(function*(){const i=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:i.asListOfDocumentSymbols()}))}};E.PREFIX="@",E.SCOPE_PREFIX=":",E.PREFIX_BY_CATEGORY=`${E.PREFIX}${E.SCOPE_PREFIX}`,E=D([M(0,I.p),M(1,k.Je)],E);const A=(0,L.NC)("property","properties ({0})"),T={[5]:(0,L.NC)("method","methods ({0})"),[11]:(0,L.NC)("function","functions ({0})"),[8]:(0,L.NC)("_constructor","constructors ({0})"),[12]:(0,L.NC)("variable","variables ({0})"),[4]:(0,L.NC)("class","classes ({0})"),[22]:(0,L.NC)("struct","structs ({0})"),[23]:(0,L.NC)("event","events ({0})"),[24]:(0,L.NC)("operator","operators ({0})"),[10]:(0,L.NC)("interface","interfaces ({0})"),[2]:(0,L.NC)("namespace","namespaces ({0})"),[3]:(0,L.NC)("package","packages ({0})"),[25]:(0,L.NC)("typeParameter","type parameters ({0})"),[1]:(0,L.NC)("modules","modules ({0})"),[6]:(0,L.NC)("property","properties ({0})"),[9]:(0,L.NC)("enum","enumerations ({0})"),[21]:(0,L.NC)("enumMember","enumeration members ({0})"),[14]:(0,L.NC)("string","strings ({0})"),[0]:(0,L.NC)("file","files ({0})"),[17]:(0,L.NC)("array","arrays ({0})"),[15]:(0,L.NC)("number","numbers ({0})"),[16]:(0,L.NC)("boolean","booleans ({0})"),[18]:(0,L.NC)("object","objects ({0})"),[19]:(0,L.NC)("key","keys ({0})"),[7]:(0,L.NC)("field","fields ({0})"),[13]:(0,L.NC)("constant","constants ({0})")};var O=i(89872),F=i(90725),W=i(11640),B=i(98401),H=i(20913),V=i(4669),z=i(16830),U=i(29102),j=i(41157),$=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},K=function(e,t){return function(i,n){t(i,n,e)}};let q=class extends E{constructor(e,t,i){super(t,i),this.editorService=e,this.onDidActiveTextEditorControlChange=V.ju.None}get activeTextEditorControl(){return(0,B.f6)(this.editorService.getFocusedCodeEditor())}};q=$([K(0,W.$),K(1,I.p),K(2,k.Je)],q);class G extends z.R6{constructor(){super({id:G.ID,label:H.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:U.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:U.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(j.eJ).quickAccess.show(E.PREFIX,{itemActivation:j.jG.NONE})}}G.ID="editor.action.quickOutline",(0,z.Qr)(G),O.B.as(F.IP.Quickaccess).registerQuickAccessProvider({ctor:q,prefix:E.PREFIX,helpEntries:[{description:H.aq.quickOutlineActionLabel,prefix:E.PREFIX,commandId:G.ID},{description:H.aq.quickOutlineByCategoryActionLabel,prefix:E.PREFIX_BY_CATEGORY}]})},60669:(e,t,i)=>{"use strict";var n=i(89872),o=i(90725),r=i(20913),s=i(63580),a=i(9917),c=i(91847),l=i(41157),d=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},u=function(e,t){return function(i,n){t(i,n,e)}};let h=class e{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=n.B.as(o.IP.Quickaccess)}provide(t){const i=new a.SL;return i.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),i.add(t.onDidChangeValue((t=>{const i=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));i&&i.prefix&&i.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})}))),t.items=this.getQuickAccessProviders().filter((t=>t.prefix!==e.PREFIX)),i}getQuickAccessProviders(){const e=this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))).flatMap((e=>this.createPicks(e)));return e}createPicks(e){return e.helpEntries.map((t=>{const i=t.prefix||e.prefix,n=i||"";return{prefix:i,label:n,keybinding:t.commandId?this.keybindingService.lookupKeybinding(t.commandId):void 0,ariaLabel:(0,s.NC)("helpPickAriaLabel","{0}, {1}",n,t.description),description:t.description}}))}};h.PREFIX="?",h=d([u(0,l.eJ),u(1,c.d)],h),n.B.as(o.IP.Quickaccess).registerQuickAccessProvider({ctor:h,prefix:"",helpEntries:[{description:r.ld.helpQuickAccessActionLabel}]})},45048:(e,t,i)=>{"use strict";var n=i(16830),o=i(11640),r=i(29010),s=i(33108),a=i(32064),c=i(72065),l=i(59422),d=i(87060),u=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},h=function(e,t){return function(i,n){t(i,n,e)}};let g=class extends r.J{constructor(e,t,i,n,o,r,s){super(!0,e,t,i,n,o,r,s)}};g=u([h(1,a.i6),h(2,o.$),h(3,l.lT),h(4,c.TG),h(5,d.Uy),h(6,s.Ui)],g),(0,n._K)(r.J.ID,g,4)},15662:(e,t,i)=>{"use strict";var n=i(16830),o=i(44156),r=i(20913),s=i(92321),a=i(88542);class c extends n.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:r.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const i=e.get(o.Z),n=i.getColorTheme();(0,s.c3)(n.type)?(i.setTheme(this._originalThemeName||((0,s._T)(n.type)?a.rW:a.TG)),this._originalThemeName=null):(i.setTheme((0,s._T)(n.type)?a.kR:a.MU),this._originalThemeName=n.themeName)}}(0,n.Qr)(c)},45288:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CompletionAdapter:()=>xe,DefinitionAdapter:()=>We,DiagnosticsAdapter:()=>we,DocumentColorAdapter:()=>Qe,DocumentFormattingEditProvider:()=>Ke,DocumentHighlightAdapter:()=>Oe,DocumentLinkAdapter:()=>$e,DocumentRangeFormattingEditProvider:()=>qe,DocumentSymbolAdapter:()=>Ue,FoldingRangeAdapter:()=>Ze,HoverAdapter:()=>Pe,ReferenceAdapter:()=>He,RenameAdapter:()=>Ve,SelectionRangeAdapter:()=>Je,WorkerManager:()=>B,fromPosition:()=>ke,fromRange:()=>Ne,setupMode:()=>Xe,toRange:()=>Le,toTextEdit:()=>De});var n=i(6097),o=i(25108),r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let o of a(t))c.call(e,o)||o===i||r(e,o,{get:()=>t[o],enumerable:!(n=s(t,o))||n.enumerable});return e},d=(e,t,i)=>(l(e,t,"default"),i&&l(i,t,"default")),u={};d(u,n);var h,g,p,m,f,v,_,b,y,w,C,S,x,k,N,L,I,R,D,M,P,E,A,T,O,F,W=12e4,B=class{_defaults;_idleCheckInterval;_lastUsedTime;_configChangeListener;_worker;_client;constructor(e){this._defaults=e,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker()))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;let e=Date.now()-this._lastUsedTime;e>W&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=u.editor.createWebWorker({moduleId:"vs/language/css/cssWorker",label:this._defaults.languageId,createData:{options:this._defaults.options,languageId:this._defaults.languageId}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...e){let t;return this._getClient().then((e=>{t=e})).then((t=>{if(this._worker)return this._worker.withSyncedResources(e)})).then((e=>t))}};(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647})(h||(h={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(g||(g={})),function(e){function t(e,t){return e===Number.MAX_VALUE&&(e=g.MAX_VALUE),t===Number.MAX_VALUE&&(t=g.MAX_VALUE),{line:e,character:t}}function i(e){var t=e;return be.objectLiteral(t)&&be.uinteger(t.line)&&be.uinteger(t.character)}e.create=t,e.is=i}(p||(p={})),function(e){function t(e,t,i,n){if(be.uinteger(e)&&be.uinteger(t)&&be.uinteger(i)&&be.uinteger(n))return{start:p.create(e,t),end:p.create(i,n)};if(p.is(e)&&p.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+i+", "+n+"]")}function i(e){var t=e;return be.objectLiteral(t)&&p.is(t.start)&&p.is(t.end)}e.create=t,e.is=i}(m||(m={})),function(e){function t(e,t){return{uri:e,range:t}}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.string(t.uri)||be.undefined(t.uri))}e.create=t,e.is=i}(f||(f={})),function(e){function t(e,t,i,n){return{targetUri:e,targetRange:t,targetSelectionRange:i,originSelectionRange:n}}function i(e){var t=e;return be.defined(t)&&m.is(t.targetRange)&&be.string(t.targetUri)&&(m.is(t.targetSelectionRange)||be.undefined(t.targetSelectionRange))&&(m.is(t.originSelectionRange)||be.undefined(t.originSelectionRange))}e.create=t,e.is=i}(v||(v={})),function(e){function t(e,t,i,n){return{red:e,green:t,blue:i,alpha:n}}function i(e){var t=e;return be.numberRange(t.red,0,1)&&be.numberRange(t.green,0,1)&&be.numberRange(t.blue,0,1)&&be.numberRange(t.alpha,0,1)}e.create=t,e.is=i}(_||(_={})),function(e){function t(e,t){return{range:e,color:t}}function i(e){var t=e;return m.is(t.range)&&_.is(t.color)}e.create=t,e.is=i}(b||(b={})),function(e){function t(e,t,i){return{label:e,textEdit:t,additionalTextEdits:i}}function i(e){var t=e;return be.string(t.label)&&(be.undefined(t.textEdit)||R.is(t))&&(be.undefined(t.additionalTextEdits)||be.typedArray(t.additionalTextEdits,R.is))}e.create=t,e.is=i}(y||(y={})),function(e){e["Comment"]="comment",e["Imports"]="imports",e["Region"]="region"}(w||(w={})),function(e){function t(e,t,i,n,o){var r={startLine:e,endLine:t};return be.defined(i)&&(r.startCharacter=i),be.defined(n)&&(r.endCharacter=n),be.defined(o)&&(r.kind=o),r}function i(e){var t=e;return be.uinteger(t.startLine)&&be.uinteger(t.startLine)&&(be.undefined(t.startCharacter)||be.uinteger(t.startCharacter))&&(be.undefined(t.endCharacter)||be.uinteger(t.endCharacter))&&(be.undefined(t.kind)||be.string(t.kind))}e.create=t,e.is=i}(C||(C={})),function(e){function t(e,t){return{location:e,message:t}}function i(e){var t=e;return be.defined(t)&&f.is(t.location)&&be.string(t.message)}e.create=t,e.is=i}(S||(S={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(x||(x={})),function(e){e.Unnecessary=1,e.Deprecated=2}(k||(k={})),function(e){function t(e){var t=e;return void 0!==t&&null!==t&&be.string(t.href)}e.is=t}(N||(N={})),function(e){function t(e,t,i,n,o,r){var s={range:e,message:t};return be.defined(i)&&(s.severity=i),be.defined(n)&&(s.code=n),be.defined(o)&&(s.source=o),be.defined(r)&&(s.relatedInformation=r),s}function i(e){var t,i=e;return be.defined(i)&&m.is(i.range)&&be.string(i.message)&&(be.number(i.severity)||be.undefined(i.severity))&&(be.integer(i.code)||be.string(i.code)||be.undefined(i.code))&&(be.undefined(i.codeDescription)||be.string(null===(t=i.codeDescription)||void 0===t?void 0:t.href))&&(be.string(i.source)||be.undefined(i.source))&&(be.undefined(i.relatedInformation)||be.typedArray(i.relatedInformation,S.is))}e.create=t,e.is=i}(L||(L={})),function(e){function t(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={title:e,command:t};return be.defined(i)&&i.length>0&&(o.arguments=i),o}function i(e){var t=e;return be.defined(t)&&be.string(t.title)&&be.string(t.command)}e.create=t,e.is=i}(I||(I={})),function(e){function t(e,t){return{range:e,newText:t}}function i(e,t){return{range:{start:e,end:e},newText:t}}function n(e){return{range:e,newText:""}}function o(e){var t=e;return be.objectLiteral(t)&&be.string(t.newText)&&m.is(t.range)}e.replace=t,e.insert=i,e.del=n,e.is=o}(R||(R={})),function(e){function t(e,t,i){var n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==i&&(n.description=i),n}function i(e){var t=e;return void 0!==t&&be.objectLiteral(t)&&be.string(t.label)&&(be.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(be.string(t.description)||void 0===t.description)}e.create=t,e.is=i}(D||(D={})),function(e){function t(e){var t=e;return"string"===typeof t}e.is=t}(M||(M={})),function(e){function t(e,t,i){return{range:e,newText:t,annotationId:i}}function i(e,t,i){return{range:{start:e,end:e},newText:t,annotationId:i}}function n(e,t){return{range:e,newText:"",annotationId:t}}function o(e){var t=e;return R.is(t)&&(D.is(t.annotationId)||M.is(t.annotationId))}e.replace=t,e.insert=i,e.del=n,e.is=o}(P||(P={})),function(e){function t(e,t){return{textDocument:e,edits:t}}function i(e){var t=e;return be.defined(t)&&z.is(t.textDocument)&&Array.isArray(t.edits)}e.create=t,e.is=i}(E||(E={})),function(e){function t(e,t,i){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==i&&(n.annotationId=i),n}function i(e){var t=e;return t&&"create"===t.kind&&be.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||be.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||be.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(A||(A={})),function(e){function t(e,t,i,n){var o={kind:"rename",oldUri:e,newUri:t};return void 0===i||void 0===i.overwrite&&void 0===i.ignoreIfExists||(o.options=i),void 0!==n&&(o.annotationId=n),o}function i(e){var t=e;return t&&"rename"===t.kind&&be.string(t.oldUri)&&be.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||be.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||be.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(T||(T={})),function(e){function t(e,t,i){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==i&&(n.annotationId=i),n}function i(e){var t=e;return t&&"delete"===t.kind&&be.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||be.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||be.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(O||(O={})),function(e){function t(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return be.string(e.kind)?A.is(e)||T.is(e)||O.is(e):E.is(e)})))}e.is=t}(F||(F={}));var H,V,z,U,j,$,K,q,G,Q,Z,Y,J,X,ee,te,ie,ne,oe,re,se,ae,ce,le,de,ue,he,ge,pe,me,fe,ve=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,i){var n,o;if(void 0===i?n=R.insert(e,t):M.is(i)?(o=i,n=P.insert(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(i),n=P.insert(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.replace=function(e,t,i){var n,o;if(void 0===i?n=R.replace(e,t):M.is(i)?(o=i,n=P.replace(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(i),n=P.replace(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.delete=function(e,t){var i,n;if(void 0===t?i=R.del(e):M.is(t)?(n=t,i=P.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(t),i=P.del(e,n)),this.edits.push(i),void 0!==n)return n},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),_e=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var i;if(M.is(e)?i=e:(i=this.nextId(),t=e),void 0!==this._annotations[i])throw new Error("Id "+i+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+i);return this._annotations[i]=t,this._size++,i},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new _e(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(E.is(e)){var i=new ve(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=i}}))):e.changes&&Object.keys(e.changes).forEach((function(i){var n=new ve(e.changes[i]);t._textEditChanges[i]=n}))):this._workspaceEdit={}}Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(z.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version},i=this._textEditChanges[t.uri];if(!i){var n=[],o={textDocument:t,edits:n};this._workspaceEdit.documentChanges.push(o),i=new ve(n,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");i=this._textEditChanges[e];if(!i){n=[];this._workspaceEdit.changes[e]=n,i=new ve(n),this._textEditChanges[e]=i}return i},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new _e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,r;if(D.is(t)||M.is(t)?n=t:i=t,void 0===n?o=A.create(e,i):(r=M.is(n)?n:this._changeAnnotations.manage(n),o=A.create(e,i,r)),this._workspaceEdit.documentChanges.push(o),void 0!==r)return r},e.prototype.renameFile=function(e,t,i,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var o,r,s;if(D.is(i)||M.is(i)?o=i:n=i,void 0===o?r=T.create(e,t,n):(s=M.is(o)?o:this._changeAnnotations.manage(o),r=T.create(e,t,n,s)),this._workspaceEdit.documentChanges.push(r),void 0!==s)return s},e.prototype.deleteFile=function(e,t,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,r;if(D.is(t)||M.is(t)?n=t:i=t,void 0===n?o=O.create(e,i):(r=M.is(n)?n:this._changeAnnotations.manage(n),o=O.create(e,i,r)),this._workspaceEdit.documentChanges.push(o),void 0!==r)return r}})();(function(e){function t(e){return{uri:e}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)}e.create=t,e.is=i})(H||(H={})),function(e){function t(e,t){return{uri:e,version:t}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&be.integer(t.version)}e.create=t,e.is=i}(V||(V={})),function(e){function t(e,t){return{uri:e,version:t}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&(null===t.version||be.integer(t.version))}e.create=t,e.is=i}(z||(z={})),function(e){function t(e,t,i,n){return{uri:e,languageId:t,version:i,text:n}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&be.string(t.languageId)&&be.integer(t.version)&&be.string(t.text)}e.create=t,e.is=i}(U||(U={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(j||(j={})),function(e){function t(t){var i=t;return i===e.PlainText||i===e.Markdown}e.is=t}(j||(j={})),function(e){function t(e){var t=e;return be.objectLiteral(e)&&j.is(t.kind)&&be.string(t.value)}e.is=t}($||($={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(K||(K={})),function(e){e.PlainText=1,e.Snippet=2}(q||(q={})),function(e){e.Deprecated=1}(G||(G={})),function(e){function t(e,t,i){return{newText:e,insert:t,replace:i}}function i(e){var t=e;return t&&be.string(t.newText)&&m.is(t.insert)&&m.is(t.replace)}e.create=t,e.is=i}(Q||(Q={})),function(e){e.asIs=1,e.adjustIndentation=2}(Z||(Z={})),function(e){function t(e){return{label:e}}e.create=t}(Y||(Y={})),function(e){function t(e,t){return{items:e||[],isIncomplete:!!t}}e.create=t}(J||(J={})),function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function i(e){var t=e;return be.string(t)||be.objectLiteral(t)&&be.string(t.language)&&be.string(t.value)}e.fromPlainText=t,e.is=i}(X||(X={})),function(e){function t(e){var t=e;return!!t&&be.objectLiteral(t)&&($.is(t.contents)||X.is(t.contents)||be.typedArray(t.contents,X.is))&&(void 0===e.range||m.is(e.range))}e.is=t}(ee||(ee={})),function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t}(te||(te={})),function(e){function t(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={label:e};return be.defined(t)&&(o.documentation=t),be.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t}(ie||(ie={})),function(e){e.Text=1,e.Read=2,e.Write=3}(ne||(ne={})),function(e){function t(e,t){var i={range:e};return be.number(t)&&(i.kind=t),i}e.create=t}(oe||(oe={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(re||(re={})),function(e){e.Deprecated=1}(se||(se={})),function(e){function t(e,t,i,n,o){var r={name:e,kind:t,location:{uri:n,range:i}};return o&&(r.containerName=o),r}e.create=t}(ae||(ae={})),function(e){function t(e,t,i,n,o,r){var s={name:e,detail:t,kind:i,range:n,selectionRange:o};return void 0!==r&&(s.children=r),s}function i(e){var t=e;return t&&be.string(t.name)&&be.number(t.kind)&&m.is(t.range)&&m.is(t.selectionRange)&&(void 0===t.detail||be.string(t.detail))&&(void 0===t.deprecated||be.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}e.create=t,e.is=i}(ce||(ce={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(le||(le={})),function(e){function t(e,t){var i={diagnostics:e};return void 0!==t&&null!==t&&(i.only=t),i}function i(e){var t=e;return be.defined(t)&&be.typedArray(t.diagnostics,L.is)&&(void 0===t.only||be.typedArray(t.only,be.string))}e.create=t,e.is=i}(de||(de={})),function(e){function t(e,t,i){var n={title:e},o=!0;return"string"===typeof t?(o=!1,n.kind=t):I.is(t)?n.command=t:n.edit=t,o&&void 0!==i&&(n.kind=i),n}function i(e){var t=e;return t&&be.string(t.title)&&(void 0===t.diagnostics||be.typedArray(t.diagnostics,L.is))&&(void 0===t.kind||be.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||I.is(t.command))&&(void 0===t.isPreferred||be.boolean(t.isPreferred))&&(void 0===t.edit||F.is(t.edit))}e.create=t,e.is=i}(ue||(ue={})),function(e){function t(e,t){var i={range:e};return be.defined(t)&&(i.data=t),i}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.undefined(t.command)||I.is(t.command))}e.create=t,e.is=i}(he||(he={})),function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}function i(e){var t=e;return be.defined(t)&&be.uinteger(t.tabSize)&&be.boolean(t.insertSpaces)}e.create=t,e.is=i}(ge||(ge={})),function(e){function t(e,t,i){return{range:e,target:t,data:i}}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.undefined(t.target)||be.string(t.target))}e.create=t,e.is=i}(pe||(pe={})),function(e){function t(e,t){return{range:e,parent:t}}function i(t){var i=t;return void 0!==i&&m.is(i.range)&&(void 0===i.parent||e.is(i.parent))}e.create=t,e.is=i}(me||(me={})),function(e){function t(e,t,i,n){return new ye(e,t,i,n)}function i(e){var t=e;return!!(be.defined(t)&&be.string(t.uri)&&(be.undefined(t.languageId)||be.string(t.languageId))&&be.uinteger(t.lineCount)&&be.func(t.getText)&&be.func(t.positionAt)&&be.func(t.offsetAt))}function n(e,t){for(var i=e.getText(),n=o(t,(function(e,t){var i=e.range.start.line-t.range.start.line;return 0===i?e.range.start.character-t.range.start.character:i})),r=i.length,s=n.length-1;s>=0;s--){var a=n[s],c=e.offsetAt(a.range.start),l=e.offsetAt(a.range.end);if(!(l<=r))throw new Error("Overlapping edit");i=i.substring(0,c)+a.newText+i.substring(l,i.length),r=c}return i}function o(e,t){if(e.length<=1)return e;var i=e.length/2|0,n=e.slice(0,i),r=e.slice(i);o(n,t),o(r,t);var s=0,a=0,c=0;while(s<n.length&&a<r.length){var l=t(n[s],r[a]);e[c++]=l<=0?n[s++]:r[a++]}while(s<n.length)e[c++]=n[s++];while(a<r.length)e[c++]=r[a++];return e}e.create=t,e.is=i,e.applyEdits=n}(fe||(fe={}));var be,ye=function(){function e(e,t,i,n){this._uri=e,this._languageId=t,this._version=i,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(t,i)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,i=!0,n=0;n<t.length;n++){i&&(e.push(n),i=!1);var o=t.charAt(n);i="\r"===o||"\n"===o,"\r"===o&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}i&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),i=0,n=t.length;if(0===n)return p.create(0,e);while(i<n){var o=Math.floor((i+n)/2);t[o]>e?n=o:i=o+1}var r=i-1;return p.create(r,e-t[r])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var i=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(i+e.character,n),i)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function i(e){return"undefined"!==typeof e}function n(e){return"undefined"===typeof e}function o(e){return!0===e||!1===e}function r(e){return"[object String]"===t.call(e)}function s(e){return"[object Number]"===t.call(e)}function a(e,i,n){return"[object Number]"===t.call(e)&&i<=e&&e<=n}function c(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647}function l(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647}function d(e){return"[object Function]"===t.call(e)}function u(e){return null!==e&&"object"===typeof e}function h(e,t){return Array.isArray(e)&&e.every(t)}e.defined=i,e.undefined=n,e.boolean=o,e.string=r,e.number=s,e.numberRange=a,e.integer=c,e.uinteger=l,e.func=d,e.objectLiteral=u,e.typedArray=h})(be||(be={}));var we=class{constructor(e,t,i){this._languageId=e,this._worker=t;const n=e=>{let t,i=e.getLanguageId();i===this._languageId&&(this._listener[e.uri.toString()]=e.onDidChangeContent((()=>{window.clearTimeout(t),t=window.setTimeout((()=>this._doValidate(e.uri,i)),500)})),this._doValidate(e.uri,i))},o=e=>{u.editor.setModelMarkers(e,this._languageId,[]);let t=e.uri.toString(),i=this._listener[t];i&&(i.dispose(),delete this._listener[t])};this._disposables.push(u.editor.onDidCreateModel(n)),this._disposables.push(u.editor.onWillDisposeModel(o)),this._disposables.push(u.editor.onDidChangeModelLanguage((e=>{o(e.model),n(e.model)}))),this._disposables.push(i((e=>{u.editor.getModels().forEach((e=>{e.getLanguageId()===this._languageId&&(o(e),n(e))}))}))),this._disposables.push({dispose:()=>{u.editor.getModels().forEach(o);for(let e in this._listener)this._listener[e].dispose()}}),u.editor.getModels().forEach(n)}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables.length=0}_doValidate(e,t){this._worker(e).then((t=>t.doValidation(e.toString()))).then((i=>{const n=i.map((t=>Se(e,t)));let o=u.editor.getModel(e);o&&o.getLanguageId()===t&&u.editor.setModelMarkers(o,t,n)})).then(void 0,(e=>{o.error(e)}))}};function Ce(e){switch(e){case x.Error:return u.MarkerSeverity.Error;case x.Warning:return u.MarkerSeverity.Warning;case x.Information:return u.MarkerSeverity.Info;case x.Hint:return u.MarkerSeverity.Hint;default:return u.MarkerSeverity.Info}}function Se(e,t){let i="number"===typeof t.code?String(t.code):t.code;return{severity:Ce(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:i,source:t.source}}var xe=class{constructor(e,t){this._worker=e,this._triggerCharacters=t}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.doComplete(o.toString(),ke(t)))).then((i=>{if(!i)return;const n=e.getWordUntilPosition(t),o=new u.Range(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn),r=i.items.map((e=>{const t={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:Me(e.command),range:o,kind:Re(e.kind)};return e.textEdit&&(Ie(e.textEdit)?t.range={insert:Le(e.textEdit.insert),replace:Le(e.textEdit.replace)}:t.range=Le(e.textEdit.range),t.insertText=e.textEdit.newText),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(De)),e.insertTextFormat===q.Snippet&&(t.insertTextRules=u.languages.CompletionItemInsertTextRule.InsertAsSnippet),t}));return{isIncomplete:i.isIncomplete,suggestions:r}}))}};function ke(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function Ne(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function Le(e){if(e)return new u.Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function Ie(e){return"undefined"!==typeof e.insert&&"undefined"!==typeof e.replace}function Re(e){const t=u.languages.CompletionItemKind;switch(e){case K.Text:return t.Text;case K.Method:return t.Method;case K.Function:return t.Function;case K.Constructor:return t.Constructor;case K.Field:return t.Field;case K.Variable:return t.Variable;case K.Class:return t.Class;case K.Interface:return t.Interface;case K.Module:return t.Module;case K.Property:return t.Property;case K.Unit:return t.Unit;case K.Value:return t.Value;case K.Enum:return t.Enum;case K.Keyword:return t.Keyword;case K.Snippet:return t.Snippet;case K.Color:return t.Color;case K.File:return t.File;case K.Reference:return t.Reference}return t.Property}function De(e){if(e)return{range:Le(e.range),text:e.newText}}function Me(e){return e&&"editor.action.triggerSuggest"===e.command?{id:e.command,title:e.title,arguments:e.arguments}:void 0}var Pe=class{constructor(e){this._worker=e}provideHover(e,t,i){let n=e.uri;return this._worker(n).then((e=>e.doHover(n.toString(),ke(t)))).then((e=>{if(e)return{range:Le(e.range),contents:Te(e.contents)}}))}};function Ee(e){return e&&"object"===typeof e&&"string"===typeof e.kind}function Ae(e){return"string"===typeof e?{value:e}:Ee(e)?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"}}function Te(e){if(e)return Array.isArray(e)?e.map(Ae):[Ae(e)]}var Oe=class{constructor(e){this._worker=e}provideDocumentHighlights(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.findDocumentHighlights(n.toString(),ke(t)))).then((e=>{if(e)return e.map((e=>({range:Le(e.range),kind:Fe(e.kind)})))}))}};function Fe(e){switch(e){case ne.Read:return u.languages.DocumentHighlightKind.Read;case ne.Write:return u.languages.DocumentHighlightKind.Write;case ne.Text:return u.languages.DocumentHighlightKind.Text}return u.languages.DocumentHighlightKind.Text}var We=class{constructor(e){this._worker=e}provideDefinition(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.findDefinition(n.toString(),ke(t)))).then((e=>{if(e)return[Be(e)]}))}};function Be(e){return{uri:u.Uri.parse(e.uri),range:Le(e.range)}}var He=class{constructor(e){this._worker=e}provideReferences(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.findReferences(o.toString(),ke(t)))).then((e=>{if(e)return e.map(Be)}))}},Ve=class{constructor(e){this._worker=e}provideRenameEdits(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.doRename(o.toString(),ke(t),i))).then((e=>ze(e)))}};function ze(e){if(!e||!e.changes)return;let t=[];for(let i in e.changes){const n=u.Uri.parse(i);for(let o of e.changes[i])t.push({resource:n,versionId:void 0,textEdit:{range:Le(o.range),text:o.newText}})}return{edits:t}}var Ue=class{constructor(e){this._worker=e}provideDocumentSymbols(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentSymbols(i.toString()))).then((e=>{if(e)return e.map((e=>({name:e.name,detail:"",containerName:e.containerName,kind:je(e.kind),range:Le(e.location.range),selectionRange:Le(e.location.range),tags:[]})))}))}};function je(e){let t=u.languages.SymbolKind;switch(e){case re.File:return t.Array;case re.Module:return t.Module;case re.Namespace:return t.Namespace;case re.Package:return t.Package;case re.Class:return t.Class;case re.Method:return t.Method;case re.Property:return t.Property;case re.Field:return t.Field;case re.Constructor:return t.Constructor;case re.Enum:return t.Enum;case re.Interface:return t.Interface;case re.Function:return t.Function;case re.Variable:return t.Variable;case re.Constant:return t.Constant;case re.String:return t.String;case re.Number:return t.Number;case re.Boolean:return t.Boolean;case re.Array:return t.Array}return t.Function}var $e=class{constructor(e){this._worker=e}provideLinks(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentLinks(i.toString()))).then((e=>{if(e)return{links:e.map((e=>({range:Le(e.range),url:e.target})))}}))}},Ke=class{constructor(e){this._worker=e}provideDocumentFormattingEdits(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.format(n.toString(),null,Ge(t)).then((e=>{if(e&&0!==e.length)return e.map(De)}))))}},qe=class{constructor(e){this._worker=e}canFormatMultipleRanges=!1;provideDocumentRangeFormattingEdits(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.format(o.toString(),Ne(t),Ge(i)).then((e=>{if(e&&0!==e.length)return e.map(De)}))))}};function Ge(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}var Qe=class{constructor(e){this._worker=e}provideDocumentColors(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentColors(i.toString()))).then((e=>{if(e)return e.map((e=>({color:e.color,range:Le(e.range)})))}))}provideColorPresentations(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getColorPresentations(n.toString(),t.color,Ne(t.range)))).then((e=>{if(e)return e.map((e=>{let t={label:e.label};return e.textEdit&&(t.textEdit=De(e.textEdit)),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(De)),t}))}))}},Ze=class{constructor(e){this._worker=e}provideFoldingRanges(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getFoldingRanges(n.toString(),t))).then((e=>{if(e)return e.map((e=>{const t={start:e.startLine+1,end:e.endLine+1};return"undefined"!==typeof e.kind&&(t.kind=Ye(e.kind)),t}))}))}};function Ye(e){switch(e){case w.Comment:return u.languages.FoldingRangeKind.Comment;case w.Imports:return u.languages.FoldingRangeKind.Imports;case w.Region:return u.languages.FoldingRangeKind.Region}}var Je=class{constructor(e){this._worker=e}provideSelectionRanges(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getSelectionRanges(n.toString(),t.map(ke)))).then((e=>{if(e)return e.map((e=>{const t=[];while(e)t.push({range:Le(e.range)}),e=e.parent;return t}))}))}};function Xe(e){const t=[],i=[],n=new B(e);t.push(n);const o=(...e)=>n.getLanguageServiceWorker(...e);function r(){const{languageId:t,modeConfiguration:n}=e;tt(i),n.completionItems&&i.push(u.languages.registerCompletionItemProvider(t,new xe(o,["/","-",":"]))),n.hovers&&i.push(u.languages.registerHoverProvider(t,new Pe(o))),n.documentHighlights&&i.push(u.languages.registerDocumentHighlightProvider(t,new Oe(o))),n.definitions&&i.push(u.languages.registerDefinitionProvider(t,new We(o))),n.references&&i.push(u.languages.registerReferenceProvider(t,new He(o))),n.documentSymbols&&i.push(u.languages.registerDocumentSymbolProvider(t,new Ue(o))),n.rename&&i.push(u.languages.registerRenameProvider(t,new Ve(o))),n.colors&&i.push(u.languages.registerColorProvider(t,new Qe(o))),n.foldingRanges&&i.push(u.languages.registerFoldingRangeProvider(t,new Ze(o))),n.diagnostics&&i.push(new we(t,o,e.onDidChange)),n.selectionRanges&&i.push(u.languages.registerSelectionRangeProvider(t,new Je(o))),n.documentFormattingEdits&&i.push(u.languages.registerDocumentFormattingEditProvider(t,new Ke(o))),n.documentRangeFormattingEdits&&i.push(u.languages.registerDocumentRangeFormattingEditProvider(t,new qe(o)))}return r(),t.push(et(i)),et(t)}function et(e){return{dispose:()=>tt(e)}}function tt(e){while(e.length)e.pop().dispose()}},40605:(e,t,i)=>{"use strict";var n=i(6097),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))a.call(e,c)||c===i||o(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,i)=>(c(e,t,"default"),i&&c(i,t,"default")),d={};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/l(d,n);var u=class{_onDidChange=new d.Emitter;_options;_modeConfiguration;_languageId;constructor(e,t,i){this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(e){this.setOptions(e)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},h={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},g={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new u("css",h,g),m=new u("scss",h,g),f=new u("less",h,g);function v(){return i.e(3278).then(i.bind(i,45288))}d.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:m},d.languages.onLanguage("less",(()=>{v().then((e=>e.setupMode(f)))})),d.languages.onLanguage("scss",(()=>{v().then((e=>e.setupMode(m)))})),d.languages.onLanguage("css",(()=>{v().then((e=>e.setupMode(p)))}))},15377:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CompletionAdapter:()=>xe,DefinitionAdapter:()=>We,DiagnosticsAdapter:()=>we,DocumentColorAdapter:()=>Qe,DocumentFormattingEditProvider:()=>Ke,DocumentHighlightAdapter:()=>Oe,DocumentLinkAdapter:()=>$e,DocumentRangeFormattingEditProvider:()=>qe,DocumentSymbolAdapter:()=>Ue,FoldingRangeAdapter:()=>Ze,HoverAdapter:()=>Pe,ReferenceAdapter:()=>He,RenameAdapter:()=>Ve,SelectionRangeAdapter:()=>Je,WorkerManager:()=>B,fromPosition:()=>ke,fromRange:()=>Ne,setupMode:()=>tt,setupMode1:()=>et,toRange:()=>Le,toTextEdit:()=>De});var n=i(6097),o=i(25108),r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,l=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let o of a(t))c.call(e,o)||o===i||r(e,o,{get:()=>t[o],enumerable:!(n=s(t,o))||n.enumerable});return e},d=(e,t,i)=>(l(e,t,"default"),i&&l(i,t,"default")),u={};d(u,n);var h,g,p,m,f,v,_,b,y,w,C,S,x,k,N,L,I,R,D,M,P,E,A,T,O,F,W=12e4,B=class{_defaults;_idleCheckInterval;_lastUsedTime;_configChangeListener;_worker;_client;constructor(e){this._defaults=e,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker()))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){if(!this._worker)return;let e=Date.now()-this._lastUsedTime;e>W&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=u.editor.createWebWorker({moduleId:"vs/language/html/htmlWorker",createData:{languageSettings:this._defaults.options,languageId:this._defaults.languageId},label:this._defaults.languageId}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...e){let t;return this._getClient().then((e=>{t=e})).then((t=>{if(this._worker)return this._worker.withSyncedResources(e)})).then((e=>t))}};(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647})(h||(h={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647}(g||(g={})),function(e){function t(e,t){return e===Number.MAX_VALUE&&(e=g.MAX_VALUE),t===Number.MAX_VALUE&&(t=g.MAX_VALUE),{line:e,character:t}}function i(e){var t=e;return be.objectLiteral(t)&&be.uinteger(t.line)&&be.uinteger(t.character)}e.create=t,e.is=i}(p||(p={})),function(e){function t(e,t,i,n){if(be.uinteger(e)&&be.uinteger(t)&&be.uinteger(i)&&be.uinteger(n))return{start:p.create(e,t),end:p.create(i,n)};if(p.is(e)&&p.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+i+", "+n+"]")}function i(e){var t=e;return be.objectLiteral(t)&&p.is(t.start)&&p.is(t.end)}e.create=t,e.is=i}(m||(m={})),function(e){function t(e,t){return{uri:e,range:t}}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.string(t.uri)||be.undefined(t.uri))}e.create=t,e.is=i}(f||(f={})),function(e){function t(e,t,i,n){return{targetUri:e,targetRange:t,targetSelectionRange:i,originSelectionRange:n}}function i(e){var t=e;return be.defined(t)&&m.is(t.targetRange)&&be.string(t.targetUri)&&(m.is(t.targetSelectionRange)||be.undefined(t.targetSelectionRange))&&(m.is(t.originSelectionRange)||be.undefined(t.originSelectionRange))}e.create=t,e.is=i}(v||(v={})),function(e){function t(e,t,i,n){return{red:e,green:t,blue:i,alpha:n}}function i(e){var t=e;return be.numberRange(t.red,0,1)&&be.numberRange(t.green,0,1)&&be.numberRange(t.blue,0,1)&&be.numberRange(t.alpha,0,1)}e.create=t,e.is=i}(_||(_={})),function(e){function t(e,t){return{range:e,color:t}}function i(e){var t=e;return m.is(t.range)&&_.is(t.color)}e.create=t,e.is=i}(b||(b={})),function(e){function t(e,t,i){return{label:e,textEdit:t,additionalTextEdits:i}}function i(e){var t=e;return be.string(t.label)&&(be.undefined(t.textEdit)||R.is(t))&&(be.undefined(t.additionalTextEdits)||be.typedArray(t.additionalTextEdits,R.is))}e.create=t,e.is=i}(y||(y={})),function(e){e["Comment"]="comment",e["Imports"]="imports",e["Region"]="region"}(w||(w={})),function(e){function t(e,t,i,n,o){var r={startLine:e,endLine:t};return be.defined(i)&&(r.startCharacter=i),be.defined(n)&&(r.endCharacter=n),be.defined(o)&&(r.kind=o),r}function i(e){var t=e;return be.uinteger(t.startLine)&&be.uinteger(t.startLine)&&(be.undefined(t.startCharacter)||be.uinteger(t.startCharacter))&&(be.undefined(t.endCharacter)||be.uinteger(t.endCharacter))&&(be.undefined(t.kind)||be.string(t.kind))}e.create=t,e.is=i}(C||(C={})),function(e){function t(e,t){return{location:e,message:t}}function i(e){var t=e;return be.defined(t)&&f.is(t.location)&&be.string(t.message)}e.create=t,e.is=i}(S||(S={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(x||(x={})),function(e){e.Unnecessary=1,e.Deprecated=2}(k||(k={})),function(e){function t(e){var t=e;return void 0!==t&&null!==t&&be.string(t.href)}e.is=t}(N||(N={})),function(e){function t(e,t,i,n,o,r){var s={range:e,message:t};return be.defined(i)&&(s.severity=i),be.defined(n)&&(s.code=n),be.defined(o)&&(s.source=o),be.defined(r)&&(s.relatedInformation=r),s}function i(e){var t,i=e;return be.defined(i)&&m.is(i.range)&&be.string(i.message)&&(be.number(i.severity)||be.undefined(i.severity))&&(be.integer(i.code)||be.string(i.code)||be.undefined(i.code))&&(be.undefined(i.codeDescription)||be.string(null===(t=i.codeDescription)||void 0===t?void 0:t.href))&&(be.string(i.source)||be.undefined(i.source))&&(be.undefined(i.relatedInformation)||be.typedArray(i.relatedInformation,S.is))}e.create=t,e.is=i}(L||(L={})),function(e){function t(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={title:e,command:t};return be.defined(i)&&i.length>0&&(o.arguments=i),o}function i(e){var t=e;return be.defined(t)&&be.string(t.title)&&be.string(t.command)}e.create=t,e.is=i}(I||(I={})),function(e){function t(e,t){return{range:e,newText:t}}function i(e,t){return{range:{start:e,end:e},newText:t}}function n(e){return{range:e,newText:""}}function o(e){var t=e;return be.objectLiteral(t)&&be.string(t.newText)&&m.is(t.range)}e.replace=t,e.insert=i,e.del=n,e.is=o}(R||(R={})),function(e){function t(e,t,i){var n={label:e};return void 0!==t&&(n.needsConfirmation=t),void 0!==i&&(n.description=i),n}function i(e){var t=e;return void 0!==t&&be.objectLiteral(t)&&be.string(t.label)&&(be.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(be.string(t.description)||void 0===t.description)}e.create=t,e.is=i}(D||(D={})),function(e){function t(e){var t=e;return"string"===typeof t}e.is=t}(M||(M={})),function(e){function t(e,t,i){return{range:e,newText:t,annotationId:i}}function i(e,t,i){return{range:{start:e,end:e},newText:t,annotationId:i}}function n(e,t){return{range:e,newText:"",annotationId:t}}function o(e){var t=e;return R.is(t)&&(D.is(t.annotationId)||M.is(t.annotationId))}e.replace=t,e.insert=i,e.del=n,e.is=o}(P||(P={})),function(e){function t(e,t){return{textDocument:e,edits:t}}function i(e){var t=e;return be.defined(t)&&z.is(t.textDocument)&&Array.isArray(t.edits)}e.create=t,e.is=i}(E||(E={})),function(e){function t(e,t,i){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),void 0!==i&&(n.annotationId=i),n}function i(e){var t=e;return t&&"create"===t.kind&&be.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||be.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||be.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(A||(A={})),function(e){function t(e,t,i,n){var o={kind:"rename",oldUri:e,newUri:t};return void 0===i||void 0===i.overwrite&&void 0===i.ignoreIfExists||(o.options=i),void 0!==n&&(o.annotationId=n),o}function i(e){var t=e;return t&&"rename"===t.kind&&be.string(t.oldUri)&&be.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||be.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||be.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(T||(T={})),function(e){function t(e,t,i){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),void 0!==i&&(n.annotationId=i),n}function i(e){var t=e;return t&&"delete"===t.kind&&be.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||be.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||be.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||M.is(t.annotationId))}e.create=t,e.is=i}(O||(O={})),function(e){function t(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return be.string(e.kind)?A.is(e)||T.is(e)||O.is(e):E.is(e)})))}e.is=t}(F||(F={}));var H,V,z,U,j,$,K,q,G,Q,Z,Y,J,X,ee,te,ie,ne,oe,re,se,ae,ce,le,de,ue,he,ge,pe,me,fe,ve=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,i){var n,o;if(void 0===i?n=R.insert(e,t):M.is(i)?(o=i,n=P.insert(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(i),n=P.insert(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.replace=function(e,t,i){var n,o;if(void 0===i?n=R.replace(e,t):M.is(i)?(o=i,n=P.replace(e,t,i)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(i),n=P.replace(e,t,o)),this.edits.push(n),void 0!==o)return o},e.prototype.delete=function(e,t){var i,n;if(void 0===t?i=R.del(e):M.is(t)?(n=t,i=P.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(t),i=P.del(e,n)),this.edits.push(i),void 0!==n)return n},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),_e=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var i;if(M.is(e)?i=e:(i=this.nextId(),t=e),void 0!==this._annotations[i])throw new Error("Id "+i+" is already in use.");if(void 0===t)throw new Error("No annotation provided for id "+i);return this._annotations[i]=t,this._size++,i},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}();(function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new _e(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(E.is(e)){var i=new ve(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=i}}))):e.changes&&Object.keys(e.changes).forEach((function(i){var n=new ve(e.changes[i]);t._textEditChanges[i]=n}))):this._workspaceEdit={}}Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(z.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version},i=this._textEditChanges[t.uri];if(!i){var n=[],o={textDocument:t,edits:n};this._workspaceEdit.documentChanges.push(o),i=new ve(n,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");i=this._textEditChanges[e];if(!i){n=[];this._workspaceEdit.changes[e]=n,i=new ve(n),this._textEditChanges[e]=i}return i},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new _e,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,r;if(D.is(t)||M.is(t)?n=t:i=t,void 0===n?o=A.create(e,i):(r=M.is(n)?n:this._changeAnnotations.manage(n),o=A.create(e,i,r)),this._workspaceEdit.documentChanges.push(o),void 0!==r)return r},e.prototype.renameFile=function(e,t,i,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var o,r,s;if(D.is(i)||M.is(i)?o=i:n=i,void 0===o?r=T.create(e,t,n):(s=M.is(o)?o:this._changeAnnotations.manage(o),r=T.create(e,t,n,s)),this._workspaceEdit.documentChanges.push(r),void 0!==s)return s},e.prototype.deleteFile=function(e,t,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,o,r;if(D.is(t)||M.is(t)?n=t:i=t,void 0===n?o=O.create(e,i):(r=M.is(n)?n:this._changeAnnotations.manage(n),o=O.create(e,i,r)),this._workspaceEdit.documentChanges.push(o),void 0!==r)return r}})();(function(e){function t(e){return{uri:e}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)}e.create=t,e.is=i})(H||(H={})),function(e){function t(e,t){return{uri:e,version:t}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&be.integer(t.version)}e.create=t,e.is=i}(V||(V={})),function(e){function t(e,t){return{uri:e,version:t}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&(null===t.version||be.integer(t.version))}e.create=t,e.is=i}(z||(z={})),function(e){function t(e,t,i,n){return{uri:e,languageId:t,version:i,text:n}}function i(e){var t=e;return be.defined(t)&&be.string(t.uri)&&be.string(t.languageId)&&be.integer(t.version)&&be.string(t.text)}e.create=t,e.is=i}(U||(U={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(j||(j={})),function(e){function t(t){var i=t;return i===e.PlainText||i===e.Markdown}e.is=t}(j||(j={})),function(e){function t(e){var t=e;return be.objectLiteral(e)&&j.is(t.kind)&&be.string(t.value)}e.is=t}($||($={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(K||(K={})),function(e){e.PlainText=1,e.Snippet=2}(q||(q={})),function(e){e.Deprecated=1}(G||(G={})),function(e){function t(e,t,i){return{newText:e,insert:t,replace:i}}function i(e){var t=e;return t&&be.string(t.newText)&&m.is(t.insert)&&m.is(t.replace)}e.create=t,e.is=i}(Q||(Q={})),function(e){e.asIs=1,e.adjustIndentation=2}(Z||(Z={})),function(e){function t(e){return{label:e}}e.create=t}(Y||(Y={})),function(e){function t(e,t){return{items:e||[],isIncomplete:!!t}}e.create=t}(J||(J={})),function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function i(e){var t=e;return be.string(t)||be.objectLiteral(t)&&be.string(t.language)&&be.string(t.value)}e.fromPlainText=t,e.is=i}(X||(X={})),function(e){function t(e){var t=e;return!!t&&be.objectLiteral(t)&&($.is(t.contents)||X.is(t.contents)||be.typedArray(t.contents,X.is))&&(void 0===e.range||m.is(e.range))}e.is=t}(ee||(ee={})),function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t}(te||(te={})),function(e){function t(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var o={label:e};return be.defined(t)&&(o.documentation=t),be.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t}(ie||(ie={})),function(e){e.Text=1,e.Read=2,e.Write=3}(ne||(ne={})),function(e){function t(e,t){var i={range:e};return be.number(t)&&(i.kind=t),i}e.create=t}(oe||(oe={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(re||(re={})),function(e){e.Deprecated=1}(se||(se={})),function(e){function t(e,t,i,n,o){var r={name:e,kind:t,location:{uri:n,range:i}};return o&&(r.containerName=o),r}e.create=t}(ae||(ae={})),function(e){function t(e,t,i,n,o,r){var s={name:e,detail:t,kind:i,range:n,selectionRange:o};return void 0!==r&&(s.children=r),s}function i(e){var t=e;return t&&be.string(t.name)&&be.number(t.kind)&&m.is(t.range)&&m.is(t.selectionRange)&&(void 0===t.detail||be.string(t.detail))&&(void 0===t.deprecated||be.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}e.create=t,e.is=i}(ce||(ce={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(le||(le={})),function(e){function t(e,t){var i={diagnostics:e};return void 0!==t&&null!==t&&(i.only=t),i}function i(e){var t=e;return be.defined(t)&&be.typedArray(t.diagnostics,L.is)&&(void 0===t.only||be.typedArray(t.only,be.string))}e.create=t,e.is=i}(de||(de={})),function(e){function t(e,t,i){var n={title:e},o=!0;return"string"===typeof t?(o=!1,n.kind=t):I.is(t)?n.command=t:n.edit=t,o&&void 0!==i&&(n.kind=i),n}function i(e){var t=e;return t&&be.string(t.title)&&(void 0===t.diagnostics||be.typedArray(t.diagnostics,L.is))&&(void 0===t.kind||be.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||I.is(t.command))&&(void 0===t.isPreferred||be.boolean(t.isPreferred))&&(void 0===t.edit||F.is(t.edit))}e.create=t,e.is=i}(ue||(ue={})),function(e){function t(e,t){var i={range:e};return be.defined(t)&&(i.data=t),i}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.undefined(t.command)||I.is(t.command))}e.create=t,e.is=i}(he||(he={})),function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}function i(e){var t=e;return be.defined(t)&&be.uinteger(t.tabSize)&&be.boolean(t.insertSpaces)}e.create=t,e.is=i}(ge||(ge={})),function(e){function t(e,t,i){return{range:e,target:t,data:i}}function i(e){var t=e;return be.defined(t)&&m.is(t.range)&&(be.undefined(t.target)||be.string(t.target))}e.create=t,e.is=i}(pe||(pe={})),function(e){function t(e,t){return{range:e,parent:t}}function i(t){var i=t;return void 0!==i&&m.is(i.range)&&(void 0===i.parent||e.is(i.parent))}e.create=t,e.is=i}(me||(me={})),function(e){function t(e,t,i,n){return new ye(e,t,i,n)}function i(e){var t=e;return!!(be.defined(t)&&be.string(t.uri)&&(be.undefined(t.languageId)||be.string(t.languageId))&&be.uinteger(t.lineCount)&&be.func(t.getText)&&be.func(t.positionAt)&&be.func(t.offsetAt))}function n(e,t){for(var i=e.getText(),n=o(t,(function(e,t){var i=e.range.start.line-t.range.start.line;return 0===i?e.range.start.character-t.range.start.character:i})),r=i.length,s=n.length-1;s>=0;s--){var a=n[s],c=e.offsetAt(a.range.start),l=e.offsetAt(a.range.end);if(!(l<=r))throw new Error("Overlapping edit");i=i.substring(0,c)+a.newText+i.substring(l,i.length),r=c}return i}function o(e,t){if(e.length<=1)return e;var i=e.length/2|0,n=e.slice(0,i),r=e.slice(i);o(n,t),o(r,t);var s=0,a=0,c=0;while(s<n.length&&a<r.length){var l=t(n[s],r[a]);e[c++]=l<=0?n[s++]:r[a++]}while(s<n.length)e[c++]=n[s++];while(a<r.length)e[c++]=r[a++];return e}e.create=t,e.is=i,e.applyEdits=n}(fe||(fe={}));var be,ye=function(){function e(e,t,i,n){this._uri=e,this._languageId=t,this._version=i,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),i=this.offsetAt(e.end);return this._content.substring(t,i)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,i=!0,n=0;n<t.length;n++){i&&(e.push(n),i=!1);var o=t.charAt(n);i="\r"===o||"\n"===o,"\r"===o&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}i&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),i=0,n=t.length;if(0===n)return p.create(0,e);while(i<n){var o=Math.floor((i+n)/2);t[o]>e?n=o:i=o+1}var r=i-1;return p.create(r,e-t[r])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var i=t[e.line],n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(i+e.character,n),i)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function i(e){return"undefined"!==typeof e}function n(e){return"undefined"===typeof e}function o(e){return!0===e||!1===e}function r(e){return"[object String]"===t.call(e)}function s(e){return"[object Number]"===t.call(e)}function a(e,i,n){return"[object Number]"===t.call(e)&&i<=e&&e<=n}function c(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647}function l(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647}function d(e){return"[object Function]"===t.call(e)}function u(e){return null!==e&&"object"===typeof e}function h(e,t){return Array.isArray(e)&&e.every(t)}e.defined=i,e.undefined=n,e.boolean=o,e.string=r,e.number=s,e.numberRange=a,e.integer=c,e.uinteger=l,e.func=d,e.objectLiteral=u,e.typedArray=h})(be||(be={}));var we=class{constructor(e,t,i){this._languageId=e,this._worker=t;const n=e=>{let t,i=e.getLanguageId();i===this._languageId&&(this._listener[e.uri.toString()]=e.onDidChangeContent((()=>{window.clearTimeout(t),t=window.setTimeout((()=>this._doValidate(e.uri,i)),500)})),this._doValidate(e.uri,i))},o=e=>{u.editor.setModelMarkers(e,this._languageId,[]);let t=e.uri.toString(),i=this._listener[t];i&&(i.dispose(),delete this._listener[t])};this._disposables.push(u.editor.onDidCreateModel(n)),this._disposables.push(u.editor.onWillDisposeModel(o)),this._disposables.push(u.editor.onDidChangeModelLanguage((e=>{o(e.model),n(e.model)}))),this._disposables.push(i((e=>{u.editor.getModels().forEach((e=>{e.getLanguageId()===this._languageId&&(o(e),n(e))}))}))),this._disposables.push({dispose:()=>{u.editor.getModels().forEach(o);for(let e in this._listener)this._listener[e].dispose()}}),u.editor.getModels().forEach(n)}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables.length=0}_doValidate(e,t){this._worker(e).then((t=>t.doValidation(e.toString()))).then((i=>{const n=i.map((t=>Se(e,t)));let o=u.editor.getModel(e);o&&o.getLanguageId()===t&&u.editor.setModelMarkers(o,t,n)})).then(void 0,(e=>{o.error(e)}))}};function Ce(e){switch(e){case x.Error:return u.MarkerSeverity.Error;case x.Warning:return u.MarkerSeverity.Warning;case x.Information:return u.MarkerSeverity.Info;case x.Hint:return u.MarkerSeverity.Hint;default:return u.MarkerSeverity.Info}}function Se(e,t){let i="number"===typeof t.code?String(t.code):t.code;return{severity:Ce(t.severity),startLineNumber:t.range.start.line+1,startColumn:t.range.start.character+1,endLineNumber:t.range.end.line+1,endColumn:t.range.end.character+1,message:t.message,code:i,source:t.source}}var xe=class{constructor(e,t){this._worker=e,this._triggerCharacters=t}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.doComplete(o.toString(),ke(t)))).then((i=>{if(!i)return;const n=e.getWordUntilPosition(t),o=new u.Range(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn),r=i.items.map((e=>{const t={label:e.label,insertText:e.insertText||e.label,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:Me(e.command),range:o,kind:Re(e.kind)};return e.textEdit&&(Ie(e.textEdit)?t.range={insert:Le(e.textEdit.insert),replace:Le(e.textEdit.replace)}:t.range=Le(e.textEdit.range),t.insertText=e.textEdit.newText),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(De)),e.insertTextFormat===q.Snippet&&(t.insertTextRules=u.languages.CompletionItemInsertTextRule.InsertAsSnippet),t}));return{isIncomplete:i.isIncomplete,suggestions:r}}))}};function ke(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function Ne(e){if(e)return{start:{line:e.startLineNumber-1,character:e.startColumn-1},end:{line:e.endLineNumber-1,character:e.endColumn-1}}}function Le(e){if(e)return new u.Range(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}function Ie(e){return"undefined"!==typeof e.insert&&"undefined"!==typeof e.replace}function Re(e){const t=u.languages.CompletionItemKind;switch(e){case K.Text:return t.Text;case K.Method:return t.Method;case K.Function:return t.Function;case K.Constructor:return t.Constructor;case K.Field:return t.Field;case K.Variable:return t.Variable;case K.Class:return t.Class;case K.Interface:return t.Interface;case K.Module:return t.Module;case K.Property:return t.Property;case K.Unit:return t.Unit;case K.Value:return t.Value;case K.Enum:return t.Enum;case K.Keyword:return t.Keyword;case K.Snippet:return t.Snippet;case K.Color:return t.Color;case K.File:return t.File;case K.Reference:return t.Reference}return t.Property}function De(e){if(e)return{range:Le(e.range),text:e.newText}}function Me(e){return e&&"editor.action.triggerSuggest"===e.command?{id:e.command,title:e.title,arguments:e.arguments}:void 0}var Pe=class{constructor(e){this._worker=e}provideHover(e,t,i){let n=e.uri;return this._worker(n).then((e=>e.doHover(n.toString(),ke(t)))).then((e=>{if(e)return{range:Le(e.range),contents:Te(e.contents)}}))}};function Ee(e){return e&&"object"===typeof e&&"string"===typeof e.kind}function Ae(e){return"string"===typeof e?{value:e}:Ee(e)?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"}}function Te(e){if(e)return Array.isArray(e)?e.map(Ae):[Ae(e)]}var Oe=class{constructor(e){this._worker=e}provideDocumentHighlights(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.findDocumentHighlights(n.toString(),ke(t)))).then((e=>{if(e)return e.map((e=>({range:Le(e.range),kind:Fe(e.kind)})))}))}};function Fe(e){switch(e){case ne.Read:return u.languages.DocumentHighlightKind.Read;case ne.Write:return u.languages.DocumentHighlightKind.Write;case ne.Text:return u.languages.DocumentHighlightKind.Text}return u.languages.DocumentHighlightKind.Text}var We=class{constructor(e){this._worker=e}provideDefinition(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.findDefinition(n.toString(),ke(t)))).then((e=>{if(e)return[Be(e)]}))}};function Be(e){return{uri:u.Uri.parse(e.uri),range:Le(e.range)}}var He=class{constructor(e){this._worker=e}provideReferences(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.findReferences(o.toString(),ke(t)))).then((e=>{if(e)return e.map(Be)}))}},Ve=class{constructor(e){this._worker=e}provideRenameEdits(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.doRename(o.toString(),ke(t),i))).then((e=>ze(e)))}};function ze(e){if(!e||!e.changes)return;let t=[];for(let i in e.changes){const n=u.Uri.parse(i);for(let o of e.changes[i])t.push({resource:n,versionId:void 0,textEdit:{range:Le(o.range),text:o.newText}})}return{edits:t}}var Ue=class{constructor(e){this._worker=e}provideDocumentSymbols(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentSymbols(i.toString()))).then((e=>{if(e)return e.map((e=>({name:e.name,detail:"",containerName:e.containerName,kind:je(e.kind),range:Le(e.location.range),selectionRange:Le(e.location.range),tags:[]})))}))}};function je(e){let t=u.languages.SymbolKind;switch(e){case re.File:return t.Array;case re.Module:return t.Module;case re.Namespace:return t.Namespace;case re.Package:return t.Package;case re.Class:return t.Class;case re.Method:return t.Method;case re.Property:return t.Property;case re.Field:return t.Field;case re.Constructor:return t.Constructor;case re.Enum:return t.Enum;case re.Interface:return t.Interface;case re.Function:return t.Function;case re.Variable:return t.Variable;case re.Constant:return t.Constant;case re.String:return t.String;case re.Number:return t.Number;case re.Boolean:return t.Boolean;case re.Array:return t.Array}return t.Function}var $e=class{constructor(e){this._worker=e}provideLinks(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentLinks(i.toString()))).then((e=>{if(e)return{links:e.map((e=>({range:Le(e.range),url:e.target})))}}))}},Ke=class{constructor(e){this._worker=e}provideDocumentFormattingEdits(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.format(n.toString(),null,Ge(t)).then((e=>{if(e&&0!==e.length)return e.map(De)}))))}},qe=class{constructor(e){this._worker=e}canFormatMultipleRanges=!1;provideDocumentRangeFormattingEdits(e,t,i,n){const o=e.uri;return this._worker(o).then((e=>e.format(o.toString(),Ne(t),Ge(i)).then((e=>{if(e&&0!==e.length)return e.map(De)}))))}};function Ge(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}var Qe=class{constructor(e){this._worker=e}provideDocumentColors(e,t){const i=e.uri;return this._worker(i).then((e=>e.findDocumentColors(i.toString()))).then((e=>{if(e)return e.map((e=>({color:e.color,range:Le(e.range)})))}))}provideColorPresentations(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getColorPresentations(n.toString(),t.color,Ne(t.range)))).then((e=>{if(e)return e.map((e=>{let t={label:e.label};return e.textEdit&&(t.textEdit=De(e.textEdit)),e.additionalTextEdits&&(t.additionalTextEdits=e.additionalTextEdits.map(De)),t}))}))}},Ze=class{constructor(e){this._worker=e}provideFoldingRanges(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getFoldingRanges(n.toString(),t))).then((e=>{if(e)return e.map((e=>{const t={start:e.startLine+1,end:e.endLine+1};return"undefined"!==typeof e.kind&&(t.kind=Ye(e.kind)),t}))}))}};function Ye(e){switch(e){case w.Comment:return u.languages.FoldingRangeKind.Comment;case w.Imports:return u.languages.FoldingRangeKind.Imports;case w.Region:return u.languages.FoldingRangeKind.Region}}var Je=class{constructor(e){this._worker=e}provideSelectionRanges(e,t,i){const n=e.uri;return this._worker(n).then((e=>e.getSelectionRanges(n.toString(),t.map(ke)))).then((e=>{if(e)return e.map((e=>{const t=[];while(e)t.push({range:Le(e.range)}),e=e.parent;return t}))}))}},Xe=class extends xe{constructor(e){super(e,[".",":","<",'"',"=","/"])}};function et(e){const t=new B(e),i=(...e)=>t.getLanguageServiceWorker(...e);let n=e.languageId;u.languages.registerCompletionItemProvider(n,new Xe(i)),u.languages.registerHoverProvider(n,new Pe(i)),u.languages.registerDocumentHighlightProvider(n,new Oe(i)),u.languages.registerLinkProvider(n,new $e(i)),u.languages.registerFoldingRangeProvider(n,new Ze(i)),u.languages.registerDocumentSymbolProvider(n,new Ue(i)),u.languages.registerSelectionRangeProvider(n,new Je(i)),u.languages.registerRenameProvider(n,new Ve(i)),"html"===n&&(u.languages.registerDocumentFormattingEditProvider(n,new Ke(i)),u.languages.registerDocumentRangeFormattingEditProvider(n,new qe(i)))}function tt(e){const t=[],i=[],n=new B(e);t.push(n);const o=(...e)=>n.getLanguageServiceWorker(...e);function r(){const{languageId:t,modeConfiguration:n}=e;nt(i),n.completionItems&&i.push(u.languages.registerCompletionItemProvider(t,new Xe(o))),n.hovers&&i.push(u.languages.registerHoverProvider(t,new Pe(o))),n.documentHighlights&&i.push(u.languages.registerDocumentHighlightProvider(t,new Oe(o))),n.links&&i.push(u.languages.registerLinkProvider(t,new $e(o))),n.documentSymbols&&i.push(u.languages.registerDocumentSymbolProvider(t,new Ue(o))),n.rename&&i.push(u.languages.registerRenameProvider(t,new Ve(o))),n.foldingRanges&&i.push(u.languages.registerFoldingRangeProvider(t,new Ze(o))),n.selectionRanges&&i.push(u.languages.registerSelectionRangeProvider(t,new Je(o))),n.documentFormattingEdits&&i.push(u.languages.registerDocumentFormattingEditProvider(t,new Ke(o))),n.documentRangeFormattingEdits&&i.push(u.languages.registerDocumentRangeFormattingEditProvider(t,new qe(o)))}return r(),t.push(it(i)),it(t)}function it(e){return{dispose:()=>nt(e)}}function nt(e){while(e.length)e.pop().dispose()}},68423:(e,t,i)=>{"use strict";var n=i(6097),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))a.call(e,c)||c===i||o(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,i)=>(c(e,t,"default"),i&&c(i,t,"default")),d={};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/l(d,n);var u=class{_onDidChange=new d.Emitter;_options;_modeConfiguration;_languageId;constructor(e,t,i){this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(e){this._options=e||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)}},h={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},g={format:h,suggest:{},data:{useDefaultDataProvider:!0}};function p(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===m,documentFormattingEdits:e===m,documentRangeFormattingEdits:e===m}}var m="html",f="handlebars",v="razor",_=k(m,g,p(m)),b=_.defaults,y=k(f,g,p(f)),w=y.defaults,C=k(v,g,p(v)),S=C.defaults;function x(){return i.e(3278).then(i.bind(i,15377))}function k(e,t=g,i=p(e)){const n=new u(e,t,i);let o;const r=d.languages.onLanguage(e,(async()=>{o=(await x()).setupMode(n)}));return{defaults:n,dispose(){r.dispose(),o?.dispose(),o=void 0}}}d.languages.html={htmlDefaults:b,razorDefaults:S,handlebarDefaults:w,htmlLanguageService:_,handlebarLanguageService:y,razorLanguageService:C,registerHTMLLanguageService:k}},39585:(e,t,i)=>{"use strict";i.d(t,{TG:()=>y});var n=i(6097),o=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,c=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let c of s(t))a.call(e,c)||c===i||o(e,c,{get:()=>t[c],enumerable:!(n=r(t,c))||n.enumerable});return e},l=(e,t,i)=>(c(e,t,"default"),i&&c(i,t,"default")),d="5.0.2",u={};
/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.38.0(0e330ae453813de4e6cf272460fb79c7117073d0)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/l(u,n);var h=(e=>(e[e["None"]=0]="None",e[e["CommonJS"]=1]="CommonJS",e[e["AMD"]=2]="AMD",e[e["UMD"]=3]="UMD",e[e["System"]=4]="System",e[e["ES2015"]=5]="ES2015",e[e["ESNext"]=99]="ESNext",e))(h||{}),g=(e=>(e[e["None"]=0]="None",e[e["Preserve"]=1]="Preserve",e[e["React"]=2]="React",e[e["ReactNative"]=3]="ReactNative",e[e["ReactJSX"]=4]="ReactJSX",e[e["ReactJSXDev"]=5]="ReactJSXDev",e))(g||{}),p=(e=>(e[e["CarriageReturnLineFeed"]=0]="CarriageReturnLineFeed",e[e["LineFeed"]=1]="LineFeed",e))(p||{}),m=(e=>(e[e["ES3"]=0]="ES3",e[e["ES5"]=1]="ES5",e[e["ES2015"]=2]="ES2015",e[e["ES2016"]=3]="ES2016",e[e["ES2017"]=4]="ES2017",e[e["ES2018"]=5]="ES2018",e[e["ES2019"]=6]="ES2019",e[e["ES2020"]=7]="ES2020",e[e["ESNext"]=99]="ESNext",e[e["JSON"]=100]="JSON",e[e["Latest"]=99]="Latest",e))(m||{}),f=(e=>(e[e["Classic"]=1]="Classic",e[e["NodeJs"]=2]="NodeJs",e))(f||{}),v=class{_onDidChange=new u.Emitter;_onDidExtraLibsChange=new u.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(e,t,i,n,o){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(n),this.setModeConfiguration(o),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(i="undefined"===typeof t?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let n=1;return this._removedExtraLibs[i]&&(n=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(n=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:n},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let e=this._extraLibs[i];e&&e.version===n&&(delete this._extraLibs[i],this._removedExtraLibs[i]=n,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(const t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(const t of e){const e=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,i=t.content;let n=1;this._removedExtraLibs[e]&&(n=this._removedExtraLibs[e]+1),this._extraLibs[e]={content:i,version:n}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout((()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)}),0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},_=d,b={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},y=new v({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},b),w=new v({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},b),C=()=>x().then((e=>e.getTypeScriptWorker())),S=()=>x().then((e=>e.getJavaScriptWorker()));function x(){return i.e(3278).then(i.bind(i,78401))}u.languages.typescript={ModuleKind:h,JsxEmit:g,NewLineKind:p,ScriptTarget:m,ModuleResolutionKind:f,typescriptVersion:_,typescriptDefaults:y,javascriptDefaults:w,getTypeScriptWorker:C,getJavaScriptWorker:S},u.languages.onLanguage("typescript",(()=>x().then((e=>e.setupTypeScript(y))))),u.languages.onLanguage("javascript",(()=>x().then((e=>e.setupJavaScript(w)))))},78401:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Adapter:()=>_,CodeActionAdaptor:()=>O,DefinitionAdapter:()=>N,DiagnosticsAdapter:()=>y,DocumentHighlightAdapter:()=>k,FormatAdapter:()=>A,FormatHelper:()=>E,FormatOnTypeAdapter:()=>T,InlayHintsAdapter:()=>W,Kind:()=>R,LibFiles:()=>b,OutlineAdapter:()=>I,QuickInfoAdapter:()=>x,ReferenceAdapter:()=>L,RenameAdapter:()=>F,SignatureHelpAdapter:()=>S,SuggestAdapter:()=>w,WorkerManager:()=>p,flattenDiagnosticMessageText:()=>f,getJavaScriptWorker:()=>V,getTypeScriptWorker:()=>z,setupJavaScript:()=>H,setupTypeScript:()=>B});var n=i(6097),o=i(39585),r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,c=Object.prototype.hasOwnProperty,l=(e,t,i)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,d=(e,t,i,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let o of a(t))c.call(e,o)||o===i||r(e,o,{get:()=>t[o],enumerable:!(n=s(t,o))||n.enumerable});return e},u=(e,t,i)=>(d(e,t,"default"),i&&d(i,t,"default")),h=(e,t,i)=>(l(e,"symbol"!==typeof t?t+"":t,i),i),g={};u(g,n);var p=class{constructor(e,t){this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker())),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange((()=>this._updateExtraLibs()))}_configChangeListener;_updateExtraLibsToken;_extraLibsChangeListener;_worker;_client;dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}async _updateExtraLibs(){if(!this._worker)return;const e=++this._updateExtraLibsToken,t=await this._worker.getProxy();this._updateExtraLibsToken===e&&t.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){return this._client||(this._client=(async()=>(this._worker=g.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}}),this._defaults.getEagerModelSync()?await this._worker.withSyncedResources(g.editor.getModels().filter((e=>e.getLanguageId()===this._modeId)).map((e=>e.uri))):await this._worker.getProxy()))()),this._client}async getLanguageServiceWorker(...e){const t=await this._getClient();return this._worker&&await this._worker.withSyncedResources(e),t}},m={};function f(e,t,i=0){if("string"===typeof e)return e;if(void 0===e)return"";let n="";if(i){n+=t;for(let e=0;e<i;e++)n+="  "}if(n+=e.messageText,i++,e.next)for(const o of e.next)n+=f(o,t,i);return n}function v(e){return e?e.map((e=>e.text)).join(""):""}m["lib.d.ts"]=!0,m["lib.decorators.d.ts"]=!0,m["lib.decorators.legacy.d.ts"]=!0,m["lib.dom.d.ts"]=!0,m["lib.dom.iterable.d.ts"]=!0,m["lib.es2015.collection.d.ts"]=!0,m["lib.es2015.core.d.ts"]=!0,m["lib.es2015.d.ts"]=!0,m["lib.es2015.generator.d.ts"]=!0,m["lib.es2015.iterable.d.ts"]=!0,m["lib.es2015.promise.d.ts"]=!0,m["lib.es2015.proxy.d.ts"]=!0,m["lib.es2015.reflect.d.ts"]=!0,m["lib.es2015.symbol.d.ts"]=!0,m["lib.es2015.symbol.wellknown.d.ts"]=!0,m["lib.es2016.array.include.d.ts"]=!0,m["lib.es2016.d.ts"]=!0,m["lib.es2016.full.d.ts"]=!0,m["lib.es2017.d.ts"]=!0,m["lib.es2017.full.d.ts"]=!0,m["lib.es2017.intl.d.ts"]=!0,m["lib.es2017.object.d.ts"]=!0,m["lib.es2017.sharedmemory.d.ts"]=!0,m["lib.es2017.string.d.ts"]=!0,m["lib.es2017.typedarrays.d.ts"]=!0,m["lib.es2018.asyncgenerator.d.ts"]=!0,m["lib.es2018.asynciterable.d.ts"]=!0,m["lib.es2018.d.ts"]=!0,m["lib.es2018.full.d.ts"]=!0,m["lib.es2018.intl.d.ts"]=!0,m["lib.es2018.promise.d.ts"]=!0,m["lib.es2018.regexp.d.ts"]=!0,m["lib.es2019.array.d.ts"]=!0,m["lib.es2019.d.ts"]=!0,m["lib.es2019.full.d.ts"]=!0,m["lib.es2019.intl.d.ts"]=!0,m["lib.es2019.object.d.ts"]=!0,m["lib.es2019.string.d.ts"]=!0,m["lib.es2019.symbol.d.ts"]=!0,m["lib.es2020.bigint.d.ts"]=!0,m["lib.es2020.d.ts"]=!0,m["lib.es2020.date.d.ts"]=!0,m["lib.es2020.full.d.ts"]=!0,m["lib.es2020.intl.d.ts"]=!0,m["lib.es2020.number.d.ts"]=!0,m["lib.es2020.promise.d.ts"]=!0,m["lib.es2020.sharedmemory.d.ts"]=!0,m["lib.es2020.string.d.ts"]=!0,m["lib.es2020.symbol.wellknown.d.ts"]=!0,m["lib.es2021.d.ts"]=!0,m["lib.es2021.full.d.ts"]=!0,m["lib.es2021.intl.d.ts"]=!0,m["lib.es2021.promise.d.ts"]=!0,m["lib.es2021.string.d.ts"]=!0,m["lib.es2021.weakref.d.ts"]=!0,m["lib.es2022.array.d.ts"]=!0,m["lib.es2022.d.ts"]=!0,m["lib.es2022.error.d.ts"]=!0,m["lib.es2022.full.d.ts"]=!0,m["lib.es2022.intl.d.ts"]=!0,m["lib.es2022.object.d.ts"]=!0,m["lib.es2022.regexp.d.ts"]=!0,m["lib.es2022.sharedmemory.d.ts"]=!0,m["lib.es2022.string.d.ts"]=!0,m["lib.es2023.array.d.ts"]=!0,m["lib.es2023.d.ts"]=!0,m["lib.es2023.full.d.ts"]=!0,m["lib.es5.d.ts"]=!0,m["lib.es6.d.ts"]=!0,m["lib.esnext.d.ts"]=!0,m["lib.esnext.full.d.ts"]=!0,m["lib.esnext.intl.d.ts"]=!0,m["lib.scripthost.d.ts"]=!0,m["lib.webworker.d.ts"]=!0,m["lib.webworker.importscripts.d.ts"]=!0,m["lib.webworker.iterable.d.ts"]=!0;var _=class{constructor(e){this._worker=e}_textSpanToRange(e,t){let i=e.getPositionAt(t.start),n=e.getPositionAt(t.start+t.length),{lineNumber:o,column:r}=i,{lineNumber:s,column:a}=n;return{startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a}}},b=class{constructor(e){this._worker=e,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}_libFiles;_hasFetchedLibFiles;_fetchLibFilesPromise;isLibFile(e){return!!e&&(0===e.path.indexOf("/lib.")&&!!m[e.path.slice(1)])}getOrCreateModel(e){const t=g.Uri.parse(e),i=g.editor.getModel(t);if(i)return i;if(this.isLibFile(t)&&this._hasFetchedLibFiles)return g.editor.createModel(this._libFiles[t.path.slice(1)],"typescript",t);const n=o.TG.getExtraLibs()[e];return n?g.editor.createModel(n.content,"typescript",t):null}_containsLibFile(e){for(let t of e)if(this.isLibFile(t))return!0;return!1}async fetchLibFilesIfNecessary(e){this._containsLibFile(e)&&await this._fetchLibFiles()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then((e=>e.getLibFiles())).then((e=>{this._hasFetchedLibFiles=!0,this._libFiles=e}))),this._fetchLibFilesPromise}},y=class extends _{constructor(e,t,i,n){super(n),this._libFiles=e,this._defaults=t,this._selector=i;const o=e=>{if(e.getLanguageId()!==i)return;const t=()=>{const{onlyVisible:t}=this._defaults.getDiagnosticsOptions();t?e.isAttachedToEditor()&&this._doValidate(e):this._doValidate(e)};let n;const o=e.onDidChangeContent((()=>{clearTimeout(n),n=window.setTimeout(t,500)})),r=e.onDidChangeAttached((()=>{const{onlyVisible:i}=this._defaults.getDiagnosticsOptions();i&&(e.isAttachedToEditor()?t():g.editor.setModelMarkers(e,this._selector,[]))}));this._listener[e.uri.toString()]={dispose(){o.dispose(),r.dispose(),clearTimeout(n)}},t()},r=e=>{g.editor.setModelMarkers(e,this._selector,[]);const t=e.uri.toString();this._listener[t]&&(this._listener[t].dispose(),delete this._listener[t])};this._disposables.push(g.editor.onDidCreateModel((e=>o(e)))),this._disposables.push(g.editor.onWillDisposeModel(r)),this._disposables.push(g.editor.onDidChangeModelLanguage((e=>{r(e.model),o(e.model)}))),this._disposables.push({dispose(){for(const e of g.editor.getModels())r(e)}});const s=()=>{for(const e of g.editor.getModels())r(e),o(e)};this._disposables.push(this._defaults.onDidChange(s)),this._disposables.push(this._defaults.onDidExtraLibsChange(s)),g.editor.getModels().forEach((e=>o(e)))}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables=[]}async _doValidate(e){const t=await this._worker(e.uri);if(e.isDisposed())return;const i=[],{noSyntaxValidation:n,noSemanticValidation:o,noSuggestionDiagnostics:r}=this._defaults.getDiagnosticsOptions();n||i.push(t.getSyntacticDiagnostics(e.uri.toString())),o||i.push(t.getSemanticDiagnostics(e.uri.toString())),r||i.push(t.getSuggestionDiagnostics(e.uri.toString()));const s=await Promise.all(i);if(!s||e.isDisposed())return;const a=s.reduce(((e,t)=>t.concat(e)),[]).filter((e=>-1===(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code))),c=a.map((e=>e.relatedInformation||[])).reduce(((e,t)=>t.concat(e)),[]).map((e=>e.file?g.Uri.parse(e.file.fileName):null));await this._libFiles.fetchLibFilesIfNecessary(c),e.isDisposed()||g.editor.setModelMarkers(e,this._selector,a.map((t=>this._convertDiagnostics(e,t))))}_convertDiagnostics(e,t){const i=t.start||0,n=t.length||1,{lineNumber:o,column:r}=e.getPositionAt(i),{lineNumber:s,column:a}=e.getPositionAt(i+n),c=[];return t.reportsUnnecessary&&c.push(g.MarkerTag.Unnecessary),t.reportsDeprecated&&c.push(g.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a,message:f(t.messageText,"\n"),code:t.code.toString(),tags:c,relatedInformation:this._convertRelatedInformation(e,t.relatedInformation)}}_convertRelatedInformation(e,t){if(!t)return[];const i=[];return t.forEach((t=>{let n=e;if(t.file&&(n=this._libFiles.getOrCreateModel(t.file.fileName)),!n)return;const o=t.start||0,r=t.length||1,{lineNumber:s,column:a}=n.getPositionAt(o),{lineNumber:c,column:l}=n.getPositionAt(o+r);i.push({resource:n.uri,startLineNumber:s,startColumn:a,endLineNumber:c,endColumn:l,message:f(t.messageText,"\n")})})),i}_tsDiagnosticCategoryToMarkerSeverity(e){switch(e){case 1:return g.MarkerSeverity.Error;case 3:return g.MarkerSeverity.Info;case 0:return g.MarkerSeverity.Warning;case 2:return g.MarkerSeverity.Hint}return g.MarkerSeverity.Info}},w=class extends _{get triggerCharacters(){return["."]}async provideCompletionItems(e,t,i,n){const o=e.getWordUntilPosition(t),r=new g.Range(t.lineNumber,o.startColumn,t.lineNumber,o.endColumn),s=e.uri,a=e.getOffsetAt(t),c=await this._worker(s);if(e.isDisposed())return;const l=await c.getCompletionsAtPosition(s.toString(),a);if(!l||e.isDisposed())return;const d=l.entries.map((i=>{let n=r;if(i.replacementSpan){const t=e.getPositionAt(i.replacementSpan.start),o=e.getPositionAt(i.replacementSpan.start+i.replacementSpan.length);n=new g.Range(t.lineNumber,t.column,o.lineNumber,o.column)}const o=[];return void 0!==i.kindModifiers&&-1!==i.kindModifiers.indexOf("deprecated")&&o.push(g.languages.CompletionItemTag.Deprecated),{uri:s,position:t,offset:a,range:n,label:i.name,insertText:i.name,sortText:i.sortText,kind:w.convertKind(i.kind),tags:o}}));return{suggestions:d}}async resolveCompletionItem(e,t){const i=e,n=i.uri,o=i.position,r=i.offset,s=await this._worker(n),a=await s.getCompletionEntryDetails(n.toString(),r,i.label);return a?{uri:n,position:o,label:a.name,kind:w.convertKind(a.kind),detail:v(a.displayParts),documentation:{value:w.createDocumentationString(a)}}:i}static convertKind(e){switch(e){case R.primitiveType:case R.keyword:return g.languages.CompletionItemKind.Keyword;case R.variable:case R.localVariable:return g.languages.CompletionItemKind.Variable;case R.memberVariable:case R.memberGetAccessor:case R.memberSetAccessor:return g.languages.CompletionItemKind.Field;case R.function:case R.memberFunction:case R.constructSignature:case R.callSignature:case R.indexSignature:return g.languages.CompletionItemKind.Function;case R.enum:return g.languages.CompletionItemKind.Enum;case R.module:return g.languages.CompletionItemKind.Module;case R.class:return g.languages.CompletionItemKind.Class;case R.interface:return g.languages.CompletionItemKind.Interface;case R.warning:return g.languages.CompletionItemKind.File}return g.languages.CompletionItemKind.Property}static createDocumentationString(e){let t=v(e.documentation);if(e.tags)for(const i of e.tags)t+=`\n\n${C(i)}`;return t}};function C(e){let t=`*@${e.name}*`;if("param"===e.name&&e.text){const[i,...n]=e.text;t+=`\`${i.text}\``,n.length>0&&(t+=`  ${n.map((e=>e.text)).join(" ")}`)}else Array.isArray(e.text)?t+=`  ${e.text.map((e=>e.text)).join(" ")}`:e.text&&(t+=`  ${e.text}`);return t}var S=class extends _{signatureHelpTriggerCharacters=["(",","];static _toSignatureHelpTriggerReason(e){switch(e.triggerKind){case g.languages.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case g.languages.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case g.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(e,t,i,n){const o=e.uri,r=e.getOffsetAt(t),s=await this._worker(o);if(e.isDisposed())return;const a=await s.getSignatureHelpItems(o.toString(),r,{triggerReason:S._toSignatureHelpTriggerReason(n)});if(!a||e.isDisposed())return;const c={activeSignature:a.selectedItemIndex,activeParameter:a.argumentIndex,signatures:[]};return a.items.forEach((e=>{const t={label:"",parameters:[]};t.documentation={value:v(e.documentation)},t.label+=v(e.prefixDisplayParts),e.parameters.forEach(((i,n,o)=>{const r=v(i.displayParts),s={label:r,documentation:{value:v(i.documentation)}};t.label+=r,t.parameters.push(s),n<o.length-1&&(t.label+=v(e.separatorDisplayParts))})),t.label+=v(e.suffixDisplayParts),c.signatures.push(t)})),{value:c,dispose(){}}}},x=class extends _{async provideHover(e,t,i){const n=e.uri,o=e.getOffsetAt(t),r=await this._worker(n);if(e.isDisposed())return;const s=await r.getQuickInfoAtPosition(n.toString(),o);if(!s||e.isDisposed())return;const a=v(s.documentation),c=s.tags?s.tags.map((e=>C(e))).join("  \n\n"):"",l=v(s.displayParts);return{range:this._textSpanToRange(e,s.textSpan),contents:[{value:"```typescript\n"+l+"\n```\n"},{value:a+(c?"\n\n"+c:"")}]}}},k=class extends _{async provideDocumentHighlights(e,t,i){const n=e.uri,o=e.getOffsetAt(t),r=await this._worker(n);if(e.isDisposed())return;const s=await r.getDocumentHighlights(n.toString(),o,[n.toString()]);return s&&!e.isDisposed()?s.flatMap((t=>t.highlightSpans.map((t=>({range:this._textSpanToRange(e,t.textSpan),kind:"writtenReference"===t.kind?g.languages.DocumentHighlightKind.Write:g.languages.DocumentHighlightKind.Text}))))):void 0}},N=class extends _{constructor(e,t){super(t),this._libFiles=e}async provideDefinition(e,t,i){const n=e.uri,o=e.getOffsetAt(t),r=await this._worker(n);if(e.isDisposed())return;const s=await r.getDefinitionAtPosition(n.toString(),o);if(!s||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(s.map((e=>g.Uri.parse(e.fileName)))),e.isDisposed())return;const a=[];for(let c of s){const e=this._libFiles.getOrCreateModel(c.fileName);e&&a.push({uri:e.uri,range:this._textSpanToRange(e,c.textSpan)})}return a}},L=class extends _{constructor(e,t){super(t),this._libFiles=e}async provideReferences(e,t,i,n){const o=e.uri,r=e.getOffsetAt(t),s=await this._worker(o);if(e.isDisposed())return;const a=await s.getReferencesAtPosition(o.toString(),r);if(!a||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(a.map((e=>g.Uri.parse(e.fileName)))),e.isDisposed())return;const c=[];for(let l of a){const e=this._libFiles.getOrCreateModel(l.fileName);e&&c.push({uri:e.uri,range:this._textSpanToRange(e,l.textSpan)})}return c}},I=class extends _{async provideDocumentSymbols(e,t){const i=e.uri,n=await this._worker(i);if(e.isDisposed())return;const o=await n.getNavigationTree(i.toString());if(!o||e.isDisposed())return;const r=(t,i)=>{const n={name:t.text,detail:"",kind:D[t.kind]||g.languages.SymbolKind.Variable,range:this._textSpanToRange(e,t.spans[0]),selectionRange:this._textSpanToRange(e,t.spans[0]),tags:[],children:t.childItems?.map((e=>r(e,t.text))),containerName:i};return n},s=o.childItems?o.childItems.map((e=>r(e))):[];return s}},R=class{};h(R,"unknown",""),h(R,"keyword","keyword"),h(R,"script","script"),h(R,"module","module"),h(R,"class","class"),h(R,"interface","interface"),h(R,"type","type"),h(R,"enum","enum"),h(R,"variable","var"),h(R,"localVariable","local var"),h(R,"function","function"),h(R,"localFunction","local function"),h(R,"memberFunction","method"),h(R,"memberGetAccessor","getter"),h(R,"memberSetAccessor","setter"),h(R,"memberVariable","property"),h(R,"constructorImplementation","constructor"),h(R,"callSignature","call"),h(R,"indexSignature","index"),h(R,"constructSignature","construct"),h(R,"parameter","parameter"),h(R,"typeParameter","type parameter"),h(R,"primitiveType","primitive type"),h(R,"label","label"),h(R,"alias","alias"),h(R,"const","const"),h(R,"let","let"),h(R,"warning","warning");var D=Object.create(null);D[R.module]=g.languages.SymbolKind.Module,D[R.class]=g.languages.SymbolKind.Class,D[R.enum]=g.languages.SymbolKind.Enum,D[R.interface]=g.languages.SymbolKind.Interface,D[R.memberFunction]=g.languages.SymbolKind.Method,D[R.memberVariable]=g.languages.SymbolKind.Property,D[R.memberGetAccessor]=g.languages.SymbolKind.Property,D[R.memberSetAccessor]=g.languages.SymbolKind.Property,D[R.variable]=g.languages.SymbolKind.Variable,D[R.const]=g.languages.SymbolKind.Variable,D[R.localVariable]=g.languages.SymbolKind.Variable,D[R.variable]=g.languages.SymbolKind.Variable,D[R.function]=g.languages.SymbolKind.Function,D[R.localFunction]=g.languages.SymbolKind.Function;var M,P,E=class extends _{static _convertOptions(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}}},A=class extends E{canFormatMultipleRanges=!1;async provideDocumentRangeFormattingEdits(e,t,i,n){const o=e.uri,r=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),s=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=await this._worker(o);if(e.isDisposed())return;const c=await a.getFormattingEditsForRange(o.toString(),r,s,E._convertOptions(i));return c&&!e.isDisposed()?c.map((t=>this._convertTextChanges(e,t))):void 0}},T=class extends E{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(e,t,i,n,o){const r=e.uri,s=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const c=await a.getFormattingEditsAfterKeystroke(r.toString(),s,i,E._convertOptions(n));return c&&!e.isDisposed()?c.map((t=>this._convertTextChanges(e,t))):void 0}},O=class extends E{async provideCodeActions(e,t,i,n){const o=e.uri,r=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),s=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=E._convertOptions(e.getOptions()),c=i.markers.filter((e=>e.code)).map((e=>e.code)).map(Number),l=await this._worker(o);if(e.isDisposed())return;const d=await l.getCodeFixesAtPosition(o.toString(),r,s,c,a);if(!d||e.isDisposed())return{actions:[],dispose:()=>{}};const u=d.filter((e=>0===e.changes.filter((e=>e.isNewFile)).length)).map((t=>this._tsCodeFixActionToMonacoCodeAction(e,i,t)));return{actions:u,dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(e,t,i){const n=[];for(const r of i.changes)for(const t of r.textChanges)n.push({resource:e.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(e,t.span),text:t.newText}});const o={title:i.description,edit:{edits:n},diagnostics:t.markers,kind:"quickfix"};return o}},F=class extends _{constructor(e,t){super(t),this._libFiles=e}async provideRenameEdits(e,t,i,n){const o=e.uri,r=o.toString(),s=e.getOffsetAt(t),a=await this._worker(o);if(e.isDisposed())return;const c=await a.getRenameInfo(r,s,{allowRenameOfImportPath:!1});if(!1===c.canRename)return{edits:[],rejectReason:c.localizedErrorMessage};if(void 0!==c.fileToRename)throw new Error("Renaming files is not supported.");const l=await a.findRenameLocations(r,s,!1,!1,!1);if(!l||e.isDisposed())return;const d=[];for(const u of l){const e=this._libFiles.getOrCreateModel(u.fileName);if(!e)throw new Error(`Unknown file ${u.fileName}.`);d.push({resource:e.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(e,u.textSpan),text:i}})}return{edits:d}}},W=class extends _{async provideInlayHints(e,t,i){const n=e.uri,o=n.toString(),r=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),s=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),a=await this._worker(n);if(e.isDisposed())return null;const c=await a.provideInlayHints(o,r,s),l=c.map((t=>({...t,label:t.text,position:e.getPositionAt(t.position),kind:this._convertHintKind(t.kind)})));return{hints:l,dispose:()=>{}}}_convertHintKind(e){switch(e){case"Parameter":return g.languages.InlayHintKind.Parameter;case"Type":return g.languages.InlayHintKind.Type;default:return g.languages.InlayHintKind.Type}}};function B(e){P=U(e,"typescript")}function H(e){M=U(e,"javascript")}function V(){return new Promise(((e,t)=>{if(!M)return t("JavaScript not registered!");e(M)}))}function z(){return new Promise(((e,t)=>{if(!P)return t("TypeScript not registered!");e(P)}))}function U(e,t){const i=[],n=[],o=new p(t,e);i.push(o);const r=(...e)=>o.getLanguageServiceWorker(...e),s=new b(r);function a(){const{modeConfiguration:i}=e;$(n),i.completionItems&&n.push(g.languages.registerCompletionItemProvider(t,new w(r))),i.signatureHelp&&n.push(g.languages.registerSignatureHelpProvider(t,new S(r))),i.hovers&&n.push(g.languages.registerHoverProvider(t,new x(r))),i.documentHighlights&&n.push(g.languages.registerDocumentHighlightProvider(t,new k(r))),i.definitions&&n.push(g.languages.registerDefinitionProvider(t,new N(s,r))),i.references&&n.push(g.languages.registerReferenceProvider(t,new L(s,r))),i.documentSymbols&&n.push(g.languages.registerDocumentSymbolProvider(t,new I(r))),i.rename&&n.push(g.languages.registerRenameProvider(t,new F(s,r))),i.documentRangeFormattingEdits&&n.push(g.languages.registerDocumentRangeFormattingEditProvider(t,new A(r))),i.onTypeFormattingEdits&&n.push(g.languages.registerOnTypeFormattingEditProvider(t,new T(r))),i.codeActions&&n.push(g.languages.registerCodeActionProvider(t,new O(r))),i.inlayHints&&n.push(g.languages.registerInlayHintsProvider(t,new W(r))),i.diagnostics&&n.push(new y(s,e,t,r))}return a(),i.push(j(n)),r}function j(e){return{dispose:()=>$(e)}}function $(e){while(e.length)e.pop().dispose()}},37726:(e,t,i)=>{"use strict";i.d(t,{Yb:()=>L,Nq:()=>I,iX:()=>y});var n=i(3070),o=i(65321),r=i(82900),s=i(49111),a=i(93794),c=i(73046),l=i(4669),d=(i(40839),i(63580));const u=d.NC("defaultLabel","input"),h=d.NC("label.preserveCaseToggle","Preserve Case");class g extends r.Z{constructor(e){super({icon:c.l.preserveCase,title:h+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class p extends a.${constructor(e,t,i,n){super(),this._showOptionButtons=i,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new l.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new l.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new l.Q5),this._onInput=this._register(new l.Q5),this._onKeyUp=this._register(new l.Q5),this._onPreserveCaseKeyDown=this._register(new l.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||u;const r=n.appendPreserveCaseLabel||"",a=n.history||[],c=!!n.flexibleHeight,d=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new s.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:n.showHistoryHint,flexibleHeight:c,flexibleWidth:d,flexibleMaxHeight:h,inputBoxStyles:n.inputBoxStyles})),this.preserveCase=this._register(new g(Object.assign({appendTitle:r,isChecked:!1},n.toggleStyles))),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const p=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){const t=p.indexOf(document.activeElement);if(t>=0){let i=-1;e.equals(17)?i=(t+1)%p.length:e.equals(15)&&(i=0===t?p.length-1:t-1),e.equals(9)?(p[t].blur(),this.inputBox.focus()):i>=0&&p[i].focus(),o.zB.stop(e,!0)}}}));const m=document.createElement("div");m.className="controls",m.style.display=this._showOptionButtons?"block":"none",m.appendChild(this.preserveCase.domNode),this.domNode.appendChild(m),null===e||void 0===e||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){var e;null===(e=this.inputBox)||void 0===e||e.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var m=i(32064),f=i(49989),v=i(9917),_=function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},b=function(e,t){return function(i,n){t(i,n,e)}};const y=new m.uy("suggestWidgetVisible",!1,(0,d.NC)("suggestWidgetVisible","Whether suggestion are visible")),w="historyNavigationWidgetFocus",C="historyNavigationForwardsEnabled",S="historyNavigationBackwardsEnabled";let x;const k=[];function N(e,t){if(k.includes(t))throw new Error("Cannot register the same widget multiple times");k.push(t);const i=new v.SL,n=new m.uy(w,!1).bindTo(e),o=new m.uy(C,!0).bindTo(e),r=new m.uy(S,!0).bindTo(e),s=()=>{n.set(!0),x=t},a=()=>{n.set(!1),x===t&&(x=void 0)};return t.element===document.activeElement&&s(),i.add(t.onDidFocus((()=>s()))),i.add(t.onDidBlur((()=>a()))),i.add((0,v.OF)((()=>{k.splice(k.indexOf(t),1),a()}))),{historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:r,dispose(){i.dispose()}}}let L=class extends n.V{constructor(e,t,i,n){super(e,t,i);const o=this._register(n.createScoped(this.inputBox.element));this._register(N(o,this.inputBox))}};L=_([b(3,m.i6)],L);let I=class extends p{constructor(e,t,i,n,o=!1){super(e,t,o,i);const r=this._register(n.createScoped(this.inputBox.element));this._register(N(r,this.inputBox))}};I=_([b(3,m.i6)],I),f.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:m.Ao.and(m.Ao.has(w),m.Ao.equals(S,!0),y.isEqualTo(!1)),primary:16,secondary:[528],handler:e=>{null===x||void 0===x||x.showPreviousValue()}}),f.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:m.Ao.and(m.Ao.has(w),m.Ao.equals(C,!0),y.isEqualTo(!1)),primary:18,secondary:[530],handler:e=>{null===x||void 0===x||x.showNextValue()}})},6876:(e,t,i)=>{"use strict";var n=i(34155);Object.defineProperty(t,"__esModule",{value:!0}),t.CAPTURE_METADATA="undefined"!==typeof n&&!!{NODE_ENV:"production",VUE_APP_STATE:"prod",VUE_APP_API_HOST:"playcode.io",VUE_APP_REALTIME_HOST:"playcode.io/realtime",VUE_APP_OUTPUT_HOST:"playcode.io",VUE_APP_SENTRY_DSN:"",VUE_APP_UPLOADCARE_KEY:"2886b0908facbe7d4922",VUE_APP_YANDEX_KEY:"",VUE_APP_AMPLITUDE_KEY:"c704d185e5372c19c77f108167e0435f",VUE_APP_GOOGLE_CLIENT_ID:"14363934694-bpm2rr6qv304gum7irpkd18mjolor3o7.apps.googleusercontent.com",VUE_APP_STRIPE_PUBLIC_KEY:"pk_live_5YK1Gie7AhO7nC4xzVYfYPr500jP9FKW8X",VUE_APP_PKG_RESOLVER_URL:"https://api.playcode.io/pkg/",VUE_APP_PKG_CDN_URL:"https://cdn.playcode.io/",VUE_APP_DEBUG_CONSOLE:"false",VUE_APP_DEBUG:"",VUE_APP_DEBUG_VUEX:"false",VUE_APP_DEBUG_STORAGE:"false",VUE_APP_SPRITE_BUILD:"true",VUE_APP_PERSISTENT_STORE:"true",VUE_APP_TITLE:"PlayCode - Javascript Playground",VUE_APP_DESCRIPTION:"Super sleek javascript playground with instant live preview and console. Start code within seconds. No npm run start or anything.",VUE_APP_GOOGLE_ANALYTICS_KEY:"G-1Y5ERB4JJZ",VUE_APP_ONE_FLOW_KEY:"oneflow_prod_ky9Xbv/ukPyPdZnB42xaGj4flxUcdqwGy7pBDErcI/QAZtsdAO2MtjZptzwQCtZkc9jC0nDpKG57H6cM4vOSkw==",VUE_APP_CRISP_KEY:"11ac550c-68f2-45c6-b3c5-a55384bed312",VUE_APP_VERSION:"2024.1.3",BASE_URL:"/"}["VSCODE_TEXTMATE_DEBUG"],t.IN_DEBUG_MODE="undefined"!==typeof n&&!!{NODE_ENV:"production",VUE_APP_STATE:"prod",VUE_APP_API_HOST:"playcode.io",VUE_APP_REALTIME_HOST:"playcode.io/realtime",VUE_APP_OUTPUT_HOST:"playcode.io",VUE_APP_SENTRY_DSN:"",VUE_APP_UPLOADCARE_KEY:"2886b0908facbe7d4922",VUE_APP_YANDEX_KEY:"",VUE_APP_AMPLITUDE_KEY:"c704d185e5372c19c77f108167e0435f",VUE_APP_GOOGLE_CLIENT_ID:"14363934694-bpm2rr6qv304gum7irpkd18mjolor3o7.apps.googleusercontent.com",VUE_APP_STRIPE_PUBLIC_KEY:"pk_live_5YK1Gie7AhO7nC4xzVYfYPr500jP9FKW8X",VUE_APP_PKG_RESOLVER_URL:"https://api.playcode.io/pkg/",VUE_APP_PKG_CDN_URL:"https://cdn.playcode.io/",VUE_APP_DEBUG_CONSOLE:"false",VUE_APP_DEBUG:"",VUE_APP_DEBUG_VUEX:"false",VUE_APP_DEBUG_STORAGE:"false",VUE_APP_SPRITE_BUILD:"true",VUE_APP_PERSISTENT_STORE:"true",VUE_APP_TITLE:"PlayCode - Javascript Playground",VUE_APP_DESCRIPTION:"Super sleek javascript playground with instant live preview and console. Start code within seconds. No npm run start or anything.",VUE_APP_GOOGLE_ANALYTICS_KEY:"G-1Y5ERB4JJZ",VUE_APP_ONE_FLOW_KEY:"oneflow_prod_ky9Xbv/ukPyPdZnB42xaGj4flxUcdqwGy7pBDErcI/QAZtsdAO2MtjZptzwQCtZkc9jC0nDpKG57H6cM4vOSkw==",VUE_APP_CRISP_KEY:"11ac550c-68f2-45c6-b3c5-a55384bed312",VUE_APP_VERSION:"2024.1.3",BASE_URL:"/"}["VSCODE_TEXTMATE_DEBUG"]},60567:(e,t,i)=>{"use strict";var n=i(25108);Object.defineProperty(t,"__esModule",{value:!0});var o=i(30550),r=i(90313),s=i(50716),a=i(6876);function c(e,t,i,n,o){return new v(e,t,i,n,o)}function l(e,t){for(var i=0,n=t.length;i<n;i++){Array.isArray(t[i].patterns)&&l(e,t[i].patterns);var o=t[i].include;if(o&&("$base"!==o&&"$self"!==o&&"#"!==o.charAt(0))){var r=o.indexOf("#");r>=0?e[o.substring(0,r)]=!0:e[o]=!0}}}function d(e,t){for(var i in t){var n=t[i];n.patterns&&Array.isArray(n.patterns)&&l(e,n.patterns),n.repository&&d(e,n.repository)}}function u(e,t){t.patterns&&Array.isArray(t.patterns)&&l(e,t.patterns),t.repository&&d(e,t.repository),delete e[t.scopeName]}function h(e,t){if(!e)return!1;if(e===t)return!0;var i=t.length;return e.length>i&&e.substr(0,i)===t&&"."===e[i]}function g(e,t){if(t.length<e.length)return!1;var i=0;return e.every((function(e){for(var n=i;n<t.length;n++)if(h(t[n],e))return i=n+1,!0;return!1}))}function p(e,t,i,n,o){for(var a=s.createMatchers(t,g),c=r.RuleFactory.getCompiledRuleId(i,n,o.repository),l=0,d=a;l<d.length;l++){var u=d[l];e.push({matcher:u.matcher,ruleId:c,grammar:o,priority:u.priority})}}t.createGrammar=c,t.collectIncludedScopes=u;var m=function(){function e(e,t,i,n){this.scopeName=e,this.languageId=t,this.tokenType=i,this.themeData=n}return e}();t.ScopeMetadata=m;var f=function(){function e(t,i,o){if(this._initialLanguage=t,this._themeProvider=i,this.onDidChangeTheme(),this._embeddedLanguages=Object.create(null),o)for(var r=Object.keys(o),s=0,a=r.length;s<a;s++){var c=r[s],l=o[c];"number"===typeof l&&0!==l?this._embeddedLanguages[c]=l:n.warn("Invalid embedded language found at scope "+c+": <<"+l+">>")}var d=Object.keys(this._embeddedLanguages).map((function(t){return e._escapeRegExpCharacters(t)}));0===d.length?this._embeddedLanguagesRegex=null:(d.sort(),d.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+d.join(")|(")+"))($|\\.)",""))}return e.prototype.onDidChangeTheme=function(){this._cache=Object.create(null),this._defaultMetaData=new m("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},e._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},e.prototype.getMetadataForScope=function(t){if(null===t)return e._NULL_SCOPE_METADATA;var i=this._cache[t];return i||(i=this._doGetMetadataForScope(t),this._cache[t]=i,i)},e.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),i=this._toStandardTokenType(e),n=this._themeProvider.themeMatch(e);return new m(e,t,i,n)},e.prototype._scopeToLanguage=function(e){if(!e)return 0;if(!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);if(!t)return 0;var i=this._embeddedLanguages[t[1]]||0;return i||0},e.prototype._toStandardTokenType=function(t){var i=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!i)return 0;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},e._NULL_SCOPE_METADATA=new m("",0,0,null),e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,e}(),v=function(){function e(e,t,i,n,o){if(this._scopeMetadataProvider=new f(t,o,i),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[],this._includedGrammars={},this._grammarRepository=o,this._grammar=_(e,null),this._tokenTypeMatchers=[],n)for(var r=0,a=Object.keys(n);r<a.length;r++)for(var c=a[r],l=s.createMatchers(c,g),d=0,u=l;d<u.length;d++){var h=u[d];this._tokenTypeMatchers.push({matcher:h.matcher,type:n[c]})}}return e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},e.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},e.prototype.getInjections=function(){var e=this;if(!this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var i in t)p(this._injections,i,t[i],this,this._grammar);if(this._grammarRepository){var n=this._grammarRepository.injections(this._grammar.scopeName);n&&n.forEach((function(t){var i=e.getExternalGrammar(t);if(i){var n=i.injectionSelector;n&&p(e._injections,n,i,e,i)}}))}this._injections.sort((function(e,t){return e.priority-t.priority}))}return this._injections.length,this._injections},e.prototype.registerRule=function(e){var t=++this._lastRuleId,i=e(t);return this._ruleId2desc[t]=i,i},e.prototype.getRule=function(e){return this._ruleId2desc[e]},e.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var i=this._grammarRepository.lookup(e);if(i)return this._includedGrammars[e]=_(i,t&&t.$base),this._includedGrammars[e]}},e.prototype.tokenizeLine=function(e,t){var i=this._tokenize(e,t,!1);return{tokens:i.lineTokens.getResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack}},e.prototype.tokenizeLine2=function(e,t){var i=this._tokenize(e,t,!0);return{tokens:i.lineTokens.getBinaryResult(i.ruleStack,i.lineLength),ruleStack:i.ruleStack}},e.prototype._tokenize=function(e,t,i){var n;if(-1===this._rootId&&(this._rootId=r.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),t&&t!==I.NULL)n=!1,t.reset();else{n=!0;var o=this._scopeMetadataProvider.getDefaultMetadata(),s=o.themeData[0],a=N.set(0,o.languageId,o.tokenType,s.fontStyle,s.foreground,s.background),c=this.getRule(this._rootId).getName(null,null),l=this._scopeMetadataProvider.getMetadataForScope(c),d=L.mergeMetadata(a,null,l),u=new L(null,c,d);t=new I(null,this._rootId,-1,null,u,u)}e+="\n";var h=r.createOnigString(e),g=r.getString(h).length,p=new D(i,e,this._tokenTypeMatchers),m=k(this,h,n,0,t,p);return{lineLength:g,lineTokens:p,ruleStack:m}},e}();function _(e,t){return e=o.clone(e),e.repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}function b(e,t,i,n,o,s,a){if(0!==s.length){for(var c=Math.min(s.length,a.length),l=[],d=a[0].end,u=0;u<c;u++){var h=s[u];if(null!==h){var g=a[u];if(0!==g.length){if(g.start>d)break;while(l.length>0&&l[l.length-1].endPos<=g.start)o.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop();if(l.length>0?o.produceFromScopes(l[l.length-1].scopes,g.start):o.produce(n,g.start),h.retokenizeCapturedWithRuleId){var p=h.getName(r.getString(t),a),m=n.contentNameScopesList.push(e,p),f=h.getContentName(r.getString(t),a),v=m.push(e,f),_=n.push(h.retokenizeCapturedWithRuleId,g.start,null,m,v);k(e,r.createOnigString(r.getString(t).substring(0,g.end)),i&&0===g.start,g.start,_,o)}else{var b=h.getName(r.getString(t),a);if(null!==b){var y=l.length>0?l[l.length-1].scopes:n.contentNameScopesList,w=y.push(e,b);l.push(new R(w,g.end))}}}}}while(l.length>0)o.produceFromScopes(l[l.length-1].scopes,l[l.length-1].endPos),l.pop()}}function y(e){for(var t=[],i=0,n=e.rules.length;i<n;i++)t.push("   - "+e.rules[i]+": "+e.debugRegExps[i]);return t.join("\n")}function w(e,t,i,o,r,s,c){for(var l,d=Number.MAX_VALUE,u=null,h=0,g=s.contentNameScopesList.generateScopes(),p=0,m=e.length;p<m;p++){var f=e[p];if(f.matcher(g)){var v=t.getRule(f.ruleId).compile(t,null,o,r===c),_=v.scanner.findNextMatchSync(i,r);if(a.IN_DEBUG_MODE&&(n.log("  scanning for injections"),n.log(y(v))),_){var b=_.captureIndices[0].start;if(!(b>=d)&&(d=b,u=_.captureIndices,l=v.rules[_.index],h=f.priority,d===r))break}}}return u?{priorityMatch:-1===h,captureIndices:u,matchedRuleId:l}:null}function C(e,t,i,o,r,s){var c=r.getRule(e),l=c.compile(e,r.endRule,i,o===s),d=l.scanner.findNextMatchSync(t,o);return a.IN_DEBUG_MODE&&(n.log("  scanning for"),n.log(y(l))),d?{captureIndices:d.captureIndices,matchedRuleId:l.rules[d.index]}:null}function S(e,t,i,n,o,r){var s=C(e,t,i,n,o,r),a=e.getInjections();if(0===a.length)return s;var c=w(a,e,t,i,n,o,r);if(!c)return s;if(!s)return c;var l=s.captureIndices[0].start,d=c.captureIndices[0].start;return d<l||c.priorityMatch&&d===l?c:s}function x(e,t,i,o,s,c){for(var l=-1,d=[],u=s;u;u=u.pop()){var h=u.getRule(e);h instanceof r.BeginWhileRule&&d.push({rule:h,stack:u})}for(var g=d.pop();g;g=d.pop()){var p=g.rule.compileWhile(e,g.stack.endRule,i,l===o),m=p.scanner.findNextMatchSync(t,o);if(a.IN_DEBUG_MODE&&(n.log("  scanning for while rule"),n.log(y(p))),!m){s=g.stack.pop();break}var f=p.rules[m.index];if(-2!==f){s=g.stack.pop();break}m.captureIndices&&m.captureIndices.length&&(c.produce(g.stack,m.captureIndices[0].start),b(e,t,i,g.stack,c,g.rule.whileCaptures,m.captureIndices),c.produce(g.stack,m.captureIndices[0].end),l=m.captureIndices[0].end,m.captureIndices[0].end>o&&(o=m.captureIndices[0].end,i=!1))}return{stack:s,linePos:o,anchorPosition:l,isFirstLine:i}}function k(e,t,i,o,s,c){var l=r.getString(t).length,d=!1,u=x(e,t,i,o,s,c);s=u.stack,o=u.linePos,i=u.isFirstLine;var h=u.anchorPosition;while(!d)g();function g(){a.IN_DEBUG_MODE&&(n.log(""),n.log("@@scanNext: |"+r.getString(t).replace(/\n$/,"\\n").substr(o)+"|"));var u=S(e,t,i,o,s,h);if(!u)return a.IN_DEBUG_MODE&&n.log("  no more matches."),c.produce(s,l),void(d=!0);var g=u.captureIndices,p=u.matchedRuleId,m=!!(g&&g.length>0)&&g[0].end>o;if(-1===p){var f=s.getRule(e);a.IN_DEBUG_MODE&&n.log("  popping "+f.debugName+" - "+f.debugEndRegExp),c.produce(s,g[0].start),s=s.setContentNameScopesList(s.nameScopesList),b(e,t,i,s,c,f.endCaptures,g),c.produce(s,g[0].end);var v=s;if(s=s.pop(),!m&&v.getEnterPos()===o)return n.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),s=v,c.produce(s,l),void(d=!0)}else{var _=e.getRule(p);c.produce(s,g[0].start);var y=s,w=_.getName(r.getString(t),g),C=s.contentNameScopesList.push(e,w);if(s=s.push(p,o,null,C,C),_ instanceof r.BeginEndRule){var x=_;a.IN_DEBUG_MODE&&n.log("  pushing "+x.debugName+" - "+x.debugBeginRegExp),b(e,t,i,s,c,x.beginCaptures,g),c.produce(s,g[0].end),h=g[0].end;var k=x.getContentName(r.getString(t),g),N=C.push(e,k);if(s=s.setContentNameScopesList(N),x.endHasBackReferences&&(s=s.setEndRule(x.getEndWithResolvedBackReferences(r.getString(t),g))),!m&&y.hasSameRuleAs(s))return n.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),s=s.pop(),c.produce(s,l),void(d=!0)}else if(_ instanceof r.BeginWhileRule){x=_;a.IN_DEBUG_MODE&&n.log("  pushing "+x.debugName),b(e,t,i,s,c,x.beginCaptures,g),c.produce(s,g[0].end),h=g[0].end;k=x.getContentName(r.getString(t),g),N=C.push(e,k);if(s=s.setContentNameScopesList(N),x.whileHasBackReferences&&(s=s.setEndRule(x.getWhileWithResolvedBackReferences(r.getString(t),g))),!m&&y.hasSameRuleAs(s))return n.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),s=s.pop(),c.produce(s,l),void(d=!0)}else{var L=_;if(a.IN_DEBUG_MODE&&n.log("  matched "+L.debugName+" - "+L.debugMatchRegExp),b(e,t,i,s,c,L.captures,g),c.produce(s,g[0].end),s=s.pop(),!m)return n.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),s=s.safePop(),c.produce(s,l),void(d=!0)}}g[0].end>o&&(o=g[0].end,i=!1)}return s}t.Grammar=v;var N=function(){function e(){}return e.toBinaryStr=function(e){var t=e.toString(2);while(t.length<32)t="0"+t;return t},e.printMetadata=function(t){var i=e.getLanguageId(t),o=e.getTokenType(t),r=e.getFontStyle(t),s=e.getForeground(t),a=e.getBackground(t);n.log({languageId:i,tokenType:o,fontStyle:r,foreground:s,background:a})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.set=function(t,i,n,o,r,s){var a=e.getLanguageId(t),c=e.getTokenType(t),l=e.getFontStyle(t),d=e.getForeground(t),u=e.getBackground(t);return 0!==i&&(a=i),0!==n&&(c=8===n?0:n),-1!==o&&(l=o),0!==r&&(d=r),0!==s&&(u=s),(a<<0|c<<8|l<<11|d<<14|u<<23)>>>0},e}();t.StackElementMetadata=N;var L=function(){function e(e,t,i){this.parent=e,this.scope=t,this.metadata=i}return e._equals=function(e,t){do{if(e===t)return!0;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}while(1)},e.prototype.equals=function(t){return e._equals(this,t)},e._matchesScope=function(e,t,i){return t===e||e.substring(0,i.length)===i},e._matches=function(e,t){if(null===t)return!0;var i=t.length,n=0,o=t[n],r=o+".";while(e){if(this._matchesScope(e.scope,o,r)){if(n++,n===i)return!0;o=t[n],r=o+"."}e=e.parent}return!1},e.mergeMetadata=function(e,t,i){if(null===i)return e;var n=-1,o=0,r=0;if(null!==i.themeData)for(var s=0,a=i.themeData.length;s<a;s++){var c=i.themeData[s];if(this._matches(t,c.parentScopes)){n=c.fontStyle,o=c.foreground,r=c.background;break}}return N.set(e,i.languageId,i.tokenType,n,o,r)},e._push=function(t,i,n){for(var o=0,r=n.length;o<r;o++){var s=n[o],a=i.getMetadataForScope(s),c=e.mergeMetadata(t.metadata,t,a);t=new e(t,s,c)}return t},e.prototype.push=function(t,i){return null===i?this:i.indexOf(" ")>=0?e._push(this,t,i.split(/ /g)):e._push(this,t,[i])},e._generateScopes=function(e){var t=[],i=0;while(e)t[i++]=e.scope,e=e.parent;return t.reverse(),t},e.prototype.generateScopes=function(){return e._generateScopes(this)},e}();t.ScopeListElement=L;var I=function(){function e(e,t,i,n,o,r){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=i,this.endRule=n,this.nameScopesList=o,this.contentNameScopesList=r}return e._structuralEquals=function(e,t){do{if(e===t)return!0;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;if(e=e.parent,t=t.parent,!e&&!t)return!0;if(!e||!t)return!1}while(1)},e._equals=function(e,t){return e===t||!!this._structuralEquals(e,t)&&e.contentNameScopesList.equals(t.contentNameScopesList)},e.prototype.clone=function(){return this},e.prototype.equals=function(t){return null!==t&&e._equals(this,t)},e._reset=function(e){while(e)e._enterPos=-1,e=e.parent},e.prototype.reset=function(){e._reset(this)},e.prototype.pop=function(){return this.parent},e.prototype.safePop=function(){return this.parent?this.parent:this},e.prototype.push=function(t,i,n,o,r){return new e(this,t,i,n,o,r)},e.prototype.getEnterPos=function(){return this._enterPos},e.prototype.getRule=function(e){return e.getRule(this.ruleId)},e.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},e.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},e.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this.endRule,this.nameScopesList,e)},e.prototype.setEndRule=function(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,t,this.nameScopesList,this.contentNameScopesList)},e.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},e.NULL=new e(null,0,0,null,null,null),e}();t.StackElement=I;var R=function(){function e(e,t){this.scopes=e,this.endPos=t}return e}();t.LocalStackElement=R;var D=function(){function e(e,t,i){this._emitBinaryTokens=e,this._tokenTypeOverrides=i,a.IN_DEBUG_MODE&&(this._lineText=t),this._emitBinaryTokens?this._binaryTokens=[]:this._tokens=[],this._lastTokenEndIndex=0}return e.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},e.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var i=e.metadata,o=0,r=this._tokenTypeOverrides;o<r.length;o++){var s=r[o];s.matcher(e.generateScopes())&&(i=N.set(i,0,M(s.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===i||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(i)),void(this._lastTokenEndIndex=t)}var c=e.generateScopes();if(a.IN_DEBUG_MODE){n.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var l=0;l<c.length;l++)n.log("      * "+c[l])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:c}),this._lastTokenEndIndex=t}},e.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},e.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var i=new Uint32Array(this._binaryTokens.length),n=0,o=this._binaryTokens.length;n<o;n++)i[n]=this._binaryTokens[n];return i},e}();function M(e){switch(e){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},68714:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7209),o=i(6876),r=i(13182);function s(e,t){return o.CAPTURE_METADATA?r.parse(e,t,!0):JSON.parse(e)}function a(e,t){return o.CAPTURE_METADATA?n.parseWithLocation(e,t,"$vscodeTextmateLocation"):n.parse(e)}t.parseJSONGrammar=s,t.parsePLISTGrammar=a},13182:(e,t)=>{"use strict";function i(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}function n(e,t,n){var a=new o(e),c=new r,l=0,d=null,u=[],h=[];function g(){u.push(l),h.push(d)}function p(){l=u.pop(),d=h.pop()}function m(e){i(a,e)}while(s(a,c)){if(0===l){if(null!==d&&m("too many constructs in root"),3===c.type){d={},n&&(d.$vscodeTextmateLocation=c.toLocation(t)),g(),l=1;continue}if(2===c.type){d=[],g(),l=4;continue}m("unexpected token in root")}if(2===l){if(5===c.type){p();continue}if(7===c.type){l=3;continue}m("expected , or }")}if(1===l||3===l){if(1===l&&5===c.type){p();continue}if(1===c.type){var f=c.value;if(s(a,c)&&6===c.type||m("expected colon"),s(a,c)||m("expected value"),l=2,1===c.type){d[f]=c.value;continue}if(8===c.type){d[f]=null;continue}if(9===c.type){d[f]=!0;continue}if(10===c.type){d[f]=!1;continue}if(11===c.type){d[f]=parseFloat(c.value);continue}if(2===c.type){var v=[];d[f]=v,g(),l=4,d=v;continue}if(3===c.type){var _={};n&&(_.$vscodeTextmateLocation=c.toLocation(t)),d[f]=_,g(),l=1,d=_;continue}}m("unexpected token in dict")}if(5===l){if(4===c.type){p();continue}if(7===c.type){l=6;continue}m("expected , or ]")}if(4===l||6===l){if(4===l&&4===c.type){p();continue}if(l=5,1===c.type){d.push(c.value);continue}if(8===c.type){d.push(null);continue}if(9===c.type){d.push(!0);continue}if(10===c.type){d.push(!1);continue}if(11===c.type){d.push(parseFloat(c.value));continue}if(2===c.type){v=[];d.push(v),g(),l=4,d=v;continue}if(3===c.type){_={};n&&(_.$vscodeTextmateLocation=c.toLocation(t)),d.push(_),g(),l=1,d=_;continue}m("unexpected token in array")}m("unknown state")}return 0!==h.length&&m("unclosed constructs"),d}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=n;var o=function(){function e(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0}return e}(),r=function(){function e(){this.value=null,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return e.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},e}();function s(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;var n,o=e.source,r=e.pos,s=e.len,a=e.line,c=e.char;do{if(r>=s)return!1;if(n=o.charCodeAt(r),32!==n&&9!==n&&13!==n){if(10!==n)break;r++,a++,c=0}else r++,c++}while(1);if(t.offset=r,t.line=a,t.char=c,34===n){t.type=1,r++,c++;do{if(r>=s)return!1;if(n=o.charCodeAt(r),r++,c++,92!==n){if(34===n)break}else r++,c++}while(1);t.value=o.substring(t.offset+1,r-1).replace(/\\u([0-9A-Fa-f]{4})/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\(.)/g,(function(t,n){switch(n){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:i(e,"invalid escape sequence")}}))}else if(91===n)t.type=2,r++,c++;else if(123===n)t.type=3,r++,c++;else if(93===n)t.type=4,r++,c++;else if(125===n)t.type=5,r++,c++;else if(58===n)t.type=6,r++,c++;else if(44===n)t.type=7,r++,c++;else if(110===n){if(t.type=8,r++,c++,n=o.charCodeAt(r),117!==n)return!1;if(r++,c++,n=o.charCodeAt(r),108!==n)return!1;if(r++,c++,n=o.charCodeAt(r),108!==n)return!1;r++,c++}else if(116===n){if(t.type=9,r++,c++,n=o.charCodeAt(r),114!==n)return!1;if(r++,c++,n=o.charCodeAt(r),117!==n)return!1;if(r++,c++,n=o.charCodeAt(r),101!==n)return!1;r++,c++}else if(102===n){if(t.type=10,r++,c++,n=o.charCodeAt(r),97!==n)return!1;if(r++,c++,n=o.charCodeAt(r),108!==n)return!1;if(r++,c++,n=o.charCodeAt(r),115!==n)return!1;if(r++,c++,n=o.charCodeAt(r),101!==n)return!1;r++,c++}else{t.type=11;do{if(r>=s)return!1;if(n=o.charCodeAt(r),!(46===n||n>=48&&n<=57||101===n||69===n||45===n||43===n))break;r++,c++}while(1)}return t.len=r-t.offset,null===t.value&&(t.value=o.substr(t.offset,t.len)),e.pos=r,e.line=a,e.char=c,!0}},46439:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function a(e){try{c(n["throw"](e))}catch(t){r(t)}}function c(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var i,n,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return c([e,t])}}function c(r){if(i)throw new TypeError("Generator is already executing.");while(s)try{if(i=1,n&&(o=2&r[0]?n["return"]:r[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(18040),s=i(68714),a=i(90846),c=i(60567),l={getGrammarDefinition:function(e){return null},getInjections:function(e){return null}},d=function(){function e(e){void 0===e&&(e=l),this._locator=e,this._syncRegistry=new r.SyncRegistry(a.Theme.createFromRawTheme(e.theme)),this.installationQueue=new Map}return e.prototype.setTheme=function(e){this._syncRegistry.setTheme(a.Theme.createFromRawTheme(e))},e.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},e.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,i){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:i})},e.prototype.loadGrammarWithConfiguration=function(e,t,i){return n(this,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,this._loadGrammar(e)];case 1:return n.sent(),[2,this.grammarForScopeName(e,t,i.embeddedLanguages,i.tokenTypes)]}}))}))},e.prototype.loadGrammar=function(e){return n(this,void 0,void 0,(function(){return o(this,(function(t){return[2,this._loadGrammar(e)]}))}))},e.prototype._loadGrammar=function(e,t){return void 0===t&&(t=null),n(this,void 0,void 0,(function(){var i,r=this;return o(this,(function(a){switch(a.label){case 0:return this._syncRegistry.lookup(e)?[2,this.grammarForScopeName(e)]:this.installationQueue.has(e)?[2,this.installationQueue.get(e)]:(i=new Promise((function(i,a){return n(r,void 0,void 0,(function(){var r,a,c,l,d=this;return o(this,(function(u){switch(u.label){case 0:return[4,this._locator.getGrammarDefinition(e,t)];case 1:if(r=u.sent(),!r)throw new Error("A tmGrammar load was requested but registry host failed to provide grammar definition");if("json"!==r.format&&"plist"!==r.format||"json"===r.format&&"object"!==typeof r.content&&"string"!==typeof r.content||"plist"===r.format&&"string"!==typeof r.content)throw new TypeError('Grammar definition must be an object, either `{ content: string | object, format: "json" }` OR `{ content: string, format: "plist" }`)');return a="json"===r.format?"string"===typeof r.content?s.parseJSONGrammar(r.content,"c://fakepath/grammar.json"):r.content:s.parsePLISTGrammar(r.content,"c://fakepath/grammar.plist"),c="function"===typeof this._locator.getInjections&&this._locator.getInjections(e),a.scopeName=e,l=this._syncRegistry.addGrammar(a,c),[4,Promise.all(l.map((function(t){return n(d,void 0,void 0,(function(){return o(this,(function(i){try{return[2,this._loadGrammar(t,e)]}catch(n){throw new Error("While trying to load tmGrammar with scopeId: '"+e+"', it's dependency (scopeId: "+t+") loading errored: "+n.message)}return[2]}))}))})))];case 2:return u.sent(),i(this.grammarForScopeName(e)),[2]}}))}))})),this.installationQueue.set(e,i),[4,i]);case 1:return a.sent(),this.installationQueue.delete(e),[2,i]}}))}))},e.prototype.grammarForScopeName=function(e,t,i,n){return void 0===t&&(t=0),void 0===i&&(i=null),void 0===n&&(n=null),this._syncRegistry.grammarForScopeName(e,t,i,n)},e}();t.Registry=d,t.INITIAL=c.StackElement.NULL},50716:(e,t,i)=>{"use strict";var n=i(25108);function o(e,t){var i=[],o=s(e),a=o.next();while(null!==a){var c=0;if(2===a.length&&":"===a.charAt(1)){switch(a.charAt(0)){case"R":c=1;break;case"L":c=-1;break;default:n.log("Unknown priority "+a+" in scope selector")}a=o.next()}var l=u();if(l&&i.push({matcher:l,priority:c}),","!==a)break;a=o.next()}return i;function d(){if("-"===a){a=o.next();var e=d();return function(t){return e&&!e(t)}}if("("===a){a=o.next();var i=h();return")"===a&&(a=o.next()),i}if(r(a)){var n=[];do{n.push(a),a=o.next()}while(r(a));return function(e){return t(n,e)}}return null}function u(){var e=[],t=d();while(t)e.push(t),t=d();return function(t){return e.every((function(e){return e(t)}))}}function h(){var e=[],t=u();while(t){if(e.push(t),"|"!==a&&","!==a)break;do{a=o.next()}while("|"===a||","===a);t=u()}return function(t){return e.some((function(e){return e(t)}))}}}function r(e){return e&&e.match(/[\w\.:]+/)}function s(e){var t=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,i=t.exec(e);return{next:function(){if(!i)return null;var n=i[0];return i=t.exec(e),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=o},18040:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(60567),o=function(){function e(e){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={}}return e.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach((function(e){var i=t._grammars[e];i.onDidChangeTheme()}))},e.prototype.getColorMap=function(){return this._theme.getColorMap()},e.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e;var i={};return n.collectIncludedScopes(i,e),t&&(this._injectionGrammars[e.scopeName]=t,t.forEach((function(e){i[e]=!0}))),Object.keys(i)},e.prototype.lookup=function(e){return this._rawGrammars[e]},e.prototype.injections=function(e){return this._injectionGrammars[e]},e.prototype.getDefaults=function(){return this._theme.getDefaults()},e.prototype.themeMatch=function(e){return this._theme.match(e)},e.prototype.grammarForScopeName=function(e,t,i,o){if(!this._grammars[e]){var r=this._rawGrammars[e];if(!r)return null;this._grammars[e]=n.createGrammar(r,t,i,o,this)}return this._grammars[e]},e}();t.SyncRegistry=o},90313:function(e,t,i){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=i(62520),r=i(30550),s=i(54105),a=/\\(\d+)/,c=/\\(\d+)/g,l=function(){function e(e,t,i,n){this.$location=e,this.id=t,this._name=i||null,this._nameIsCapturing=r.RegexSource.hasCaptures(this._name),this._contentName=n||null,this._contentNameIsCapturing=r.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(e.prototype,"debugName",{get:function(){return this.constructor.name+"#"+this.id+" @ "+o.basename(this.$location.filename)+":"+this.$location.line},enumerable:!0,configurable:!0}),e.prototype.getName=function(e,t){return this._nameIsCapturing?r.RegexSource.replaceCaptures(this._name,e,t):this._name},e.prototype.getContentName=function(e,t){return this._contentNameIsCapturing?r.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},e.prototype.collectPatternsRecursive=function(e,t,i){throw new Error("Implement me!")},e.prototype.compile=function(e,t,i,n){throw new Error("Implement me!")},e}();t.Rule=l;var d=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,o)||this;return s.retokenizeCapturedWithRuleId=r,s}return n(t,e),t}(l);t.CaptureRule=d;var u=function(){function e(e,t,i){void 0===i&&(i=!0),i?this._handleAnchors(e):(this.source=e,this.hasAnchor=!1),this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()),this.ruleId=t,this.hasBackReferences=a.test(this.source)}return e.prototype.clone=function(){return new e(this.source,this.ruleId,!0)},e.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},e.prototype._handleAnchors=function(e){if(e){var t=void 0,i=void 0,n=void 0,o=void 0,r=0,s=[],a=!1;for(t=0,i=e.length;t<i;t++)n=e.charAt(t),"\\"===n&&t+1<i&&(o=e.charAt(t+1),"z"===o?(s.push(e.substring(r,t)),s.push("$(?!\\n)(?<!\\n)"),r=t+2):"A"!==o&&"G"!==o||(a=!0),t++);this.hasAnchor=a,0===r?this.source=e:(s.push(e.substring(r,i)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e},e.prototype.resolveBackReferences=function(e,t){var i=t.map((function(t){return e.substring(t.start,t.end)}));return c.lastIndex=0,this.source.replace(c,(function(e,t){return _(i[parseInt(t,10)]||"")}))},e.prototype._buildAnchorCache=function(){var e,t,i,n,o=[],r=[],s=[],a=[];for(e=0,t=this.source.length;e<t;e++)i=this.source.charAt(e),o[e]=i,r[e]=i,s[e]=i,a[e]=i,"\\"===i&&e+1<t&&(n=this.source.charAt(e+1),"A"===n?(o[e+1]="",r[e+1]="",s[e+1]="A",a[e+1]="A"):"G"===n?(o[e+1]="",r[e+1]="G",s[e+1]="",a[e+1]="G"):(o[e+1]=n,r[e+1]=n,s[e+1]=n,a[e+1]=n),e++);return{A0_G0:o.join(""),A0_G1:r.join(""),A1_G0:s.join(""),A1_G1:a.join("")}},e.prototype.resolveAnchors=function(e,t){return this.hasAnchor?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},e}();function h(e){return new s.OnigScanner(e)}function g(e){var t=new s.OnigString(e);return t.$str=e,t}function p(e){return e.$str}t.RegExpSource=u,t.createOnigString=g,t.getString=p;var m=function(){function e(){this._items=[],this._hasAnchors=!1,this._cached=null,this._cachedSources=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return e.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.length=function(){return this._items.length},e.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._cached=null,this._anchorCache.A0_G0=null,this._anchorCache.A0_G1=null,this._anchorCache.A1_G0=null,this._anchorCache.A1_G1=null,this._items[e].setSource(t))},e.prototype.compile=function(e,t,i){if(this._hasAnchors)return this._anchorCache={A0_G0:this._anchorCache.A0_G0||(!1===t&&!1===i?this._resolveAnchors(t,i):null),A0_G1:this._anchorCache.A0_G1||(!1===t&&!0===i?this._resolveAnchors(t,i):null),A1_G0:this._anchorCache.A1_G0||(!0===t&&!1===i?this._resolveAnchors(t,i):null),A1_G1:this._anchorCache.A1_G1||(!0===t&&!0===i?this._resolveAnchors(t,i):null)},t?i?this._anchorCache.A1_G1:this._anchorCache.A1_G0:i?this._anchorCache.A0_G1:this._anchorCache.A0_G0;if(!this._cached){var n=this._items.map((function(e){return e.source}));this._cached={scanner:h(n),rules:this._items.map((function(e){return e.ruleId})),debugRegExps:n}}return this._cached},e.prototype._resolveAnchors=function(e,t){var i=this._items.map((function(i){return i.resolveAnchors(e,t)}));return{scanner:h(i),rules:this._items.map((function(e){return e.ruleId})),debugRegExps:i}},e}();t.RegExpSourceList=m;var f=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,null)||this;return s._match=new u(o,s.id),s.captures=r,s._cachedCompiledPatterns=null,s}return n(t,e),Object.defineProperty(t.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),t.prototype.collectPatternsRecursive=function(e,t,i){t.push(this._match)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,i,n)},t}(l);t.MatchRule=f;var v=function(e){function t(t,i,n,o,r){var s=e.call(this,t,i,n,o)||this;return s.patterns=r.patterns,s.hasMissingPatterns=r.hasMissingPatterns,s._cachedCompiledPatterns=null,s}return n(t,e),t.prototype.collectPatternsRecursive=function(e,t,i){var n,o,r;for(n=0,o=this.patterns.length;n<o;n++)r=e.getRule(this.patterns[n]),r.collectPatternsRecursive(e,t,!1)},t.prototype.compile=function(e,t,i,n){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,i,n)},t}(l);function _(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}t.IncludeOnlyRule=v;var b=function(e){function t(t,i,n,o,r,s,a,c,l,d){var h=e.call(this,t,i,n,o)||this;return h._begin=new u(r,h.id),h.beginCaptures=s,h._end=new u(a,-1),h.endHasBackReferences=h._end.hasBackReferences,h.endCaptures=c,h.applyEndPatternLast=l||!1,h.patterns=d.patterns,h.hasMissingPatterns=d.hasMissingPatterns,h._cachedCompiledPatterns=null,h}return n(t,e),Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),t.prototype.getEndWithResolvedBackReferences=function(e,t){return this._end.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,i){if(i){var n=void 0,o=void 0,r=void 0;for(n=0,o=this.patterns.length;n<o;n++)r=e.getRule(this.patterns[n]),r.collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,i,n){var o=this._precompile(e);return this._end.hasBackReferences&&(this.applyEndPatternLast?o.setSource(o.length()-1,t):o.setSource(0,t)),this._cachedCompiledPatterns.compile(e,i,n)},t.prototype._precompile=function(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._cachedCompiledPatterns},t}(l);t.BeginEndRule=b;var y=function(e){function t(t,i,n,o,r,s,a,c,l){var d=e.call(this,t,i,n,o)||this;return d._begin=new u(r,d.id),d.beginCaptures=s,d.whileCaptures=c,d._while=new u(a,-2),d.whileHasBackReferences=d._while.hasBackReferences,d.patterns=l.patterns,d.hasMissingPatterns=l.hasMissingPatterns,d._cachedCompiledPatterns=null,d._cachedCompiledWhilePatterns=null,d}return n(t,e),t.prototype.getWhileWithResolvedBackReferences=function(e,t){return this._while.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,i){if(i){var n=void 0,o=void 0,r=void 0;for(n=0,o=this.patterns.length;n<o;n++)r=e.getRule(this.patterns[n]),r.collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,i,n){return this._precompile(e),this._cachedCompiledPatterns.compile(e,i,n)},t.prototype._precompile=function(e){this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new m,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0))},t.prototype.compileWhile=function(e,t,i,n){return this._precompileWhile(e),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t),this._cachedCompiledWhilePatterns.compile(e,i,n)},t.prototype._precompileWhile=function(e){this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new m,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while))},t}(l);t.BeginWhileRule=y;var w=function(){function e(){}return e.createCaptureRule=function(e,t,i,n,o){return e.registerRule((function(e){return new d(t,e,i,n,o)}))},e.getCompiledRuleId=function(t,i,n){return t.id||i.registerRule((function(o){return t.id=o,t.match?new f(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,i,n)):t.begin?t.while?new y(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,i,n),t.while,e._compileCaptures(t.whileCaptures||t.captures,i,n),e._compilePatterns(t.patterns,i,n)):new b(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,i,n),t.end,e._compileCaptures(t.endCaptures||t.captures,i,n),t.applyEndPatternLast,e._compilePatterns(t.patterns,i,n)):(t.repository&&(n=r.mergeObjects({},n,t.repository)),new v(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(t.patterns,i,n)))})),t.id},e._compileCaptures=function(t,i,n){var o,r,s,a,c=[];if(t){for(a in r=0,t)"$vscodeTextmateLocation"!==a&&(o=parseInt(a,10),o>r&&(r=o));for(s=0;s<=r;s++)c[s]=null;for(a in t)if("$vscodeTextmateLocation"!==a){o=parseInt(a,10);var l=0;t[a].patterns&&(l=e.getCompiledRuleId(t[a],i,n)),c[o]=e.createCaptureRule(i,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,l)}}return c},e._compilePatterns=function(t,i,n){var o,r,s,a,c,l,d,u=[];if(t)for(r=0,s=t.length;r<s;r++){if(o=t[r],a=-1,o.include)if("#"===o.include.charAt(0)){var h=n[o.include.substr(1)];h&&(a=e.getCompiledRuleId(h,i,n))}else if("$base"===o.include||"$self"===o.include)a=e.getCompiledRuleId(n[o.include],i,n);else{var g=null,p=null,m=o.include.indexOf("#");if(m>=0?(g=o.include.substring(0,m),p=o.include.substring(m+1)):g=o.include,c=i.getExternalGrammar(g,n),c)if(p){var f=c.repository[p];f&&(a=e.getCompiledRuleId(f,i,c.repository))}else a=e.getCompiledRuleId(c.repository.$self,i,c.repository)}else a=e.getCompiledRuleId(o,i,n);if(-1!==a){if(l=i.getRule(a),d=!1,(l instanceof v||l instanceof b||l instanceof y)&&l.hasMissingPatterns&&0===l.patterns.length&&(d=!0),d)continue;u.push(a)}}return{patterns:u,hasMissingPatterns:(t?t.length:0)!==u.length}},e}();t.RuleFactory=w},90846:(e,t,i)=>{"use strict";var n=i(25108);Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,i,n,o,r){this.scope=e,this.parentScopes=t,this.index=i,this.fontStyle=n,this.foreground=o,this.background=r}return e}();function r(e){return!!/^#[0-9a-f]{6}$/i.test(e)||(!!/^#[0-9a-f]{8}$/i.test(e)||(!!/^#[0-9a-f]{3}$/i.test(e)||!!/^#[0-9a-f]{4}$/i.test(e)))}function s(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];for(var t=e.settings,i=[],n=0,s=0,a=t.length;s<a;s++){var c=t[s];if(c.settings){var l=void 0;if("string"===typeof c.scope){var d=c.scope;d=d.replace(/^[,]+/,""),d=d.replace(/[,]+$/,""),l=d.split(",")}else l=Array.isArray(c.scope)?c.scope:[""];var u=-1;if("string"===typeof c.settings.fontStyle){u=0;for(var h=c.settings.fontStyle.split(" "),g=0,p=h.length;g<p;g++){var m=h[g];switch(m){case"italic":u|=1;break;case"bold":u|=2;break;case"underline":u|=4;break}}}var f=null;"string"===typeof c.settings.foreground&&r(c.settings.foreground)&&(f=c.settings.foreground);var v=null;"string"===typeof c.settings.background&&r(c.settings.background)&&(v=c.settings.background);for(g=0,p=l.length;g<p;g++){d=l[g].trim(),h=d.split(" ");var _=h[h.length-1],b=null;h.length>1&&(b=h.slice(0,h.length-1),b.reverse()),i[n++]=new o(_,b,s,u,f,v)}}}return i}function a(e){e.sort((function(e,t){var i=d(e.scope,t.scope);return 0!==i?i:(i=u(e.parentScopes,t.parentScopes),0!==i?i:e.index-t.index)}));var t=0,i="#000000",n="#ffffff";while(e.length>=1&&""===e[0].scope){var o=e.shift();-1!==o.fontStyle&&(t=o.fontStyle),null!==o.foreground&&(i=o.foreground),null!==o.background&&(n=o.background)}for(var r=new c,s=new h(0,null,t,r.getId(i),r.getId(n)),a=new g(new h(0,null,-1,0,0),[]),p=0,m=e.length;p<m;p++){var f=e[p];a.insert(0,f.scope,f.parentScopes,f.fontStyle,r.getId(f.foreground),r.getId(f.background))}return new l(r,s,a)}t.ParsedThemeRule=o,t.parseTheme=s;var c=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null)}return e.prototype.getId=function(e){if(null===e)return 0;e=e.toUpperCase();var t=this._color2id[e];return t||(t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();t.ColorMap=c;var l=function(){function e(e,t,i){this._colorMap=e,this._root=i,this._defaults=t,this._cache={}}return e.createFromRawTheme=function(e){return this.createFromParsedTheme(s(e))},e.createFromParsedTheme=function(e){return a(e)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getDefaults=function(){return this._defaults},e.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},e}();function d(e,t){return e<t?-1:e>t?1:0}function u(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;var i=e.length,n=t.length;if(i===n){for(var o=0;o<i;o++){var r=d(e[o],t[o]);if(0!==r)return r}return 0}return i-n}t.Theme=l,t.strcmp=d,t.strArrCmp=u;var h=function(){function e(e,t,i,n,o){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=i,this.foreground=n,this.background=o}return e.prototype.clone=function(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},e.cloneArr=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=e[i].clone();return t},e.prototype.acceptOverwrite=function(e,t,i,o){this.scopeDepth>e?n.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==i&&(this.foreground=i),0!==o&&(this.background=o)},e}();t.ThemeTrieElementRule=h;var g=function(){function e(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=i}return e._sortBySpecificity=function(e){return 1===e.length||e.sort(this._cmpBySpecificity),e},e._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var i=e.parentScopes,n=t.parentScopes,o=null===i?0:i.length,r=null===n?0:n.length;if(o===r)for(var s=0;s<o;s++){var a=i[s].length,c=n[s].length;if(a!==c)return c-a}return r-o}return t.scopeDepth-e.scopeDepth},e.prototype.match=function(t){if(""===t)return e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var i,n,o=t.indexOf(".");return-1===o?(i=t,n=""):(i=t.substring(0,o),n=t.substring(o+1)),this._children.hasOwnProperty(i)?this._children[i].match(n):e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},e.prototype.insert=function(t,i,n,o,r,s){if(""!==i){var a,c,l,d=i.indexOf(".");-1===d?(a=i,c=""):(a=i.substring(0,d),c=i.substring(d+1)),this._children.hasOwnProperty(a)?l=this._children[a]:(l=new e(this._mainRule.clone(),h.cloneArr(this._rulesWithParentScopes)),this._children[a]=l),l.insert(t+1,c,n,o,r,s)}else this._doInsertHere(t,n,o,r,s)},e.prototype._doInsertHere=function(e,t,i,n,o){if(null!==t){for(var r=0,s=this._rulesWithParentScopes.length;r<s;r++){var a=this._rulesWithParentScopes[r];if(0===u(a.parentScopes,t))return void a.acceptOverwrite(e,i,n,o)}-1===i&&(i=this._mainRule.fontStyle),0===n&&(n=this._mainRule.foreground),0===o&&(o=this._mainRule.background),this._rulesWithParentScopes.push(new h(e,t,i,n,o))}else this._mainRule.acceptOverwrite(e,i,n,o)},e}();t.ThemeTrieElement=g},30550:(e,t)=>{"use strict";function i(e){return n(e)}function n(e){return Array.isArray(e)?o(e):"object"===typeof e?r(e):e}function o(e){for(var t=[],i=0,o=e.length;i<o;i++)t[i]=n(e[i]);return t}function r(e){var t={};for(var i in e)t[i]=n(e[i]);return t}function s(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return t.forEach((function(t){for(var i in t)e[i]=t[i]})),e}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=i,t.mergeObjects=s;var a=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,c=function(){function e(){}return e.hasCaptures=function(e){return a.test(e)},e.replaceCaptures=function(e,t,i){return e.replace(a,(function(e,n,o,r){var s=i[parseInt(n||o,10)];if(!s)return e;var a=t.substring(s.start,s.end);while("."===a[0])a=a.substring(1);switch(r){case"downcase":return a.toLowerCase();case"upcase":return a.toUpperCase();default:return a}}))},e}();t.RegexSource=c},45906:(e,t,i)=>{"use strict";var n=i(25108);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.Vim=void 0;var o=r(i(47237));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var a=o["default"].Pos;function c(e,t){var i=e.state.vim;if(!i||i.insertMode)return t.head;var n=i.sel.head;return n?i.visualBlock&&t.head.line!=n.line?void 0:t.from()!=t.anchor||t.empty()||t.head.line!=n.line||t.head.ch==n.ch?t.head:new a(t.head.line,t.head.ch-1):t.head}var l=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],d=l.length,u=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],h=function(){function e(e){e.setOption("disableInput",!0),e.setOption("showCursorWhenSelecting",!1),o["default"].signal(e,"vim-mode-change",{mode:"normal"}),e.on("cursorActivity",Bt),z(e),e.enterVimMode()}function t(e){e.setOption("disableInput",!1),e.off("cursorActivity",Bt),e.state.vim=null,_t&&clearTimeout(_t),e.leaveVimMode()}function i(e,i){e.attached=!1,this==o["default"].keyMap.vim&&(e.options.$customCursor=null),i&&i.attach==r||t(e)}function r(t,i){this==o["default"].keyMap.vim&&(t.attached=!0,t.curOp&&(t.curOp.selectionChanged=!0),t.options.$customCursor=c),i&&i.attach==r||e(t)}function h(e,t){if(t){if(this[e])return this[e];var i=m(e);if(!i)return!1;var n=j.findKey(t,i);return"function"==typeof n&&o["default"].signal(t,"vim-keypress",i),n}}o["default"].defineOption("vimMode",!1,(function(e,t,i){t&&"vim"!=e.getOption("keyMap")?e.setOption("keyMap","vim"):!t&&i!=o["default"].Init&&/^vim/.test(e.getOption("keyMap"))&&e.setOption("keyMap","default")}));var g={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},p={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function m(e){if("'"==e.charAt(0))return e.charAt(1);if("AltGraph"===e)return!1;var t=e.split(/-(?!$)/),i=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==i.length)return!1;for(var n=!1,o=0;o<t.length;o++){var r=t[o];r in g?t[o]=g[r]:n=!0,r in p&&(t[o]=p[r])}return!!n&&(R(i)&&(t[t.length-1]=i.toLowerCase()),"<"+t.join("-")+">")}var f=/[\d]/,v=[o["default"].isWordChar,function(e){return e&&!o["default"].isWordChar(e)&&!/\s/.test(e)}],_=[function(e){return/\S/.test(e)}];function b(e,t){for(var i=[],n=e;n<e+t;n++)i.push(String.fromCharCode(n));return i}var y,w=b(65,26),C=b(97,26),S=b(48,10),x=[].concat(w,C,S,["<",">"]),k=[].concat(w,C,S,["-",'"',".",":","_","/"]);try{y=new RegExp("^[\\p{Lu}]$","u")}catch($t){y=/^[A-Z]$/}function N(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function L(e){return/^[a-z]$/.test(e)}function I(e){return f.test(e)}function R(e){return y.test(e)}function D(e){return/^\s*$/.test(e)}function M(e){return-1!=".?!".indexOf(e)}function P(e,t){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}var E={};function A(e,t,i,n,o){if(void 0===t&&!o)throw Error("defaultValue is required unless callback is provided");if(i||(i="string"),E[e]={type:i,defaultValue:t,callback:o},n)for(var r=0;r<n.length;r++)E[n[r]]=E[e];t&&T(e,t)}function T(e,t,i,n){var o=E[e];n=n||{};var r=n.scope;if(!o)return new Error("Unknown option: "+e);if("boolean"==o.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}o.callback?("local"!==r&&o.callback(t,void 0),"global"!==r&&i&&o.callback(t,i)):("local"!==r&&(o.value="boolean"==o.type?!!t:t),"global"!==r&&i&&(i.state.vim.options[e]={value:t}))}function O(e,t,i){var n=E[e];i=i||{};var o=i.scope;if(!n)return new Error("Unknown option: "+e);if(n.callback){var r=t&&n.callback(void 0,t);return"global"!==o&&void 0!==r?r:"local"!==o?n.callback():void 0}r="global"!==o&&t&&t.state.vim.options[e];return(r||"local"!==o&&n||{}).value}A("filetype",void 0,"string",["ft"],(function(e,t){if(void 0!==t){if(void 0===e){var i=t.getOption("mode");return"null"==i?"":i}i=""==e?"null":e;t.setOption("mode",i)}}));var F,W,B=function(){var e=100,t=-1,i=0,n=0,o=new Array(e);function r(r,s,a){var c=t%e,l=o[c];function d(i){var n=++t%e,s=o[n];s&&s.clear(),o[n]=r.setBookmark(i)}if(l){var u=l.find();u&&!ge(u,s)&&d(s)}else d(s);d(a),i=t,n=t-e+1,n<0&&(n=0)}function s(r,s){t+=s,t>i?t=i:t<n&&(t=n);var a=o[(e+t)%e];if(a&&!a.find()){var c,l=s>0?1:-1,d=r.getCursor();do{if(t+=l,a=o[(e+t)%e],a&&(c=a.find())&&!ge(d,c))break}while(t<i&&t>n)}return a}function a(e,i){var n=t,o=s(e,i);return t=n,o&&o.find()}return{cachedCursor:void 0,add:r,find:a,move:s}},H=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function V(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=H()}function z(e){return e.state.vim||(e.state.vim={inputState:new $,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function U(){for(var e in F={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:B(),macroModeState:new V,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new Q({}),searchHistoryController:new Z,exCommandHistoryController:new Z},E){var t=E[e];t.value=t.defaultValue}}V.prototype={exitMacroRecordMode:function(){var e=F.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var i=F.registerController.getRegister(t);i&&(i.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog(document.createTextNode("(recording)["+t+"]"),null,{bottom:!0})),this.isRecording=!0)}};var j={buildKeyMap:function(){},getRegisterController:function(){return F.registerController},resetVimGlobalState_:U,getVimGlobalState_:function(){return F},maybeInitVimState_:z,suppressErrorLogging:!1,InsertModeKey:Vt,map:function(e,t,i){Rt.map(e,t,i)},unmap:function(e,t){return Rt.unmap(e,t)},noremap:function(e,t,i){function n(e){return e?[e]:["normal","insert","visual"]}for(var o=n(i),r=l.length,s=d,a=r-s;a<r&&o.length;a++){var c=l[a];if(c.keys==t&&(!i||!c.context||c.context===i)&&"ex"!==c.type.substr(0,2)&&"key"!==c.type.substr(0,3)){var u={};for(var h in c)u[h]=c[h];u.keys=e,i&&!u.context&&(u.context=i),this._mapCommand(u);var g=n(c.context);o=o.filter((function(e){return-1===g.indexOf(e)}))}}},mapclear:function(e){var t=l.length,i=d,n=l.slice(0,t-i);if(l=l.slice(t-i),e)for(var o=n.length-1;o>=0;o--){var r=n[o];if(e!==r.context)if(r.context)this._mapCommand(r);else{var s=["normal","insert","visual"];for(var a in s)if(s[a]!==e){var c={};for(var u in r)c[u]=r[u];c.context=s[a],this._mapCommand(c)}}}},setOption:T,getOption:O,defineOption:A,defineEx:function(e,t,i){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;It[e]=i,Rt.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,i){var n=this.findKey(e,t,i);if("function"===typeof n)return n()},findKey:function(e,t,i){var o,r=z(e);function s(){var n=F.macroModeState;if(n.isRecording){if("q"==t)return n.exitMacroRecordMode(),K(e),!0;"mapping"!=i&&Tt(n,t)}}function a(){if("<Esc>"==t){if(r.visualMode)Me(e);else{if(!r.insertMode)return;Mt(e)}return K(e),!0}}function c(i){var n;while(i)n=/<\w+-.+?>|<\w+>|./.exec(i),t=n[0],i=i.substring(n.index+t.length),j.handleKey(e,t,"mapping")}function d(){if(a())return!0;var i=r.inputState.keyBuffer=r.inputState.keyBuffer+t,n=1==t.length,o=Y.matchCommand(i,l,r.inputState,"insert");while(i.length>1&&"full"!=o.type){i=r.inputState.keyBuffer=i.slice(1);var s=Y.matchCommand(i,l,r.inputState,"insert");"none"!=s.type&&(o=s)}if("none"==o.type)return K(e),!1;if("partial"==o.type)return W&&window.clearTimeout(W),W=window.setTimeout((function(){r.insertMode&&r.inputState.keyBuffer&&K(e)}),O("insertModeEscKeysTimeout")),!n;if(W&&window.clearTimeout(W),n){for(var c=e.listSelections(),d=0;d<c.length;d++){var u=c[d].head;e.replaceRange("",ae(u,0,-(i.length-1)),u,"+input")}F.macroModeState.lastInsertModeChanges.changes.pop()}return K(e),o.command}function u(){if(s()||a())return!0;var i=r.inputState.keyBuffer=r.inputState.keyBuffer+t;if(/^[1-9]\d*$/.test(i))return!0;var n=/^(\d*)(.*)$/.exec(i);if(!n)return K(e),!1;var o=r.visualMode?"visual":"normal",c=n[2]||n[1];r.inputState.operatorShortcut&&r.inputState.operatorShortcut.slice(-1)==c&&(c=r.inputState.operatorShortcut);var d=Y.matchCommand(c,l,r.inputState,o);if("none"==d.type)return K(e),!1;if("partial"==d.type)return!0;r.inputState.keyBuffer="";n=/^(\d*)(.*)$/.exec(i);return n[1]&&"0"!=n[1]&&r.inputState.pushRepeatDigit(n[1]),d.command}return o=r.insertMode?d():u(),!1===o?r.insertMode||1!==t.length?void 0:function(){return!0}:!0===o?function(){return!0}:function(){return e.operation((function(){e.curOp.isVimOp=!0;try{"keyToKey"==o.type?c(o.toKeys):Y.processCommand(e,r,o)}catch(t){throw e.state.vim=void 0,z(e),j.suppressErrorLogging||n["log"](t),t}return!0}))}},handleEx:function(e,t){Rt.processCommand(e,t)},defineMotion:X,defineAction:oe,defineOperator:ie,mapCommand:Et,_mapCommand:Pt,defineRegister:G,exitVisualMode:Me,exitInsertMode:Mt};function $(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function K(e,t){e.state.vim.inputState=new $,o["default"].signal(e,"vim-command-done",t)}function q(e,t,i){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!i}function G(e,t){var i=F.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(i[e])throw Error("Register already defined "+e);i[e]=t,k.push(e)}function Q(e){this.registers=e,this.unnamedRegister=e['"']=new q,e["."]=new q,e[":"]=new q,e["/"]=new q}function Z(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}$.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},$.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},q.prototype={setText:function(e,t,i){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!i},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(H(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},Q.prototype={pushText:function(e,t,i,n,o){if("_"!==e){n&&"\n"!==i.charAt(i.length-1)&&(i+="\n");var r=this.isValidRegister(e)?this.getRegister(e):null;if(r){var s=R(e);s?r.pushText(i,n):r.setText(i,n,o),this.unnamedRegister.setText(r.toString(),n)}else{switch(t){case"yank":this.registers["0"]=new q(i,n,o);break;case"delete":case"change":-1==i.indexOf("\n")?this.registers["-"]=new q(i,n):(this.shiftNumericRegisters_(),this.registers["1"]=new q(i,n));break}this.unnamedRegister.setText(i,n,o)}}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new q),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&P(e,k)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},Z.prototype={nextMatch:function(e,t){var i=this.historyBuffer,n=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var o=this.iterator+n;t?o>=0:o<i.length;o+=n)for(var r=i[o],s=0;s<=r.length;s++)if(this.initialPrefix==r.substring(0,s))return this.iterator=o,r;return o>=i.length?(this.iterator=i.length,this.initialPrefix):o<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Y={matchCommand:function(e,t,i,n){var o,r=ce(e,t,n,i);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var s=0;s<r.full.length;s++){var a=r.full[s];o||(o=a)}if("<character>"==o.keys.slice(-11)){var c=de(e);if(!c)return{type:"none"};i.selectedCharacter=c}return{type:"full",command:o}},processCommand:function(e,t,i){switch(t.inputState.repeatOverride=i.repeatOverride,i.type){case"motion":this.processMotion(e,t,i);break;case"operator":this.processOperator(e,t,i);break;case"operatorMotion":this.processOperatorMotion(e,t,i);break;case"action":this.processAction(e,t,i);break;case"search":this.processSearch(e,t,i);break;case"ex":case"keyToEx":this.processEx(e,t,i);break;default:break}},processMotion:function(e,t,i){t.inputState.motion=i.motion,t.inputState.motionArgs=se(i.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,i){var n=t.inputState;if(n.operator){if(n.operator==i.operator)return n.motion="expandToLine",n.motionArgs={linewise:!0},void this.evalInput(e,t);K(e)}n.operator=i.operator,n.operatorArgs=se(i.operatorArgs),i.keys.length>1&&(n.operatorShortcut=i.keys),i.exitVisualBlock&&(t.visualBlock=!1,Ie(e)),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,i){var n=t.visualMode,o=se(i.operatorMotionArgs);o&&n&&o.visualLine&&(t.visualLine=!0),this.processOperator(e,t,i),n||this.processMotion(e,t,i)},processAction:function(e,t,i){var n=t.inputState,o=n.getRepeat(),r=!!o,s=se(i.actionArgs)||{};n.selectedCharacter&&(s.selectedCharacter=n.selectedCharacter),i.operator&&this.processOperator(e,t,i),i.motion&&this.processMotion(e,t,i),(i.motion||i.operator)&&this.evalInput(e,t),s.repeat=o||1,s.repeatIsExplicit=r,s.registerName=n.registerName,K(e),t.lastMotion=null,i.isEdit&&this.recordLastEdit(t,n,i),ne[i.action](e,s,t)},processSearch:function(e,t,i){if(e.getSearchCursor){var n=i.searchArgs.forward,r=i.searchArgs.wholeWordOnly;et(e).setReversed(!n);var s=n?"/":"?",a=et(e).getQuery(),c=e.getScrollInfo();switch(i.searchArgs.querySrc){case"prompt":var l=F.macroModeState;if(l.isPlaying){var d=l.replaySearchQueries.shift();g(d,!0,!1)}else pt(e,{onClose:p,prefix:s,desc:"(JavaScript regexp)",onKeyUp:m,onKeyDown:f});break;case"wordUnderCursor":var u=Te(e,!1,!0,!1,!0),h=!0;if(u||(u=Te(e,!1,!0,!1,!1),h=!1),!u)return;d=e.getLine(u.start.line).substring(u.start.ch,u.end.ch);d=h&&r?"\\b"+d+"\\b":ye(d),F.jumpList.cachedCursor=e.getCursor(),e.setCursor(u.start),g(d,!0,!1);break}}function g(n,o,r){F.searchHistoryController.pushInput(n),F.searchHistoryController.reset();try{ft(e,n,o,r)}catch(s){return ht(e,"Invalid regex: "+n),void K(e)}Y.processMotion(e,t,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:i.searchArgs.toJumplist}})}function p(t){e.scrollTo(c.left,c.top),g(t,!0,!0);var i=F.macroModeState;i.isRecording&&Ft(i,t)}function m(t,i,r){var s,a,l,d=o["default"].keyName(t);"Up"==d||"Down"==d?(s="Up"==d,a=t.target?t.target.selectionEnd:0,i=F.searchHistoryController.nextMatch(i,s)||"",r(i),a&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(a,t.target.value.length))):"Left"!=d&&"Right"!=d&&"Ctrl"!=d&&"Alt"!=d&&"Shift"!=d&&F.searchHistoryController.reset();try{l=ft(e,i,!0,!0)}catch(t){}l?e.scrollIntoView(yt(e,!n,l),30):(Ct(e),e.scrollTo(c.left,c.top))}function f(t,i,n){var r=o["default"].keyName(t);"Esc"==r||"Ctrl-C"==r||"Ctrl-["==r||"Backspace"==r&&""==i?(F.searchHistoryController.pushInput(i),F.searchHistoryController.reset(),ft(e,a),Ct(e),e.scrollTo(c.left,c.top),o["default"].e_stop(t),K(e),n(),e.focus()):"Up"==r||"Down"==r?o["default"].e_stop(t):"Ctrl-U"==r&&(o["default"].e_stop(t),n(""))}},processEx:function(e,t,i){function n(t){F.exCommandHistoryController.pushInput(t),F.exCommandHistoryController.reset(),Rt.processCommand(e,t)}function r(t,i,n){var r,s,a=o["default"].keyName(t);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==i)&&(F.exCommandHistoryController.pushInput(i),F.exCommandHistoryController.reset(),o["default"].e_stop(t),K(e),n(),e.focus()),"Up"==a||"Down"==a?(o["default"].e_stop(t),r="Up"==a,s=t.target?t.target.selectionEnd:0,i=F.exCommandHistoryController.nextMatch(i,r)||"",n(i),s&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(s,t.target.value.length))):"Ctrl-U"==a?(o["default"].e_stop(t),n("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&F.exCommandHistoryController.reset()}"keyToEx"==i.type?Rt.processCommand(e,i.exArgs.input):t.visualMode?pt(e,{onClose:n,prefix:":",value:"'<,'>",onKeyDown:r,selectValueOnOpen:!1}):pt(e,{onClose:n,prefix:":",onKeyDown:r})},evalInput:function(e,t){var i,n,o,r=t.inputState,s=r.motion,c=r.motionArgs||{},l=r.operator,d=r.operatorArgs||{},u=r.registerName,h=t.sel,g=he(t.visualMode?re(e,h.head):e.getCursor("head")),p=he(t.visualMode?re(e,h.anchor):e.getCursor("anchor")),m=he(g),f=he(p);if(l&&this.recordLastEdit(t,r),o=void 0!==r.repeatOverride?r.repeatOverride:r.getRepeat(),o>0&&c.explicitRepeat?c.repeatIsExplicit=!0:(c.noRepeat||!c.explicitRepeat&&0===o)&&(o=1,c.repeatIsExplicit=!1),r.selectedCharacter&&(c.selectedCharacter=d.selectedCharacter=r.selectedCharacter),c.repeat=o,K(e),s){var v=J[s](e,g,c,t,r);if(t.lastMotion=J[s],!v)return;if(c.toJumplist){var _=F.jumpList,b=_.cachedCursor;b?(Fe(e,b,v),delete _.cachedCursor):Fe(e,g,v)}v instanceof Array?(n=v[0],i=v[1]):i=v,i||(i=he(g)),t.visualMode?(t.visualBlock&&i.ch===1/0||(i=re(e,i)),n&&(n=re(e,n)),n=n||f,h.anchor=n,h.head=i,Ie(e),qe(e,t,"<",pe(n,i)?n:i),qe(e,t,">",pe(n,i)?i:n)):l||(i=re(e,i),e.setCursor(i.line,i.ch))}if(l){if(d.lastSel){n=f;var y=d.lastSel,w=Math.abs(y.head.line-y.anchor.line),C=Math.abs(y.head.ch-y.anchor.ch);i=y.visualLine?new a(f.line+w,f.ch):y.visualBlock?new a(f.line+w,f.ch+C):y.head.line==y.anchor.line?new a(f.line,f.ch+C):new a(f.line+w,f.ch),t.visualMode=!0,t.visualLine=y.visualLine,t.visualBlock=y.visualBlock,h=t.sel={anchor:n,head:i},Ie(e)}else t.visualMode&&(d.lastSel={anchor:he(h.anchor),head:he(h.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var S,x,k,N,L;if(t.visualMode){if(S=me(h.head,h.anchor),x=fe(h.head,h.anchor),k=t.visualLine||d.linewise,N=t.visualBlock?"block":k?"line":"char",L=Re(e,{anchor:S,head:x},N),k){var I=L.ranges;if("block"==N)for(var R=0;R<I.length;R++)I[R].head.ch=_e(e,I[R].head.line);else"line"==N&&(I[0].head=new a(I[0].head.line+1,0))}}else{if(S=he(n||f),x=he(i||m),pe(x,S)){var D=S;S=x,x=D}k=c.linewise||d.linewise,k?Ee(e,S,x):c.forward&&Pe(e,S,x),N="char";var M=!c.inclusive||k;L=Re(e,{anchor:S,head:x},N,M)}e.setSelections(L.ranges,L.primary),t.lastMotion=null,d.repeat=o,d.registerName=u,d.linewise=k;var P=te[l](e,d,L.ranges,f,i);t.visualMode&&Me(e,null!=P),P&&e.setCursor(P)}},recordLastEdit:function(e,t,i){var n=F.macroModeState;n.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=i,n.lastInsertModeChanges.changes=[],n.lastInsertModeChanges.expectCursorActivityForChange=!1,n.lastInsertModeChanges.visualBlock=e.visualBlock?e.sel.head.line-e.sel.anchor.line:0)}},J={moveToTopLine:function(e,t,i){var n=xt(e).top+i.repeat-1;return new a(n,Ae(e.getLine(n)))},moveToMiddleLine:function(e){var t=xt(e),i=Math.floor(.5*(t.top+t.bottom));return new a(i,Ae(e.getLine(i)))},moveToBottomLine:function(e,t,i){var n=xt(e).bottom-i.repeat+1;return new a(n,Ae(e.getLine(n)))},expandToLine:function(e,t,i){var n=t;return new a(n.line+i.repeat-1,1/0)},findNext:function(e,t,i){var n=et(e),o=n.getQuery();if(o){var r=!i.forward;return r=n.isReversed()?!r:r,bt(e,o),yt(e,r,o,i.repeat)}},findAndSelectNextInclusive:function(e,t,i,n,r){var s=et(e),c=s.getQuery();if(c){var l=!i.forward;l=s.isReversed()?!l:l;var d=wt(e,l,c,i.repeat,n);if(d){if(r.operator)return d;var u=d[0],h=new a(d[1].line,d[1].ch-1);if(n.visualMode){(n.visualLine||n.visualBlock)&&(n.visualLine=!1,n.visualBlock=!1,o["default"].signal(e,"vim-mode-change",{mode:"visual",subMode:""}));var g=n.sel.anchor;if(g)return s.isReversed()?i.forward?[g,u]:[g,h]:i.forward?[g,h]:[g,u]}else n.visualMode=!0,n.visualLine=!1,n.visualBlock=!1,o["default"].signal(e,"vim-mode-change",{mode:"visual",subMode:""});return l?[h,u]:[u,h]}}},goToMark:function(e,t,i,n){var o=kt(e,n,i.selectedCharacter);return o?i.linewise?{line:o.line,ch:Ae(e.getLine(o.line))}:o:null},moveToOtherHighlightedEnd:function(e,t,i,n){if(n.visualBlock&&i.sameLine){var o=n.sel;return[re(e,new a(o.anchor.line,o.head.ch)),re(e,new a(o.head.line,o.anchor.ch))]}return[n.sel.head,n.sel.anchor]},jumpToMark:function(e,t,i,n){for(var o=t,r=0;r<i.repeat;r++){var s=o;for(var c in n.marks)if(L(c)){var l=n.marks[c].find(),d=i.forward?pe(l,s):pe(s,l);if(!d&&(!i.linewise||l.line!=s.line)){var u=ge(s,o),h=i.forward?ve(s,l,o):ve(o,l,s);(u||h)&&(o=l)}}}return i.linewise&&(o=new a(o.line,Ae(e.getLine(o.line)))),o},moveByCharacters:function(e,t,i){var n=t,o=i.repeat,r=i.forward?n.ch+o:n.ch-o;return new a(n.line,r)},moveByLines:function(e,t,i,n){var o=t,r=o.ch;switch(n.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:r=n.lastHPos;break;default:n.lastHPos=r}var s=i.repeat+(i.repeatOffset||0),c=i.forward?o.line+s:o.line-s,l=e.firstLine(),d=e.lastLine(),u=e.findPosV(o,i.forward?s:-s,"line",n.lastHSPos),h=i.forward?u.line>c:u.line<c;return h&&(c=u.line,r=u.ch),c<l&&o.line==l?this.moveToStartOfLine(e,t,i,n):c>d&&o.line==d?je(e,t,i,n,!0):(i.toFirstChar&&(r=Ae(e.getLine(c)),n.lastHPos=r),n.lastHSPos=e.charCoords(new a(c,r),"div").left,new a(c,r))},moveByDisplayLines:function(e,t,i,n){var o=t;switch(n.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:n.lastHSPos=e.charCoords(o,"div").left}var r=i.repeat,s=e.findPosV(o,i.forward?r:-r,"line",n.lastHSPos);if(s.hitSide)if(i.forward){var c=e.charCoords(s,"div"),l={top:c.top+8,left:n.lastHSPos};s=e.coordsChar(l,"div")}else{var d=e.charCoords(new a(e.firstLine(),0),"div");d.left=n.lastHSPos,s=e.coordsChar(d,"div")}return n.lastHPos=s.ch,s},moveByPage:function(e,t,i){var n=t,o=i.repeat;return e.findPosV(n,i.forward?o:-o,"page")},moveByParagraph:function(e,t,i){var n=i.forward?1:-1;return Qe(e,t,i.repeat,n)},moveBySentence:function(e,t,i){var n=i.forward?1:-1;return Ze(e,t,i.repeat,n)},moveByScroll:function(e,t,i,n){var o=e.getScrollInfo(),r=null,s=i.repeat;s||(s=o.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(t,"local");i.repeat=s;r=J.moveByDisplayLines(e,t,i,n);if(!r)return null;var c=e.charCoords(r,"local");return e.scrollTo(null,o.top+c.top-a.top),r},moveByWords:function(e,t,i){return Ue(e,t,i.repeat,!!i.forward,!!i.wordEnd,!!i.bigWord)},moveTillCharacter:function(e,t,i){var n=i.repeat,o=$e(e,n,i.forward,i.selectedCharacter),r=i.forward?-1:1;return We(r,i),o?(o.ch+=r,o):null},moveToCharacter:function(e,t,i){var n=i.repeat;return We(0,i),$e(e,n,i.forward,i.selectedCharacter)||t},moveToSymbol:function(e,t,i){var n=i.repeat;return Ve(e,n,i.forward,i.selectedCharacter)||t},moveToColumn:function(e,t,i,n){var o=i.repeat;return n.lastHPos=o-1,n.lastHSPos=e.charCoords(t,"div").left,Ke(e,o)},moveToEol:function(e,t,i,n){return je(e,t,i,n,!1)},moveToFirstNonWhiteSpaceCharacter:function(e,t){var i=t;return new a(i.line,Ae(e.getLine(i.line)))},moveToMatchedSymbol:function(e,t){var i=t,n=i.line,o=i.ch,r=e.getLine(n);if(o<r.length){var s="<"===o||">"===o?/[(){}[\]<>]/:/[(){}[\]]/,c=e.findMatchingBracket(new a(n,o),{bracketRegex:s});return c.to}return i},moveToStartOfLine:function(e,t){return new a(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,i){var n=i.forward?e.lastLine():e.firstLine();return i.repeatIsExplicit&&(n=i.repeat-e.getOption("firstLineNumber")),new a(n,Ae(e.getLine(n)))},moveToStartOfDisplayLine:function(e){return e.execCommand("goLineLeft"),e.getCursor()},moveToEndOfDisplayLine:function(e){e.execCommand("goLineRight");var t=e.getCursor();return"before"==t.sticky&&t.ch--,t},textObjectManipulation:function(e,t,i,n){var o={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},r={"'":!0,'"':!0,"`":!0},s=i.selectedCharacter;"b"==s?s="(":"B"==s&&(s="{");var a,c=!i.textObjectInner;if(o[s])a=Ye(e,t,s,c);else if(r[s])a=Je(e,t,s,c);else if("W"===s)a=Te(e,c,!0,!0);else if("w"===s)a=Te(e,c,!0,!1);else if("p"===s)if(a=Qe(e,t,i.repeat,0,c),i.linewise=!0,n.visualMode)n.visualLine||(n.visualLine=!0);else{var l=n.inputState.operatorArgs;l&&(l.linewise=!0),a.end.line--}else{if("t"!==s)return null;a=Oe(e,t,c)}return e.state.vim.visualMode?Le(e,a.start,a.end):[a.start,a.end]},repeatLastCharacterSearch:function(e,t,i){var n=F.lastCharacterSearch,o=i.repeat,r=i.forward===n.forward,s=(n.increment?1:0)*(r?-1:1);e.moveH(-s,"char"),i.inclusive=!!r;var a=$e(e,o,r,n.selectedCharacter);return a?(a.ch+=s,a):(e.moveH(s,"char"),t)}};function X(e,t){J[e]=t}function ee(e,t){for(var i=[],n=0;n<t;n++)i.push(e);return i}var te={change:function(e,t,i){var n,r,s=e.state.vim,c=i[0].anchor,l=i[0].head;if(s.visualMode)if(t.fullLine)l.ch=Number.MAX_VALUE,l.line--,e.setSelection(c,l),r=e.getSelection(),e.replaceSelections(""),n=c;else{r=e.getSelection();var d=ee("",i.length);e.replaceSelections(d),n=me(i[0].head,i[0].anchor)}else{r=e.getRange(c,l);var u=s.lastEditInputState||{};if("moveByWords"==u.motion&&!D(r)){var h=/\s+$/.exec(r);h&&u.motionArgs&&u.motionArgs.forward&&(l=ae(l,0,-h[0].length),r=r.slice(0,-h[0].length))}var g=new a(c.line-1,Number.MAX_VALUE),p=e.firstLine()==e.lastLine();l.line>e.lastLine()&&t.linewise&&!p?e.replaceRange("",g,l):e.replaceRange("",c,l),t.linewise&&(p||(e.setCursor(g),o["default"].commands.newlineAndIndent(e)),c.ch=Number.MAX_VALUE),n=c}F.registerController.pushText(t.registerName,"change",r,t.linewise,i.length>1),ne.enterInsertMode(e,{head:n},e.state.vim)},delete:function(e,t,i){var n,o;e.pushUndoStop();var r=e.state.vim;if(r.visualBlock){o=e.getSelection();var s=ee("",i.length);e.replaceSelections(s),n=me(i[0].head,i[0].anchor)}else{var c=i[0].anchor,l=i[0].head;t.linewise&&l.line!=e.firstLine()&&c.line==e.lastLine()&&c.line==l.line-1&&(c.line==e.firstLine()?c.ch=0:c=new a(c.line-1,_e(e,c.line-1))),o=e.getRange(c,l),e.replaceRange("",c,l),n=c,t.linewise&&(n=J.moveToFirstNonWhiteSpaceCharacter(e,c))}return F.registerController.pushText(t.registerName,"delete",o,t.linewise,r.visualBlock),re(e,n)},indent:function(e,t,i){var n=e.state.vim,o=i[0].anchor.line,r=n.visualBlock?i[i.length-1].anchor.line:i[0].head.line,s=n.visualMode?t.repeat:1;t.linewise&&r--,e.pushUndoStop();for(var a=o;a<=r;a++)for(var c=0;c<s;c++)e.indentLine(a,t.indentRight);return e.pushUndoStop(),J.moveToFirstNonWhiteSpaceCharacter(e,i[0].anchor)},indentAuto:function(e,t,i){return e.execCommand("indentAuto"),J.moveToFirstNonWhiteSpaceCharacter(e,i[0].anchor)},changeCase:function(e,t,i,n,o){for(var r=e.getSelections(),s=[],a=t.toLower,c=0;c<r.length;c++){var l=r[c],d="";if(!0===a)d=l.toLowerCase();else if(!1===a)d=l.toUpperCase();else for(var u=0;u<l.length;u++){var h=l.charAt(u);d+=R(h)?h.toLowerCase():h.toUpperCase()}s.push(d)}return e.replaceSelections(s),t.shouldMoveCursor?o:!e.state.vim.visualMode&&t.linewise&&i[0].anchor.line+1==i[0].head.line?J.moveToFirstNonWhiteSpaceCharacter(e,n):t.linewise?n:me(i[0].anchor,i[0].head)},yank:function(e,t,i,n){var o=e.state.vim,r=e.getSelection(),s=o.visualMode?me(o.sel.anchor,o.sel.head,i[0].head,i[0].anchor):n;return F.registerController.pushText(t.registerName,"yank",r,t.linewise,o.visualBlock),s}};function ie(e,t){te[e]=t}var ne={jumpListWalk:function(e,t,i){if(!i.visualMode){var n=t.repeat,o=t.forward,r=F.jumpList,s=r.move(e,o?n:-n),a=s?s.find():void 0;a=a||e.getCursor(),e.setCursor(a)}},scroll:function(e,t,i){if(!i.visualMode){var n=t.repeat||1,o=e.defaultTextHeight(),r=e.getScrollInfo().top,s=o*n,a=t.forward?r+s:r-s,c=he(e.getCursor()),l=e.charCoords(c,"local");if(t.forward)a>l.top?(c.line+=(a-l.top)/o,c.line=Math.ceil(c.line),e.setCursor(c),l=e.charCoords(c,"local"),e.scrollTo(null,l.top)):e.scrollTo(null,a);else{var d=a+e.getScrollInfo().clientHeight;d<l.bottom?(c.line-=(l.bottom-d)/o,c.line=Math.floor(c.line),e.setCursor(c),l=e.charCoords(c,"local"),e.scrollTo(null,l.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,t){var i=e.getCursor().line,n=e.charCoords(new a(i,0),"local"),o=e.getScrollInfo().clientHeight,r=n.top,s=n.bottom-r;switch(t.position){case"center":r=r-o/2+s;break;case"bottom":r=r-o+s;break}e.moveCurrentLineTo(r)},replayMacro:function(e,t,i){var n=t.selectedCharacter,o=t.repeat,r=F.macroModeState;"@"==n?n=r.latestRegister:r.latestRegister=n;while(o--)At(e,i,r,n)},enterMacroRecordMode:function(e,t){var i=F.macroModeState,n=t.selectedCharacter;F.registerController.isValidRegister(n)&&i.enterMacroRecordMode(e,n)},toggleOverwrite:function(e){e.state.overwrite?(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),o["default"].signal(e,"vim-mode-change",{mode:"insert"})):(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),o["default"].signal(e,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(e,t,i){if(!e.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=t&&t.repeat||1;var n=t?t.insertAt:null,r=i.sel,s=t.head||e.getCursor("head"),c=e.listSelections().length;if("eol"==n)s=new a(s.line,_e(e,s.line));else if("bol"==n)s=new a(s.line,0);else if("charAfter"==n)s=ae(s,0,1);else if("firstNonBlank"==n)s=J.moveToFirstNonWhiteSpaceCharacter(e,s);else if("startOfSelectedArea"==n){if(!i.visualMode)return;i.visualBlock?(s=new a(Math.min(r.head.line,r.anchor.line),Math.min(r.head.ch,r.anchor.ch)),c=Math.abs(r.head.line-r.anchor.line)+1):s=r.head.line<r.anchor.line?r.head:new a(r.anchor.line,0)}else if("endOfSelectedArea"==n){if(!i.visualMode)return;i.visualBlock?(s=new a(Math.min(r.head.line,r.anchor.line),Math.max(r.head.ch,r.anchor.ch)+1),c=Math.abs(r.head.line-r.anchor.line)+1):s=r.head.line>=r.anchor.line?ae(r.head,0,1):new a(r.anchor.line,0)}else if("inplace"==n){if(i.visualMode)return}else"lastEdit"==n&&(s=Nt(e)||s);e.setOption("disableInput",!1),t&&t.replace?(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),o["default"].signal(e,"vim-mode-change",{mode:"replace"})):(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),o["default"].signal(e,"vim-mode-change",{mode:"insert"})),F.macroModeState.isPlaying||(e.on("change",Wt),o["default"].on(e.getInputField(),"keydown",zt)),i.visualMode&&Me(e),Se(e,s,c)}},toggleVisualMode:function(e,t,i){var n,r=t.repeat,s=e.getCursor();i.visualMode?i.visualLine^t.linewise||i.visualBlock^t.blockwise?(i.visualLine=!!t.linewise,i.visualBlock=!!t.blockwise,o["default"].signal(e,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),Ie(e)):Me(e):(i.visualMode=!0,i.visualLine=!!t.linewise,i.visualBlock=!!t.blockwise,n=re(e,new a(s.line,s.ch+r-1)),i.sel={anchor:s,head:n},o["default"].signal(e,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""}),Ie(e),qe(e,i,"<",me(s,n)),qe(e,i,">",fe(s,n)))},reselectLastSelection:function(e,t,i){var n=i.lastSelection;if(i.visualMode&&Ne(e,i),n){var r=n.anchorMark.find(),s=n.headMark.find();if(!r||!s)return;i.sel={anchor:r,head:s},i.visualMode=!0,i.visualLine=n.visualLine,i.visualBlock=n.visualBlock,Ie(e),qe(e,i,"<",me(r,s)),qe(e,i,">",fe(r,s)),o["default"].signal(e,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":i.visualBlock?"blockwise":""})}},joinLines:function(e,t,i){var n,o;if(i.visualMode){if(n=e.getCursor("anchor"),o=e.getCursor("head"),pe(o,n)){var r=o;o=n,n=r}o.ch=_e(e,o.line)-1}else{var s=Math.max(t.repeat,2);n=e.getCursor(),o=re(e,new a(n.line+s-1,1/0))}for(var c=0,l=n.line;l<o.line;l++){c=_e(e,n.line);r=new a(n.line+1,_e(e,n.line+1));var d=e.getRange(n,r);d=t.keepSpaces?d.replace(/\n\r?/g,""):d.replace(/\n\s*/g," "),e.replaceRange(d,n,r)}var u=new a(n.line,c);i.visualMode&&Me(e,!1),e.setCursor(u)},newLineAndEnterInsertMode:function(e,t,i){if(!e.getOption("readOnly")){i.insertMode=!0;var n=he(e.getCursor());if(n.line!==e.firstLine()||t.after){n.line=t.after?n.line:n.line-1,n.ch=_e(e,n.line),e.setCursor(n);var r=o["default"].commands.newlineAndIndentContinueComment||o["default"].commands.newlineAndIndent;r(e)}else e.replaceRange("\n",new a(e.firstLine(),0)),e.setCursor(e.firstLine(),0);this.enterInsertMode(e,{repeat:t.repeat},i)}},paste:function(e,t,i){var n=he(e.getCursor()),o=F.registerController.getRegister(t.registerName),r=o.toString();if(r){if(t.matchIndent){var s=e.getOption("tabSize"),c=function(e){var t=e.split("\t").length-1,i=e.split(" ").length-1;return t*s+1*i},l=e.getLine(e.getCursor().line),d=c(l.match(/^\s*/)[0]),u=r.replace(/\n$/,""),h=r!==u,g=c(r.match(/^\s*/)[0]);r=u.replace(/^\s*/gm,(function(t){var i=d+(c(t)-g);if(i<0)return"";if(e.getOption("indentWithTabs")){var n=Math.floor(i/s);return Array(n+1).join("\t")}return Array(i+1).join(" ")}));r+=h?"\n":""}if(t.repeat>1)r=Array(t.repeat+1).join(r);var p,m,f=o.linewise,v=o.blockwise;if(v){r=r.split("\n"),f&&r.pop();for(var _=0;_<r.length;_++)r[_]=""==r[_]?" ":r[_];n.ch+=t.after?1:0,n.ch=Math.min(_e(e,n.line),n.ch)}else f?i.visualMode?r=i.visualLine?r.slice(0,-1):"\n"+r.slice(0,r.length-1)+"\n":t.after?(r="\n"+r.slice(0,r.length-1),n.ch=_e(e,n.line)):n.ch=0:n.ch+=t.after?1:0;if(i.visualMode){var b;i.lastPastedText=r;var y=ke(e,i),w=y[0],C=y[1],S=e.getSelection(),x=e.listSelections(),k=new Array(x.length).join("1").split("1");i.lastSelection&&(b=i.lastSelection.headMark.find()),F.registerController.unnamedRegister.setText(S),v?(e.replaceSelections(k),C=new a(w.line+r.length-1,w.ch),e.setCursor(w),Ce(e,C),e.replaceSelections(r),p=w):i.visualBlock?(e.replaceSelections(k),e.setCursor(w),e.replaceRange(r,w,w),p=w):(e.replaceRange(r,w,C),p=e.posFromIndex(e.indexFromPos(w)+r.length-1)),b&&(i.lastSelection.headMark=e.setBookmark(b)),f&&(p.ch=0)}else if(v){e.setCursor(n);for(_=0;_<r.length;_++){var N=n.line+_;N>e.lastLine()&&e.replaceRange("\n",new a(N,0));var L=_e(e,N);L<n.ch&&we(e,N,n.ch)}e.setCursor(n),Ce(e,new a(n.line+r.length-1,n.ch)),e.replaceSelections(r),p=n}else e.replaceRange(r,n),f&&t.after?p=new a(n.line+1,Ae(e.getLine(n.line+1))):f&&!t.after?p=new a(n.line,Ae(e.getLine(n.line))):!f&&t.after?(m=e.indexFromPos(n),p=e.posFromIndex(m+r.length-1)):(m=e.indexFromPos(n),p=e.posFromIndex(m+r.length));i.visualMode&&Me(e,!1),e.setCursor(p)}},undo:function(e,t){e.operation((function(){ue(e,o["default"].commands.undo,t.repeat)(),e.setCursor(e.getCursor("anchor"))}))},redo:function(e,t){ue(e,o["default"].commands.redo,t.repeat)()},setRegister:function(e,t,i){i.inputState.registerName=t.selectedCharacter},setMark:function(e,t,i){var n=t.selectedCharacter;qe(e,i,n,e.getCursor())},replace:function(e,t,i){var n,r,s=t.selectedCharacter,c=e.getCursor(),l=e.listSelections();if(i.visualMode)c=e.getCursor("start"),r=e.getCursor("end");else{var d=e.getLine(c.line);n=c.ch+t.repeat,n>d.length&&(n=d.length),r=new a(c.line,n)}if("\n"==s)i.visualMode||e.replaceRange("",c,r),(o["default"].commands.newlineAndIndentContinueComment||o["default"].commands.newlineAndIndent)(e);else{var u=e.getRange(c,r);if(u=u.replace(/[^\n]/g,s),i.visualBlock){var h=new Array(e.getOption("tabSize")+1).join(" ");u=e.getSelection(),u=u.replace(/\t/g,h).replace(/[^\n]/g,s).split("\n"),e.replaceSelections(u)}else e.replaceRange(u,c,r);i.visualMode?(c=pe(l[0].anchor,l[0].head)?l[0].anchor:l[0].head,e.setCursor(c),Me(e,!1)):e.setCursor(ae(r,0,-1))}},incrementNumberToken:function(e,t){var i,n,o,r,s=e.getCursor(),c=e.getLine(s.line),l=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;while(null!==(i=l.exec(c)))if(n=i.index,o=n+i[0].length,s.ch<o)break;if((t.backtrack||!(o<=s.ch))&&i){var d=i[2]||i[4],u=i[3]||i[5],h=t.increase?1:-1,g={"0b":2,0:8,"":10,"0x":16}[d.toLowerCase()],p=parseInt(i[1]+u,g)+h*t.repeat;r=p.toString(g);var m=d?new Array(u.length-r.length+1+i[1].length).join("0"):"";r="-"===r.charAt(0)?"-"+d+m+r.substr(1):d+m+r;var f=new a(s.line,n),v=new a(s.line,o);e.replaceRange(r,f,v),e.setCursor(new a(s.line,n+r.length-1))}},repeatLastEdit:function(e,t,i){var n=i.lastEditInputState;if(n){var o=t.repeat;o&&t.repeatIsExplicit?i.lastEditInputState.repeatOverride=o:o=i.lastEditInputState.repeatOverride||o,Ut(e,i,o,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Mt};function oe(e,t){ne[e]=t}function re(e,t){var i=e.state.vim,n=i.insertMode||i.visualMode,o=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),r=_e(e,o)-1+!!n,s=Math.min(Math.max(0,t.ch),r);return new a(o,s)}function se(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function ae(e,t,i){return"object"===s(t)&&(i=t.ch,t=t.line),new a(e.line+t,e.ch+i)}function ce(e,t,i,n){for(var o,r=[],s=[],a=0;a<t.length;a++){var c=t[a];"insert"==i&&"insert"!=c.context||c.context&&c.context!=i||n.operator&&"action"==c.type||!(o=le(e,c.keys))||("partial"==o&&r.push(c),"full"==o&&s.push(c))}return{partial:r.length&&r,full:s.length&&s}}function le(e,t){if("<character>"==t.slice(-11)){var i=t.length-11,n=e.slice(0,i),o=t.slice(0,i);return n==o&&e.length>i?"full":0==o.indexOf(n)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function de(e){var t=/^.*(<[^>]+>)$/.exec(e),i=t?t[1]:e.slice(-1);if(i.length>1)switch(i){case"<CR>":i="\n";break;case"<Space>":i=" ";break;default:i="";break}return i}function ue(e,t,i){return function(){for(var n=0;n<i;n++)t(e)}}function he(e){return new a(e.line,e.ch)}function ge(e,t){return e.ch==t.ch&&e.line==t.line}function pe(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function me(e,t){return arguments.length>2&&(t=me.apply(void 0,Array.prototype.slice.call(arguments,1))),pe(e,t)?e:t}function fe(e,t){return arguments.length>2&&(t=fe.apply(void 0,Array.prototype.slice.call(arguments,1))),pe(e,t)?t:e}function ve(e,t,i){var n=pe(e,t),o=pe(t,i);return n&&o}function _e(e,t){return e.getLine(t).length}function be(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function ye(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function we(e,t,i){var n=_e(e,t),o=new Array(i-n+1).join(" ");e.setCursor(new a(t,n)),e.replaceRange(o,e.getCursor())}function Ce(e,t){var i=[],n=e.listSelections(),o=he(e.clipPos(t)),r=!ge(t,o),s=e.getCursor("head"),c=xe(n,s),l=ge(n[c].head,n[c].anchor),d=n.length-1,u=d-c>c?d:0,h=n[u].anchor,g=Math.min(h.line,o.line),p=Math.max(h.line,o.line),m=h.ch,f=o.ch,v=n[u].head.ch-m,_=f-m;v>0&&_<=0?(m++,r||f--):v<0&&_>=0?(m--,l||f++):v<0&&-1==_&&(m--,f++);for(var b=g;b<=p;b++){var y={anchor:new a(b,m),head:new a(b,f)};i.push(y)}return e.setSelections(i),t.ch=f,h.ch=m,h}function Se(e,t,i){for(var n=[],o=0;o<i;o++){var r=ae(t,o,0);n.push({anchor:r,head:r})}e.setSelections(n,0)}function xe(e,t,i){for(var n=0;n<e.length;n++){var o="head"!=i&&ge(e[n].anchor,t),r="anchor"!=i&&ge(e[n].head,t);if(o||r)return n}return-1}function ke(e,t){var i=t.lastSelection,n=function(){var t=e.listSelections(),i=t[0],n=t[t.length-1],o=pe(i.anchor,i.head)?i.anchor:i.head,r=pe(n.anchor,n.head)?n.head:n.anchor;return[o,r]},o=function(){var t=e.getCursor(),n=e.getCursor(),o=i.visualBlock;if(o){var r=o.width,s=o.height;n=new a(t.line+s,t.ch+r);for(var c=[],l=t.line;l<n.line;l++){var d=new a(l,t.ch),u=new a(l,n.ch),h={anchor:d,head:u};c.push(h)}e.setSelections(c)}else{var g=i.anchorMark.find(),p=i.headMark.find(),m=p.line-g.line,f=p.ch-g.ch;n={line:n.line+m,ch:m?n.ch:f+n.ch},i.visualLine&&(t=new a(t.line,0),n=new a(n.line,_e(e,n.line))),e.setSelection(t,n)}return[t,n]};return t.visualMode?n():o()}function Ne(e,t){var i=t.sel.anchor,n=t.sel.head;t.lastPastedText&&(n=e.posFromIndex(e.indexFromPos(i)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(i),headMark:e.setBookmark(n),anchor:he(i),head:he(n),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function Le(e,t,i){var n,o=e.state.vim.sel,r=o.head,s=o.anchor;return pe(i,t)&&(n=i,i=t,t=n),pe(r,s)?(r=me(t,r),s=fe(s,i)):(s=me(t,s),r=fe(r,i),r=ae(r,0,-1),-1==r.ch&&r.line!=e.firstLine()&&(r=new a(r.line-1,_e(e,r.line-1)))),[s,r]}function Ie(e,t,i){var n=e.state.vim;t=t||n.sel;i=i||n.visualLine?"line":n.visualBlock?"block":"char";var o=Re(e,t,i);e.setSelections(o.ranges,o.primary)}function Re(e,t,i,n){var o=he(t.head),r=he(t.anchor);if("char"==i){var s=n||pe(t.head,t.anchor)?0:1,c=pe(t.head,t.anchor)?1:0;return o=ae(t.head,0,s),r=ae(t.anchor,0,c),{ranges:[{anchor:r,head:o}],primary:0}}if("line"==i){if(pe(t.head,t.anchor))o.ch=0,r.ch=_e(e,r.line);else{r.ch=0;var l=e.lastLine();o.line>l&&(o.line=l),o.ch=_e(e,o.line)}return{ranges:[{anchor:r,head:o}],primary:0}}if("block"==i){var d=Math.min(r.line,o.line),u=r.ch,h=Math.max(r.line,o.line),g=o.ch;u<g?g+=1:u+=1;for(var p=h-d+1,m=o.line==d?0:p-1,f=[],v=0;v<p;v++)f.push({anchor:new a(d+v,u),head:new a(d+v,g)});return{ranges:f,primary:m}}}function De(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=me(t,e.getCursor("anchor"))),t}function Me(e,t){var i=e.state.vim;!1!==t&&e.setCursor(re(e,i.sel.head)),Ne(e,i),i.visualMode=!1,i.visualLine=!1,i.visualBlock=!1,i.insertMode||o["default"].signal(e,"vim-mode-change",{mode:"normal"})}function Pe(e,t,i){var n=e.getRange(t,i);if(/\n\s*$/.test(n)){var o=n.split("\n");o.pop();for(var r=o.pop();o.length>0&&r&&D(r);r=o.pop())i.line--,i.ch=0;r?(i.line--,i.ch=_e(e,i.line)):i.ch=0}}function Ee(e,t,i){t.ch=0,i.ch=0,i.line++}function Ae(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function Te(e,t,i,n,o){var r=De(e),s=e.getLine(r.line),c=r.ch,l=o?v[0]:_[0];while(!l(s.charAt(c)))if(c++,c>=s.length)return null;n?l=_[0]:(l=v[0],l(s.charAt(c))||(l=v[1]));var d=c,u=c;while(l(s.charAt(d))&&d<s.length)d++;while(l(s.charAt(u))&&u>=0)u--;if(u++,t){var h=d;while(/\s/.test(s.charAt(d))&&d<s.length)d++;if(h==d){var g=u;while(/\s/.test(s.charAt(u-1))&&u>0)u--;u||(u=g)}}return{start:new a(r.line,u),end:new a(r.line,d)}}function Oe(e,t,i){var n=t;if(!o["default"].findMatchingTag||!o["default"].findEnclosingTag)return{start:n,end:n};var r=o["default"].findMatchingTag(e,t)||o["default"].findEnclosingTag(e,t);return r&&r.open&&r.close?i?{start:r.open.from,end:r.close.to}:{start:r.open.to,end:r.close.from}:{start:n,end:n}}function Fe(e,t,i){ge(t,i)||F.jumpList.add(e,t,i)}function We(e,t){F.lastCharacterSearch.increment=e,F.lastCharacterSearch.forward=t.forward,F.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var Be={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},He={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/^#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function Ve(e,t,i,n){var o=he(e.getCursor()),r=i?1:-1,s=i?e.lineCount():-1,c=o.ch,l=o.line,d=e.getLine(l),u={lineText:d,nextCh:d.charAt(c),lastCh:null,index:c,symb:n,reverseSymb:(i?{")":"(","}":"{"}:{"(":")","{":"}"})[n],forward:i,depth:0,curMoveThrough:!1},h=Be[n];if(!h)return o;var g=He[h].init,p=He[h].isComplete;g&&g(u);while(l!==s&&t){if(u.index+=r,u.nextCh=u.lineText.charAt(u.index),!u.nextCh){if(l+=r,u.lineText=e.getLine(l)||"",r>0)u.index=0;else{var m=u.lineText.length;u.index=m>0?m-1:0}u.nextCh=u.lineText.charAt(u.index)}p(u)&&(o.line=l,o.ch=u.index,t--)}return u.nextCh||u.curMoveThrough?new a(l,u.index):o}function ze(e,t,i,n,o){var r=t.line,s=t.ch,a=e.getLine(r),c=i?1:-1,l=n?_:v;if(o&&""==a){if(r+=c,a=e.getLine(r),!N(e,r))return null;s=i?0:a.length}while(1){if(o&&""==a)return{from:0,to:0,line:r};var d=c>0?a.length:-1,u=d,h=d;while(s!=d){for(var g=!1,p=0;p<l.length&&!g;++p)if(l[p](a.charAt(s))){u=s;while(s!=d&&l[p](a.charAt(s)))s+=c;if(h=s,g=u!=h,u==t.ch&&r==t.line&&h==u+c)continue;return{from:Math.min(u,h+1),to:Math.max(u,h),line:r}}g||(s+=c)}if(r+=c,!N(e,r))return null;a=e.getLine(r),s=c>0?0:a.length}}function Ue(e,t,i,n,o,r){var s=he(t),c=[];(n&&!o||!n&&o)&&i++;for(var l=!(n&&o),d=0;d<i;d++){var u=ze(e,t,n,r,l);if(!u){var h=_e(e,e.lastLine());c.push(n?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}c.push(u),t=new a(u.line,n?u.to-1:u.from)}var g=c.length!=i,p=c[0],m=c.pop();return n&&!o?(g||p.from==s.ch&&p.line==s.line||(m=c.pop()),new a(m.line,m.from)):n&&o?new a(m.line,m.to-1):!n&&o?(g||p.to==s.ch&&p.line==s.line||(m=c.pop()),new a(m.line,m.to)):new a(m.line,m.from)}function je(e,t,i,n,o){var r=t,s=new a(r.line+i.repeat-1,1/0),c=e.clipPos(s);return c.ch--,o||(n.lastHPos=1/0,n.lastHSPos=e.charCoords(c,"div").left),s}function $e(e,t,i,n){for(var o,r=e.getCursor(),s=r.ch,c=0;c<t;c++){var l=e.getLine(r.line);if(o=Ge(s,l,n,i,!0),-1==o)return null;s=o}return new a(e.getCursor().line,o)}function Ke(e,t){var i=e.getCursor().line;return re(e,new a(i,t-1))}function qe(e,t,i,n){P(i,x)&&(t.marks[i]&&t.marks[i].clear(),t.marks[i]=e.setBookmark(n))}function Ge(e,t,i,n,o){var r;return n?(r=t.indexOf(i,e+1),-1==r||o||(r-=1)):(r=t.lastIndexOf(i,e-1),-1==r||o||(r+=1)),r}function Qe(e,t,i,n,o){var r,s,c=t.line,l=e.firstLine(),d=e.lastLine(),u=c;function h(t){return!e.getLine(t)}function g(e,t,i){return i?h(e)!=h(e+t):!h(e)&&h(e+t)}if(n){while(l<=u&&u<=d&&i>0)g(u,n)&&i--,u+=n;return new a(u,0)}var p=e.state.vim;if(p.visualLine&&g(c,1,!0)){var m=p.sel.anchor;g(m.line,-1,!0)&&(o&&m.line==c||(c+=1))}var f=h(c);for(u=c;u<=d&&i;u++)g(u,1,!0)&&(o&&h(u)==f||i--);for(s=new a(u,0),u>d&&!f?f=!0:o=!1,u=c;u>l;u--)if((!o||h(u)==f||u==c)&&g(u,-1,!0))break;return r=new a(u,0),{start:r,end:s}}function Ze(e,t,i,n){function o(e,t){if(t.pos+t.dir<0||t.pos+t.dir>=t.line.length){if(t.ln+=t.dir,!N(e,t.ln))return t.line=null,t.ln=null,void(t.pos=null);t.line=e.getLine(t.ln),t.pos=t.dir>0?0:t.line.length-1}else t.pos+=t.dir}function r(e,t,i,n){var r=e.getLine(t),s=""===r,a={line:r,ln:t,pos:i,dir:n},c={ln:a.ln,pos:a.pos},l=""===a.line;o(e,a);while(null!==a.line){if(c.ln=a.ln,c.pos=a.pos,""===a.line&&!l)return{ln:a.ln,pos:a.pos};if(s&&""!==a.line&&!D(a.line[a.pos]))return{ln:a.ln,pos:a.pos};!M(a.line[a.pos])||s||a.pos!==a.line.length-1&&!D(a.line[a.pos+1])||(s=!0),o(e,a)}r=e.getLine(c.ln);c.pos=0;for(var d=r.length-1;d>=0;--d)if(!D(r[d])){c.pos=d;break}return c}function s(e,t,i,n){var r=e.getLine(t),s={line:r,ln:t,pos:i,dir:n},a={ln:s.ln,pos:null},c=""===s.line;o(e,s);while(null!==s.line){if(""===s.line&&!c)return null!==a.pos?a:{ln:s.ln,pos:s.pos};if(M(s.line[s.pos])&&null!==a.pos&&(s.ln!==a.ln||s.pos+1!==a.pos))return a;""===s.line||D(s.line[s.pos])||(c=!1,a={ln:s.ln,pos:s.pos}),o(e,s)}r=e.getLine(a.ln);a.pos=0;for(var l=0;l<r.length;++l)if(!D(r[l])){a.pos=l;break}return a}var c={ln:t.line,pos:t.ch};while(i>0)c=n<0?s(e,c.ln,c.pos,n):r(e,c.ln,c.pos,n),i--;return new a(c.ln,c.pos)}function Ye(e,t,i,n){var o,r,s=t,c={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[i],l={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[i],d=e.getLine(s.line).charAt(s.ch),u=d===l?1:0;if(o=e.scanForBracket(new a(s.line,s.ch+u),-1,void 0,{bracketRegex:c}),r=e.scanForBracket(new a(s.line,s.ch+u),1,void 0,{bracketRegex:c}),!o||!r)return{start:s,end:s};if(o=o.pos,r=r.pos,o.line==r.line&&o.ch>r.ch||o.line>r.line){var h=o;o=r,r=h}return n?r.ch+=1:o.ch+=1,{start:o,end:r}}function Je(e,t,i,n){var o,r,s,c,l=he(t),d=e.getLine(l.line),u=d.split(""),h=u.indexOf(i);if(l.ch<h?l.ch=h:h<l.ch&&u[l.ch]==i&&(r=l.ch,--l.ch),u[l.ch]!=i||r)for(s=l.ch;s>-1&&!o;s--)u[s]==i&&(o=s+1);else o=l.ch+1;if(o&&!r)for(s=o,c=u.length;s<c&&!r;s++)u[s]==i&&(r=s);return o&&r?(n&&(--o,++r),{start:new a(l.line,o),end:new a(l.line,r)}):{start:l,end:l}}function Xe(){}function et(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Xe)}function tt(e){return nt(e,"/")}function it(e){return ot(e,"/")}function nt(e,t){var i=ot(e,t)||[];if(!i.length)return[];var n=[];if(0===i[0]){for(var o=0;o<i.length;o++)"number"==typeof i[o]&&n.push(e.substring(i[o]+1,i[o+1]));return n}}function ot(e,t){t||(t="/");for(var i=!1,n=[],o=0;o<e.length;o++){var r=e.charAt(o);i||r!=t||n.push(o),i=!i&&"\\"==r}return n}function rt(e){for(var t="|(){",i="}",n=!1,o=[],r=-1;r<e.length;r++){var s=e.charAt(r)||"",a=e.charAt(r+1)||"",c=a&&-1!=t.indexOf(a);n?("\\"===s&&c||o.push(s),n=!1):"\\"===s?(n=!0,a&&-1!=i.indexOf(a)&&(c=!0),c&&"\\"!==a||o.push(s)):(o.push(s),c&&"\\"!==a&&o.push("\\"))}return o.join("")}A("pcre",!0,"boolean"),Xe.prototype={getQuery:function(){return F.query},setQuery:function(e){F.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return F.isReversed},setReversed:function(e){F.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var st={"\\n":"\n","\\r":"\r","\\t":"\t"};function at(e){for(var t=!1,i=[],n=-1;n<e.length;n++){var o=e.charAt(n)||"",r=e.charAt(n+1)||"";st[o+r]?(i.push(st[o+r]),n++):t?(i.push(o),t=!1):"\\"===o?(t=!0,I(r)||"$"===r?i.push("$"):"/"!==r&&"\\"!==r&&i.push("\\")):("$"===o&&i.push("$"),i.push(o),"/"===r&&i.push("\\"))}return i.join("")}var ct={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t","\\&":"&"};function lt(e){var t=new o["default"].StringStream(e),i=[];while(!t.eol()){while(t.peek()&&"\\"!=t.peek())i.push(t.next());var n=!1;for(var r in ct)if(t.match(r,!0)){n=!0,i.push(ct[r]);break}n||i.push(t.next())}return i.join("")}function dt(e,t,i){var n=F.registerController.getRegister("/");if(n.setText(e),e instanceof RegExp)return e;var o,r,s=it(e);if(s.length){o=e.substring(0,s[0]);var a=e.substring(s[0]);r=-1!=a.indexOf("i")}else o=e;if(!o)return null;O("pcre")||(o=rt(o)),i&&(t=/^[^A-Z]*$/.test(o));var c=new RegExp(o,t||r?"im":"m");return c}function ut(e){"string"===typeof e&&(e=document.createElement(e));for(var t,i=1;i<arguments.length;i++)if(t=arguments[i])if("object"!==s(t)&&(t=document.createTextNode(t)),t.nodeType)e.appendChild(t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&("$"===n[0]?e.style[n.slice(1)]=t[n]:e.setAttribute(n,t[n]));return e}function ht(e,t){var i=ut("pre",{$color:"red",class:"cm-vim-message"},t);e.openNotification?e.openNotification(i,{bottom:!0,duration:5e3}):alert(i.innerText)}function gt(e,t){return ut(document.createDocumentFragment(),ut("span",{$fontFamily:"monospace",$whiteSpace:"pre"},e,ut("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})),t&&ut("span",{$color:"#888"},t))}function pt(e,t){var i=gt(t.prefix,t.desc);if(e.openDialog)e.openDialog(i,t.onClose,{onKeyDown:t.onKeyDown,onKeyUp:t.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:t.value});else{var n="";"string"!=typeof t.prefix&&t.prefix&&(n+=t.prefix.textContent),t.desc&&(n+=" "+t.desc),t.onClose(prompt(n,""))}}function mt(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var i=["global","multiline","ignoreCase","source"],n=0;n<i.length;n++){var o=i[n];if(e[o]!==t[o])return!1}return!0}return!1}function ft(e,t,i,n){if(t){var o=et(e),r=dt(t,!!i,!!n);if(r)return bt(e,r),mt(r,o.getQuery())||o.setQuery(r),r}}function vt(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(i){if(!t||i.sol()){var n=i.match(e,!1);if(n)return 0==n[0].length?(i.next(),"searching"):i.sol()||(i.backUp(1),e.exec(i.next()+n[0]))?(i.match(e),"searching"):(i.next(),null);while(!i.eol())if(i.next(),i.match(e,!1))break}else i.skipToEnd()},query:e}}var _t=0;function bt(e,t){clearTimeout(_t),_t=setTimeout((function(){if(e.state.vim){var i=et(e),n=i.getOverlay();n&&t==n.query||(n&&e.removeOverlay(n),n=vt(t),e.addOverlay(n),e.showMatchesOnScrollbar&&(i.getScrollbarAnnotate()&&i.getScrollbarAnnotate().clear(),i.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),i.setOverlay(n))}}),50)}function yt(e,t,i,n){return void 0===n&&(n=1),e.operation((function(){for(var o=e.getCursor(),r=e.getSearchCursor(i,o),s=0;s<n;s++){var c=r.find(t);if(0==s&&c&&ge(r.from(),o)){var l=t?r.from():r.to();c=r.find(t),c&&!c[0]&&ge(r.from(),l)&&e.getLine(l.line).length==l.ch&&(c=r.find(t))}if(!c&&(r=e.getSearchCursor(i,t?new a(e.lastLine()):new a(e.firstLine(),0)),!r.find(t)))return}return r.from()}))}function wt(e,t,i,n,o){return void 0===n&&(n=1),e.operation((function(){var r=e.getCursor(),s=e.getSearchCursor(i,r),c=s.find(!t);!o.visualMode&&c&&ge(s.from(),r)&&s.find(!t);for(var l=0;l<n;l++)if(c=s.find(t),!c&&(s=e.getSearchCursor(i,t?new a(e.lastLine()):new a(e.firstLine(),0)),!s.find(t)))return;return[s.from(),s.to()]}))}function Ct(e){var t=et(e);e.removeOverlay(et(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function St(e,t,i){return"number"!=typeof e&&(e=e.line),t instanceof Array?P(e,t):"number"==typeof i?e>=t&&e<=i:e==t}function xt(e){var t=e.getScrollInfo(),i=6,n=10,o=e.coordsChar({left:0,top:i+t.top},"local"),r=t.clientHeight-n+t.top,s=e.coordsChar({left:0,top:r},"local");return{top:o.line,bottom:s.line}}function kt(e,t,i){if("'"==i||"`"==i)return F.jumpList.find(e,-1)||new a(0,0);if("."==i)return Nt(e);var n=t.marks[i];return n&&n.find()}function Nt(e){for(var t=e.doc.history.done,i=t.length;i--;)if(t[i].changes)return he(t[i].changes[0].to)}var Lt=function(){this.buildCommandMap_()};Lt.prototype={processCommand:function(e,t,i){var n=this;e.operation((function(){e.curOp.isVimOp=!0,n._processCommand(e,t,i)}))},_processCommand:function(e,t,i){var n=e.state.vim,r=F.registerController.getRegister(":"),s=r.toString();n.visualMode&&Me(e);var a=new o["default"].StringStream(t);r.setText(t);var c,l,d=i||{};d.input=t;try{this.parseInput_(e,a,d)}catch(h){throw ht(e,h.toString()),h}if(d.commandName){if(c=this.matchCommand_(d.commandName),c){if(l=c.name,c.excludeFromCommandHistory&&r.setText(s),this.parseCommandArgs_(a,d,c),"exToKey"==c.type){for(var u=0;u<c.toKeys.length;u++)j.handleKey(e,c.toKeys[u],"mapping");return}if("exToEx"==c.type)return void this.processCommand(e,c.toInput)}}else void 0!==d.line&&(l="move");if(l)try{It[l](e,d),c&&c.possiblyAsync||!d.callback||d.callback()}catch(h){throw ht(e,h.toString()),h}else ht(e,'Not an editor command ":'+t+'"')},parseInput_:function(e,t,i){t.eatWhile(":"),t.eat("%")?(i.line=e.firstLine(),i.lineEnd=e.lastLine()):(i.line=this.parseLineSpec_(e,t),void 0!==i.line&&t.eat(",")&&(i.lineEnd=this.parseLineSpec_(e,t)));var n=t.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return i.commandName=n?n[1]:t.match(/.*/)[0],i},parseLineSpec_:function(e,t){var i=t.match(/^(\d+)/);if(i)return parseInt(i[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var n=t.next(),o=kt(e,e.state.vim,n);if(!o)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,o.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var i=e.match(/^([+-])?(\d+)/);if(i){var n=parseInt(i[2],10);"-"==i[1]?t-=n:t+=n}return t},parseCommandArgs_:function(e,t,i){if(!e.eol()){t.argString=e.match(/.*/)[0];var n=i.argDelimiter||/\s+/,o=be(t.argString).split(n);o.length&&o[0]&&(t.args=o)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var i=e.substring(0,t);if(this.commandMap_[i]){var n=this.commandMap_[i];if(0===n.name.indexOf(e))return n}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<u.length;e++){var t=u[e],i=t.shortName||t.name;this.commandMap_[i]=t}},map:function(e,t,i){if(":"!=e&&":"==e.charAt(0)){if(i)throw Error("Mode not supported for ex mappings");var n=e.substring(1);":"!=t&&":"==t.charAt(0)?this.commandMap_[n]={name:n,type:"exToEx",toInput:t.substring(1),user:!0}:this.commandMap_[n]={name:n,type:"exToKey",toKeys:t,user:!0}}else if(":"!=t&&":"==t.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:t.substring(1)}};i&&(o.context=i),l.unshift(o)}else{o={keys:e,type:"keyToKey",toKeys:t};i&&(o.context=i),l.unshift(o)}},unmap:function(e,t){if(":"!=e&&":"==e.charAt(0)){if(t)throw Error("Mode not supported for ex mappings");var i=e.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return delete this.commandMap_[i],!0}else for(var n=e,o=0;o<l.length;o++)if(n==l[o].keys&&l[o].context===t)return l.splice(o,1),!0}};var It={colorscheme:function(e,t){!t.args||t.args.length<1?ht(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,i){var n=t.args;!n||n.length<2?e&&ht(e,"Invalid mapping: "+t.input):Rt.map(n[0],n[1],i)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,i){var n=t.args;(!n||n.length<1||!Rt.unmap(n[0],i))&&e&&ht(e,"No such mapping: "+t.input)},move:function(e,t){Y.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var i=t.args,n=t.setCfg||{};if(!i||i.length<1)e&&ht(e,"Invalid mapping: "+t.input);else{var o=i[0].split("="),r=o[0],s=o[1],a=!1;if("?"==r.charAt(r.length-1)){if(s)throw Error("Trailing characters: "+t.argString);r=r.substring(0,r.length-1),a=!0}void 0===s&&"no"==r.substring(0,2)&&(r=r.substring(2),s=!1);var c=E[r]&&"boolean"==E[r].type;if(c&&void 0==s&&(s=!0),!c&&void 0===s||a){var l=O(r,e,n);l instanceof Error?ht(e,l.message):ht(e,!0===l||!1===l?" "+(l?"":"no")+r:"  "+r+"="+l)}else{var d=T(r,s,e,n);d instanceof Error&&ht(e,d.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var i=t.args,n=F.registerController.registers,o="----------Registers----------\n\n";if(i){i=i.join("");for(var r=0;r<i.length;r++)if(a=i.charAt(r),F.registerController.isValidRegister(a)){var s=n[a]||new q;o+='"'+a+"    "+s.toString()+"\n"}}else for(var a in n){var c=n[a].toString();c.length&&(o+='"'+a+"    "+c+"\n")}ht(e,o)},sort:function(e,t){var i,n,r,s,c;function l(){if(t.argString){var e=new o["default"].StringStream(t.argString);if(e.eat("!")&&(i=!0),e.eol())return;if(!e.eatSpace())return"Invalid arguments";var a=e.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!a&&!e.eol())return"Invalid arguments";if(a[1]){n=-1!=a[1].indexOf("i"),r=-1!=a[1].indexOf("u");var l=-1!=a[1].indexOf("d")||-1!=a[1].indexOf("n")&&1,d=-1!=a[1].indexOf("x")&&1,u=-1!=a[1].indexOf("o")&&1;if(l+d+u>1)return"Invalid arguments";s=(l?"decimal":d&&"hex")||u&&"octal"}a[2]&&(c=new RegExp(a[2].substr(1,a[2].length-2),n?"i":""))}}var d=l();if(d)ht(e,d+": "+t.argString);else{var u=t.line||e.firstLine(),h=t.lineEnd||t.line||e.lastLine();if(u!=h){var g=new a(u,0),p=new a(h,_e(e,h)),m=e.getRange(g,p).split("\n"),f=c||("decimal"==s?/(-?)([\d]+)/:"hex"==s?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==s?/([0-7]+)/:null),v="decimal"==s?10:"hex"==s?16:"octal"==s?8:null,_=[],b=[];if(s||c)for(var y=0;y<m.length;y++){var w=c?m[y].match(c):null;w&&""!=w[0]?_.push(w):!c&&f.exec(m[y])?_.push(m[y]):b.push(m[y])}else b=m;if(_.sort(c?k:x),c)for(y=0;y<_.length;y++)_[y]=_[y].input;else s||b.sort(x);if(m=i?_.concat(b):b.concat(_),r){var C,S=m;m=[];for(y=0;y<S.length;y++)S[y]!=C&&m.push(S[y]),C=S[y]}e.replaceRange(m.join("\n"),g,p)}}function x(e,t){var o;i&&(o=e,e=t,t=o);n&&(e=e.toLowerCase(),t=t.toLowerCase());var r=s&&f.exec(e),a=s&&f.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),v),a=parseInt((a[1]+a[2]).toLowerCase(),v),r-a):e<t?-1:1}function k(e,t){var o;i&&(o=e,e=t,t=o);return n&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}},vglobal:function(e,t){this.global(e,t)},global:function(e,t){var i=t.argString;if(i){var n,o="v"===t.commandName[0],r=void 0!==t.line?t.line:e.firstLine(),s=t.lineEnd||t.line||e.lastLine(),a=tt(i),c=i;if(a.length&&(c=a[0],n=a.slice(1,a.length).join("/")),c)try{ft(e,c,!0,!0)}catch(f){return void ht(e,"Invalid regex: "+c)}for(var l=et(e).getQuery(),d=[],u=r;u<=s;u++){var h=e.getLineHandle(u),g=l.test(h.text);g!==o&&d.push(n?h:h.text)}if(n){var p=0,m=function t(){if(p<d.length){var i=d[p++],o=e.getLineNumber(i);if(null==o)return void t();var r=o+1+n;Rt.processCommand(e,r,{callback:t})}};m()}else ht(e,d.join("\n"))}else ht(e,"Regular Expression missing from global")},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var i,n,o,r,s=t.argString,c=s?nt(s,s[0]):[],l="",d=!1,u=!1;if(c.length)i=c[0],O("pcre")&&""!==i&&(i=new RegExp(i).source),l=c[1],void 0!==l&&(l=O("pcre")?lt(l.replace(/([^\\])&/g,"$1$$&")):at(l),F.lastSubstituteReplacePart=l),n=c[2]?c[2].split(" "):[];else if(s&&s.length)return void ht(e,"Substitutions should be of the form :s/pattern/replace/");if(n&&(o=n[0],r=parseInt(n[1]),o&&(-1!=o.indexOf("c")&&(d=!0),-1!=o.indexOf("g")&&(u=!0),i=O("pcre")?i+"/"+o:i.replace(/\//g,"\\/")+"/"+o)),i)try{ft(e,i,!0,!0)}catch(_){return void ht(e,"Invalid regex: "+i)}if(l=l||F.lastSubstituteReplacePart,void 0!==l){var h=et(e),g=h.getQuery(),p=void 0!==t.line?t.line:e.getCursor().line,m=t.lineEnd||p;p==e.firstLine()&&m==e.lastLine()&&(m=1/0),r&&(p=m,m=p+r-1);var f=re(e,new a(p,0)),v=e.getSearchCursor(g,f);e.pushUndoStop(),Dt(e,d,u,p,m,v,g,l,t.callback)}else ht(e,"No previous substitute regular expression")},redo:o["default"].commands.redo,undo:o["default"].commands.undo,write:function(e){o["default"].commands.save?o["default"].commands.save(e):e.save&&e.save()},nohlsearch:function(e){Ct(e)},yank:function(e){var t=he(e.getCursor()),i=t.line,n=e.getLine(i);F.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(e,t){if(t.argString&&be(t.argString)){var i=e.state.vim,n=new o["default"].StringStream(be(t.argString));while(!n.eol()){n.eatSpace();var r=n.pos;if(!n.match(/[a-zA-Z]/,!1))return void ht(e,"Invalid argument: "+t.argString.substring(r));var s=n.next();if(n.match("-",!0)){if(!n.match(/[a-zA-Z]/,!1))return void ht(e,"Invalid argument: "+t.argString.substring(r));var a=s,c=n.next();if(!(L(a)&&L(c)||R(a)&&R(c)))return void ht(e,"Invalid argument: "+a+"-");var l=a.charCodeAt(0),d=c.charCodeAt(0);if(l>=d)return void ht(e,"Invalid argument: "+t.argString.substring(r));for(var u=0;u<=d-l;u++){var h=String.fromCharCode(l+u);delete i.marks[h]}}else delete i.marks[s]}}else ht(e,"Argument required")}},Rt=new Lt;function Dt(e,t,i,n,r,s,a,c,l){e.state.vim.exMode=!0;var d,u,h,g=!1;function p(){e.operation((function(){while(!g)m(),v();_()}))}function m(){var t=e.getRange(s.from(),s.to()),i=t.replace(a,c),n=s.to().line;s.replace(i),u=s.to().line,r+=u-n,h=u<n}function f(){var e=d&&he(s.to()),t=s.findNext();return t&&!t[0]&&e&&ge(s.from(),e)&&(t=s.findNext()),t}function v(){while(f()&&St(s.from(),n,r))if(i||s.from().line!=u||h)return e.scrollIntoView(s.from(),30),e.setSelection(s.from(),s.to()),d=s.from(),void(g=!1);g=!0}function _(t){if(t&&t(),e.focus(),d){e.setCursor(d);var i=e.state.vim;i.exMode=!1,i.lastHPos=i.lastHSPos=d.ch}l&&l()}function b(t,i,n){o["default"].e_stop(t);var r=o["default"].keyName(t);switch(r){case"Y":m(),v();break;case"N":v();break;case"A":var s=l;l=void 0,e.operation(p),l=s;break;case"L":m();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":_(n);break}return g&&_(n),!0}if(v(),!g)return t?void pt(e,{prefix:ut("span","replace with ",ut("strong",c)," (y/n/a/q/l)"),onKeyDown:b}):(p(),void(l&&l()));ht(e,"No matches for "+a.source)}function Mt(e){var t=e.state.vim,i=F.macroModeState,n=F.registerController.getRegister("."),r=i.isPlaying,s=i.lastInsertModeChanges;r||(e.off("change",Wt),o["default"].off(e.getInputField(),"keydown",zt)),!r&&t.insertModeRepeat>1&&(Ut(e,t,t.insertModeRepeat-1,!0),t.lastEditInputState.repeatOverride=t.insertModeRepeat),delete t.insertModeRepeat,t.insertMode=!1,e.setCursor(e.getCursor().line,e.getCursor().ch-1),e.setOption("keyMap","vim"),e.setOption("disableInput",!0),e.toggleOverwrite(!1),n.setText(s.changes.join("")),o["default"].signal(e,"vim-mode-change",{mode:"normal"}),i.isRecording&&Ot(i),e.enterVimMode()}function Pt(e){l.unshift(e)}function Et(e,t,i,n,o){var r={keys:e,type:t};for(var s in r[t]=i,r[t+"Args"]=n,o)r[s]=o[s];Pt(r)}function At(e,t,i,n){var o=F.registerController.getRegister(n);if(":"==n)return o.keyBuffer[0]&&Rt.processCommand(e,o.keyBuffer[0]),void(i.isPlaying=!1);var r=o.keyBuffer,s=0;i.isPlaying=!0,i.replaySearchQueries=o.searchQueries.slice(0);for(var a=0;a<r.length;a++){var c,l,d=r[a];while(d)if(c=/<\w+-.+?>|<\w+>|./.exec(d),l=c[0],d=d.substring(c.index+l.length),j.handleKey(e,l,"macro"),t.insertMode){var u=o.insertModeChanges[s++].changes;F.macroModeState.lastInsertModeChanges.changes=u,jt(e,u,1),Mt(e)}}i.isPlaying=!1}function Tt(e,t){if(!e.isPlaying){var i=e.latestRegister,n=F.registerController.getRegister(i);n&&n.pushText(t)}}function Ot(e){if(!e.isPlaying){var t=e.latestRegister,i=F.registerController.getRegister(t);i&&i.pushInsertModeChanges&&i.pushInsertModeChanges(e.lastInsertModeChanges)}}function Ft(e,t){if(!e.isPlaying){var i=e.latestRegister,n=F.registerController.getRegister(i);n&&n.pushSearchQuery&&n.pushSearchQuery(t)}}function Wt(e,t){var i=F.macroModeState,n=i.lastInsertModeChanges;if(!i.isPlaying)while(t){if(n.expectCursorActivityForChange=!0,n.ignoreCount>1)n.ignoreCount--;else if("+input"==t.origin||"paste"==t.origin||void 0===t.origin){var o=e.listSelections().length;o>1&&(n.ignoreCount=o);var r=t.text.join("\n");n.maybeReset&&(n.changes=[],n.maybeReset=!1),r&&(e.state.overwrite&&!/\n/.test(r)?n.changes.push([r]):n.changes.push(r))}t=t.next}}function Bt(e){var t=e.state.vim;if(t.insertMode){var i=F.macroModeState;if(i.isPlaying)return;var n=i.lastInsertModeChanges;n.expectCursorActivityForChange?n.expectCursorActivityForChange=!1:n.maybeReset=!0}else e.curOp.isVimOp||Ht(e,t)}function Ht(e,t){var i=e.getCursor("anchor"),n=e.getCursor("head");if(t.visualMode&&!e.somethingSelected()?Me(e,!1):t.visualMode||t.insertMode||!e.somethingSelected()||(t.visualMode=!0,t.visualLine=!1,o["default"].signal(e,"vim-mode-change",{mode:"visual"})),t.visualMode){var r=pe(n,i)?0:-1,s=pe(n,i)?-1:0;n=ae(n,0,r),i=ae(i,0,s),t.sel={anchor:i,head:n},qe(e,t,"<",me(n,i)),qe(e,t,">",fe(n,i))}else t.insertMode||(t.lastHPos=e.getCursor().ch)}function Vt(e){this.keyName=e}function zt(e){var t=F.macroModeState,i=t.lastInsertModeChanges,n=o["default"].keyName(e);function r(){return i.maybeReset&&(i.changes=[],i.maybeReset=!1),i.changes.push(new Vt(n)),!0}n&&(-1==n.indexOf("Delete")&&-1==n.indexOf("Backspace")||o["default"].lookupKey(n,"vim-insert",r))}function Ut(e,t,i,n){var o=F.macroModeState;o.isPlaying=!0;var r=!!t.lastEditActionCommand,s=t.inputState;function a(){r?Y.processAction(e,t,t.lastEditActionCommand):Y.evalInput(e,t)}function c(i){if(o.lastInsertModeChanges.changes.length>0){i=t.lastEditActionCommand?i:1;var n=o.lastInsertModeChanges;jt(e,n.changes,i)}}if(t.inputState=t.lastEditInputState,r&&t.lastEditActionCommand.interlaceInsertRepeat)for(var l=0;l<i;l++)a(),c(1);else n||a(),c(i);t.inputState=s,t.insertMode&&!n&&Mt(e),o.isPlaying=!1}function jt(e,t,i){function n(t){return"string"==typeof t?o["default"].commands[t](e):t(e),!0}var r=e.getCursor("head"),s=F.macroModeState.lastInsertModeChanges.visualBlock;s&&(Se(e,r,s+1),i=e.listSelections().length,e.setCursor(r));for(var a=0;a<i;a++){s&&e.setCursor(ae(r,a,0));for(var c=0;c<t.length;c++){var l=t[c];if(l instanceof Vt)o["default"].lookupKey(l.keyName,"vim-insert",n);else if("string"==typeof l)window.cm=e,e.replaceSelections(l);else{var d=e.getCursor(),u=ae(d,0,l[0].length);e.replaceRange(l[0],d,u),e.setCursor(u)}}}s&&e.setCursor(ae(r,0,1))}return o["default"].keyMap.vim={attach:r,detach:i,call:h},A("insertModeEscKeysTimeout",200,"number"),o["default"].keyMap["vim-insert"]={fallthrough:["default"],attach:r,detach:i,call:h},o["default"].keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:r,detach:i,call:h},U(),j};t.Vim=h,o["default"].Vim=h();var g=o["default"];t["default"]=g},47237:(e,t,i)=>{"use strict";var n=i(25108);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o=i(6097),r=i(10291);function s(e,t){return u(e)||d(e,t)||c(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,t){var i=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var n,o,r=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(n=i.next()).done);s=!0)if(r.push(n.value),t&&r.length===t)break}catch(c){a=!0,o=c}finally{try{s||null==i["return"]||i["return"]()}finally{if(a)throw o}}return r}}function u(e){if(Array.isArray(e))return e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}var f={Bottom:4},v={readOnly:65,cursorWidth:20,fontInfo:32},_=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function b(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||_.test(e))}function y(e,t){if(!(this instanceof y))return new y(e,t);this.line=e,this.ch=t}function w(e,t,i){e.dispatch(t,i)}function C(e){return function(){}}String.prototype.normalize?function(e){return e.normalize("NFD").toLowerCase()}:function(e){return e.toLowerCase()};var S=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};function x(e){return new y(e.lineNumber-1,e.column-1)}function k(e){return new o.Position(e.line+1,e.ch+1)}S.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var i=t==e;else i=t&&(e.test?e.test(t):e(t));if(i)return++this.pos,t},eatWhile:function(e){var t=this.pos;while(this.eat(e));return this.pos>t},eatSpace:function(){var e=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos)))++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function(e,t,i){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var o=function(e){return i?e.toLowerCase():e},r=this.string.substr(this.pos,e.length);if(o(r)==o(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var N=function(){function e(t,i,n,o){g(this,e),this.cm=t,this.id=i,this.lineNumber=n+1,this.column=o+1,t.marks[this.id]=this}return m(e,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return x(this)}}]),e}();function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0,n=o.KeyCode[e.keyCode];e.key&&(n=e.key,i=!1);var r=n,s=t;switch(e.keyCode){case o.KeyCode.Shift:case o.KeyCode.Meta:case o.KeyCode.Alt:case o.KeyCode.Ctrl:return r;case o.KeyCode.Escape:s=!0,r="Esc";break;case o.KeyCode.Space:s=!0;break}return n.startsWith("Key")||n.startsWith("KEY_")?r=n[n.length-1].toLowerCase():n.startsWith("Digit")?r=n.slice(5,6):n.startsWith("Numpad")?r=n.slice(6,7):n.endsWith("Arrow")?(s=!0,r=n.substring(0,n.length-5)):(n.startsWith("US_")||n.startsWith("Bracket")||!r)&&(r=e.browserEvent.key),s||e.altKey||e.ctrlKey||e.metaKey?(e.altKey&&(r="Alt-".concat(r)),e.ctrlKey&&(r="Ctrl-".concat(r)),e.metaKey&&(r="Meta-".concat(r)),e.shiftKey&&(r="Shift-".concat(r))):r=e.key||e.browserEvent.key,1===r.length&&i&&(r="'".concat(r,"'")),r}var I=function(){function e(t){g(this,e),R.call(this),this.editor=t,this.state={keyMap:"vim"},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.options={},this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}return m(e,[{key:"attach",value:function(){e.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(e,t){var i=!1,n=e,r=this.editor.getPosition(),s=new o.Range(r.lineNumber,r.column,r.lineNumber,r.column+1),a=!0;if(e.startsWith("'"))n=e[1];else if("Enter"===n)n="\n";else{if("Backspace"!==n)return;var c=this.replaceStack.pop();if(!c)return;i=!0,n=c,s=new o.Range(r.lineNumber,r.column,r.lineNumber,r.column-1)}t.preventDefault(),t.stopPropagation(),this.replaceStack||(this.replaceStack=[]),i||this.replaceStack.push(this.editor.getModel().getValueInRange(s)),this.editor.executeEdits("vim",[{text:n,range:s,forceMoveMarkers:a}]),i&&this.editor.setPosition(s.getStartPosition())}},{key:"setOption",value:function(e,t){this.state[e]=t,"theme"===e&&o.editor.setTheme(t)}},{key:"getConfiguration",value:function(){var e=this.editor,t=v;return"function"===typeof e.getConfiguration?e.getConfiguration():("EditorOption"in o.editor&&(t=o.editor.EditorOption),{readOnly:e.getOption(t.readOnly),viewInfo:{cursorWidth:e.getOption(t.cursorWidth)},fontInfo:e.getOption(t.fontInfo)})}},{key:"getOption",value:function(e){return"readOnly"===e?this.getConfiguration().readOnly:"firstLineNumber"===e?this.firstLine()+1:"indentWithTabs"===e?!this.editor.getModel().getOptions().insertSpaces:"function"===typeof this.editor.getConfiguration?this.editor.getRawConfiguration()[e]:this.editor.getRawOptions()[e]}},{key:"dispatch",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];var o=this.listeners[e];o&&o.forEach((function(e){return e.apply(void 0,i)}))}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var i=this.listeners[e];i&&(this.listeners[e]=i.filter((function(e){return e!==t})))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(e){if(e<0)return"";var t=this.editor.getModel(),i=t.getLineCount();return e+1>i&&(e=i-1),this.editor.getModel().getLineContent(e+1)}},{key:"getAnchorForSelection",value:function(e){if(e.isEmpty())return e.getPosition();var t=e.getDirection();return t===o.SelectionDirection.LTR?e.getStartPosition():e.getEndPosition()}},{key:"getHeadForSelection",value:function(e){if(e.isEmpty())return e.getPosition();var t=e.getDirection();return t===o.SelectionDirection.LTR?e.getEndPosition():e.getStartPosition()}},{key:"getCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return x(this.editor.getPosition());var t,i=this.editor.getSelection();return t=i.isEmpty()?i.getPosition():"anchor"===e?this.getAnchorForSelection(i):this.getHeadForSelection(i),x(t)}},{key:"getRange",value:function(e,t){var i=k(e),n=k(t);return this.editor.getModel().getValueInRange(o.Range.fromPositions(i,n))}},{key:"getSelection",value:function(){var e=[],t=this.editor;return t.getSelections().map((function(i){e.push(t.getModel().getValueInRange(i))})),e.join("\n")}},{key:"replaceRange",value:function(e,t,i){var n=k(t),r=i?k(i):n;this.editor.executeEdits("vim",[{text:e,range:o.Range.fromPositions(n,r)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(e,t){var i=e;"object"!==h(e)&&(i={},i.line=e,i.ch=t);var n=this.editor.getModel().validatePosition(k(i));this.editor.setPosition(k(i)),this.editor.revealPosition(n)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(e,t){return e()}},{key:"listSelections",value:function(){var e=this,t=this.editor.getSelections();return!t.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:t.map((function(t){t.getPosition(),t.getStartPosition(),t.getEndPosition();return{anchor:e.clipPos(x(e.getAnchorForSelection(t))),head:e.clipPos(x(e.getHeadForSelection(t)))}}))}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(e,t){var i=!!this.editor.getSelections().length,n=e.map((function(e,t){var n=e.anchor,r=e.head;return i?o.Selection.fromPositions(k(n),k(r)):o.Selection.fromPositions(k(r),k(n))}));if(t&&n[t]&&n.push(n.splice(t,1)[0]),n.length){var r,s=n[0];r=s.getDirection()===o.SelectionDirection.LTR?s.getEndPosition():s.getStartPosition(),this.editor.setSelections(n),this.editor.revealPosition(r)}}},{key:"setSelection",value:function(e,t){var i=o.Range.fromPositions(k(e),k(t));this.editor.setSelection(i)}},{key:"getSelections",value:function(){var e=this.editor;return e.getSelections().map((function(t){return e.getModel().getValueInRange(t)}))}},{key:"replaceSelections",value:function(e){var t=this.editor;t.getSelections().forEach((function(i,n){t.executeEdits("vim",[{range:i,text:e[n],forceMoveMarkers:!1}])}))}},{key:"toggleOverwrite",value:function(e){e?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(e,t){return{top:e.line,left:e.ch}}},{key:"coordsChar",value:function(e,t){}},{key:"clipPos",value:function(e){var t=this.editor.getModel().validatePosition(k(e));return x(t)}},{key:"setBookmark",value:function(e,t){var i=new N(this,this.$uid++,e.line,e.ch);return t&&t.insertLeft||(i.$insertRight=!0),this.marks[i.id]=i,i}},{key:"getScrollInfo",value:function(){var e=this.editor,t=e.getVisibleRanges(),i=s(t,1),n=i[0];return{left:0,top:n.startLineNumber-1,height:e.getModel().getLineCount(),clientHeight:n.endLineNumber-n.startLineNumber+1}}},{key:"triggerEditorAction",value:function(e){this.editor.trigger("vim",e)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),e.keyMap.vim&&e.keyMap.vim.detach(this),this.disposables.forEach((function(e){return e.dispose()}))}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(){this.ctxInsert.set(!1);var e=this.getConfiguration();this.initialCursorWidth=e.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:e.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var e=this.editor.getVisibleRanges();if(!e.length)return{top:0,bottom:0};var t={top:1/0,bottom:0};return e.reduce((function(e,t){return t.startLineNumber<e.top&&(e.top=t.startLineNumber),t.endLineNumber>e.bottom&&(e.bottom=t.endLineNumber),e}),t),t.top-=1,t.bottom-=1,t}},{key:"findPosV",value:function(e,t,i){var n=this.editor,o=t,r=i,s=k(e);if("page"===i){var a=n.getLayoutInfo().height,c=this.getConfiguration().fontInfo.lineHeight;o*=Math.floor(a/c),r="line"}return"line"===r&&(s.lineNumber+=o),x(s)}},{key:"findMatchingBracket",value:function(e){var t,i,n=k(e),o=this.editor.getModel();o.bracketPairs?t=o.bracketPairs.matchBracket(n):t=null===(i=o.matchBracket)||void 0===i?void 0:i.call(o,n);return t&&2===t.length?{to:x(t[1].getStartPosition())}:{to:null}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(e){return this.editor.getModel().getLineFirstNonWhitespaceColumn(e+1)-1}},{key:"scrollTo",value:function(e,t){(e||t)&&(e||(t<0&&(t=this.editor.getPosition().lineNumber-t),this.editor.setScrollTop(this.editor.getTopForLineNumber(t+1))))}},{key:"moveCurrentLineTo",value:function(e){var t,i=this.editor,n=i.getPosition(),r=o.Range.fromPositions(n,n);switch(e){case"top":return void i.revealRangeAtTop(r);case"center":return void i.revealRangeInCenter(r);case"bottom":return void(null===(t=i._revealRange)||void 0===t||t.call(i,r,f.Bottom))}}},{key:"getSearchCursor",value:function(e,t){var i=!1,n=!1;e instanceof RegExp&&!e.global&&(i=!e.ignoreCase,e=e.source,n=!0),void 0==t.ch&&(t.ch=Number.MAX_VALUE);var o=k(t),r=this,s=this.editor,a=null,c=s.getModel(),l=c.findMatches(e,!1,n,i)||[];return{getMatches:function(){return l},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(e){if(!l||!l.length)return!1;var t=l[e];return a=t.range,r.highlightRanges([a],"currentFindMatch"),r.highlightRanges(l.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(a)}))),a},find:function(t){if(!l||!l.length)return!1;var s;if(t){var d=a?a.getStartPosition():o;if(s=c.findPreviousMatch(e,d,n,i),!s||!s.range.getStartPosition().isBeforeOrEqual(d))return!1}else{var u=a?c.getPositionAt(c.getOffsetAt(a.getStartPosition())+1):o;if(s=c.findNextMatch(e,u,n,i),!s||!u.isBeforeOrEqual(s.range.getStartPosition()))return!1}return a=s.range,r.highlightRanges([a],"currentFindMatch"),r.highlightRanges(l.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(a)}))),a},from:function(){return a&&x(a.getStartPosition())},to:function(){return a&&x(a.getEndPosition())},replace:function(e){a&&(s.executeEdits("vim",[{range:a,text:e,forceMoveMarkers:!0}]),a.setEndPosition(s.getPosition()),s.setPosition(a.getStartPosition()))}}}},{key:"highlightRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"findMatch",i="decoration".concat(t);return this[i]=this.editor.deltaDecorations(this[i]||[],e.map((function(e){return{range:e,options:{stickiness:o.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:t,showIfCollapsed:!0}}}))),this[i]}},{key:"addOverlay",value:function(e,t,i){var n=e.query,o=!1,r=!1;n&&n instanceof RegExp&&!n.global&&(r=!0,o=!n.ignoreCase,n=n.source);var s=this.editor.getModel().findNextMatch(n,this.editor.getPosition(),r,o);s&&s.range&&this.highlightRanges([s.range])}},{key:"removeOverlay",value:function(){var e=this;["currentFindMatch","findMatch"].forEach((function(t){e.editor.deltaDecorations(e["decoration".concat(t)]||[],[])}))}},{key:"scrollIntoView",value:function(e){e&&this.editor.revealPosition(k(e))}},{key:"moveH",value:function(e,t){if("char"===t){var i=this.editor.getPosition();this.editor.setPosition(new o.Position(i.lineNumber,i.column+e))}}},{key:"scanForBracket",value:function(t,i,n,o){var r=o.bracketRegex,s=k(t),a=this.editor.getModel(),c=(-1===i?a.findPreviousMatch:a.findNextMatch).bind(a),l=[],d=0;while(1){if(d>10)return;var u=c(r.source,s,!0,!0,null,!0),h=u.matches[0];if(void 0===u)return;var g=e.matchingBrackets[h];if(g&&">"===g.charAt(1)==i>0)l.push(h);else{if(0===l.length){var p=u.range.getStartPosition();return{pos:x(p)}}l.pop()}s=a.getPositionAt(a.getOffsetAt(u.range.getStartPosition())+i),d+=1}}},{key:"indexFromPos",value:function(e){return this.editor.getModel().getOffsetAt(k(e))}},{key:"posFromIndex",value:function(e){return x(this.editor.getModel().getPositionAt(e))}},{key:"indentLine",value:function(e){var t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.editor;t=n._getViewModel?n._getViewModel().cursorConfig:n._getCursors().context.config;var s=new o.Position(e+1,1),a=o.Selection.fromPositions(s,s);n.executeCommand("vim",new r.ShiftCommand(a,{isUnshift:!i,tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,useTabStops:t.useTabStops,autoIndent:t.autoIndent}))}},{key:"setStatusBar",value:function(e){this.statusBar=e}},{key:"openDialog",value:function(e,t,i){if(this.statusBar)return this.statusBar.setSec(e,t,i)}},{key:"openNotification",value:function(e){this.statusBar&&this.statusBar.showNotification(e)}},{key:"smartIndent",value:function(){this.editor.getAction("editor.action.formatSelection").run()}},{key:"moveCursorTo",value:function(e){var t=this.editor.getPosition();"start"===e?t.column=1:"end"===e&&(t.column=this.editor.getModel().getLineMaxColumn(t.lineNumber)),this.editor.setPosition(t)}},{key:"execCommand",value:function(e){switch(e){case"goLineLeft":this.moveCursorTo("start");break;case"goLineRight":this.moveCursorTo("end");break;case"indentAuto":this.smartIndent();break}}}]),e}();I.Pos=y,I.signal=w,I.on=C("on"),I.off=C("off"),I.addClass=C("addClass"),I.rmClass=C("rmClass"),I.defineOption=C("defineOption"),I.keyMap={default:function(e){return function(e){return!0}}},I.matchingBrackets={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"},I.isWordChar=b,I.keyName=L,I.StringStream=S,I.e_stop=function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,I.e_preventDefault(e),!1},I.e_preventDefault=function(e){return e.preventDefault?(e.preventDefault(),e.browserEvent&&e.browserEvent.preventDefault()):e.returnValue=!1,!1},I.commands={redo:function(e){e.editor.getModel().redo()},undo:function(e){e.editor.getModel().undo()},newlineAndIndent:function(e){e.triggerEditorAction("editor.action.insertLineAfter")}},I.lookupKey=function e(t,i,n){"string"===typeof i&&(i=I.keyMap[i]);var o="function"==typeof i?i(t):i[t];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(i.fallthrough){if(!Array.isArray(i.fallthrough))return e(t,i.fallthrough,n);for(var r=0;r<i.fallthrough.length;r++){var s=e(t,i.fallthrough[r],n);if(s)return s}}},I.defineExtension=function(e,t){I.prototype[e]=t};var R=function(){var e=this;this.handleKeyDown=function(t){if(!(t.browserEvent.defaultPrevented&t.keyCode!==o.KeyCode.Escape)&&e.attached){var i=L(t);if(e.replaceMode&&e.handleReplaceMode(i,t),i){var r=e.state.keyMap;if(I.keyMap[r]&&I.keyMap[r].call){var s=I.keyMap[r].call(i,e);if(s){t.preventDefault(),t.stopPropagation();try{s()}catch(a){n.error(a)}}}}}},this.handleCursorChange=function(t){var i=t.position,n=(t.source,e.editor),r=n.getSelection();if(!e.ctxInsert.get()&&"mouse"===t.source&&r.isEmpty()){var s=n.getModel().getLineMaxColumn(i.lineNumber);if(t.position.column===s)return void n.setPosition(new o.Position(t.position.lineNumber,s-1))}e.dispatch("cursorActivity",e,t)},this.handleChange=function(t){var i=t.changes,n={text:i.reduce((function(e,t){return e.push(t.text),e}),[]),origin:"+input"},o=e.curOp=e.curOp||{};o.changeHandlers||(o.changeHandlers=e.listeners["change"]&&e.listeners["change"].slice()),e.virtualSelectionMode()||(o.lastChange?o.lastChange.next=o.lastChange=n:o.lastChange=o.change=n,e.dispatch("change",e,n))}},D=I;t["default"]=D},46447:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"StatusBar",{enumerable:!0,get:function(){return o["default"]}}),Object.defineProperty(t,"VimMode",{enumerable:!0,get:function(){return n["default"]}}),t.initVimMode=s;var n=r(i(45906)),o=r(i(9167));function r(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o["default"],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=new n["default"](e);if(!t)return s.attach(),s;var a=new i(t,e,r),c="";return s.on("vim-mode-change",(function(e){a.setMode(e)})),s.on("vim-keypress",(function(e){":"===e?c="":c+=e,a.setKeyBuffer(c)})),s.on("vim-command-done",(function(){c="",a.setKeyBuffer(c)})),s.on("dispose",(function(){a.toggleVisibility(!1),a.closeInput(),a.clear()})),a.toggleVisibility(!0),s.setStatusBar(a),s.attach(),s}},9167:(e,t)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var r=function(){function e(t,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.closeInput=function(){o.removeInputListeners(),o.input=null,o.setSec(""),o.editor&&o.editor.focus()},this.clear=function(){o.setInnerHtml_(o.node,"")},this.inputKeyUp=function(e){var t=o.input.options;t&&t.onKeyUp&&t.onKeyUp(e,e.target.value,o.closeInput)},this.inputKeyInput=function(e){var t=o.input.options;t&&t.onKeyInput&&t.onKeyUp(e,e.target.value,o.closeInput)},this.inputBlur=function(){var e=o.input.options;e.closeOnBlur&&o.closeInput()},this.inputKeyDown=function(e){var t=o.input,i=t.options,n=t.callback;i&&i.onKeyDown&&i.onKeyDown(e,e.target.value,o.closeInput)||((27===e.keyCode||i&&!1!==i.closeOnEnter&&13==e.keyCode)&&(o.input.node.blur(),e.stopPropagation(),o.closeInput()),13===e.keyCode&&n&&(e.stopPropagation(),e.preventDefault(),n(e.target.value)))},this.node=t,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=n,this.sanitizer=r}return o(e,[{key:"setMode",value:function(e){"visual"!==e.mode?this.setText("--".concat(e.mode.toUpperCase(),"--")):"linewise"===e.subMode?this.setText("--VISUAL LINE--"):"blockwise"===e.subMode?this.setText("--VISUAL BLOCK--"):this.setText("--VISUAL--")}},{key:"setKeyBuffer",value:function(e){this.keyInfoNode.textContent=e}},{key:"setSec",value:function(e,t,i){if(this.notifNode.textContent="",void 0===e)return this.closeInput;this.setInnerHtml_(this.secInfoNode,e);var n=this.secInfoNode.querySelector("input");return n&&(n.focus(),this.input={callback:t,options:i,node:n},i&&(i.selectValueOnOpen&&n.select(),i.value&&(n.value=i.value)),this.addInputListeners()),this.closeInput}},{key:"setText",value:function(e){this.modeInfoNode.textContent=e}},{key:"toggleVisibility",value:function(e){this.node.style.display=e?"block":"none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var e=this.input.node;e.addEventListener("keyup",this.inputKeyUp),e.addEventListener("keydown",this.inputKeyDown),e.addEventListener("input",this.inputKeyInput),e.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(this.input&&this.input.node){var e=this.input.node;e.removeEventListener("keyup",this.inputKeyUp),e.removeEventListener("keydown",this.inputKeyDown),e.removeEventListener("input",this.inputKeyInput),e.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(e){var t=this,i=document.createElement("span");this.setInnerHtml_(i,e),this.notifNode.textContent=i.textContent,this.notifTimeout=setTimeout((function(){t.notifNode.textContent=""}),5e3)}},{key:"setInnerHtml_",value:function(e,t){while(e.childNodes.length)e.removeChild(e.childNodes[0]);t&&(this.sanitizer?e.appendChild(this.sanitizer(t)):e.appendChild(t))}}]),e}();t["default"]=r},72199:(e,t,i)=>{var n=i(90127);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("f7d7b028",n,!0,{sourceMap:!1,shadowMode:!1})},73109:(e,t,i)=>{var n=i(72478);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("32d9b468",n,!0,{sourceMap:!1,shadowMode:!1})},84264:(e,t,i)=>{var n=i(89917);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("f470fa62",n,!0,{sourceMap:!1,shadowMode:!1})},90708:(e,t,i)=>{var n=i(72880);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("19460a8c",n,!0,{sourceMap:!1,shadowMode:!1})},64321:(e,t,i)=>{var n=i(87314);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("60d678c1",n,!0,{sourceMap:!1,shadowMode:!1})},57440:(e,t,i)=>{var n=i(19180);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("895e99fe",n,!0,{sourceMap:!1,shadowMode:!1})},75938:(e,t,i)=>{var n=i(59899);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("3b4c926a",n,!0,{sourceMap:!1,shadowMode:!1})},20070:(e,t,i)=>{var n=i(64743);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("0fa28732",n,!0,{sourceMap:!1,shadowMode:!1})},445:(e,t,i)=>{var n=i(54897);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("36a41d8d",n,!0,{sourceMap:!1,shadowMode:!1})},43626:(e,t,i)=>{var n=i(29913);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("5bb82194",n,!0,{sourceMap:!1,shadowMode:!1})},83330:(e,t,i)=>{var n=i(13162);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("5901124d",n,!0,{sourceMap:!1,shadowMode:!1})},6502:(e,t,i)=>{var n=i(17120);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("7fb78c99",n,!0,{sourceMap:!1,shadowMode:!1})},82670:(e,t,i)=>{var n=i(56205);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("725550fd",n,!0,{sourceMap:!1,shadowMode:!1})},81804:(e,t,i)=>{var n=i(49117);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("927fefe6",n,!0,{sourceMap:!1,shadowMode:!1})},87654:(e,t,i)=>{var n=i(92102);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("15b71643",n,!0,{sourceMap:!1,shadowMode:!1})},14619:(e,t,i)=>{var n=i(35609);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("a4b37094",n,!0,{sourceMap:!1,shadowMode:!1})},4437:(e,t,i)=>{var n=i(15568);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("4f928d50",n,!0,{sourceMap:!1,shadowMode:!1})},30039:(e,t,i)=>{var n=i(28822);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("0d5feb60",n,!0,{sourceMap:!1,shadowMode:!1})},50680:(e,t,i)=>{var n=i(91666);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("74dd004c",n,!0,{sourceMap:!1,shadowMode:!1})},15027:(e,t,i)=>{var n=i(16363);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("9e5f48ec",n,!0,{sourceMap:!1,shadowMode:!1})},47202:(e,t,i)=>{var n=i(25333);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("05dd6b8a",n,!0,{sourceMap:!1,shadowMode:!1})},47359:(e,t,i)=>{var n=i(33386);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("28e56ef5",n,!0,{sourceMap:!1,shadowMode:!1})},26454:(e,t,i)=>{var n=i(48437);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("910e5700",n,!0,{sourceMap:!1,shadowMode:!1})},27415:(e,t,i)=>{var n=i(36585);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("14ede703",n,!0,{sourceMap:!1,shadowMode:!1})},27236:(e,t,i)=>{var n=i(73827);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("666541af",n,!0,{sourceMap:!1,shadowMode:!1})},86310:(e,t,i)=>{var n=i(95925);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("f617d274",n,!0,{sourceMap:!1,shadowMode:!1})},51058:(e,t,i)=>{var n=i(61868);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("2ea44914",n,!0,{sourceMap:!1,shadowMode:!1})},64235:(e,t,i)=>{var n=i(27989);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("2e8bf399",n,!0,{sourceMap:!1,shadowMode:!1})},60854:(e,t,i)=>{var n=i(87252);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("0e28fa8c",n,!0,{sourceMap:!1,shadowMode:!1})},31412:(e,t,i)=>{var n=i(96624);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("36a7dc7e",n,!0,{sourceMap:!1,shadowMode:!1})},4404:(e,t,i)=>{var n=i(30254);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("9e97f42a",n,!0,{sourceMap:!1,shadowMode:!1})},92865:(e,t,i)=>{var n=i(31982);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("ceb3cd7c",n,!0,{sourceMap:!1,shadowMode:!1})},42535:(e,t,i)=>{var n=i(46109);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("a7641062",n,!0,{sourceMap:!1,shadowMode:!1})},93811:(e,t,i)=>{var n=i(88995);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("79d5d278",n,!0,{sourceMap:!1,shadowMode:!1})},91065:(e,t,i)=>{var n=i(35015);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("e65f9fa8",n,!0,{sourceMap:!1,shadowMode:!1})},23751:(e,t,i)=>{var n=i(21131);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("053ed15d",n,!0,{sourceMap:!1,shadowMode:!1})},29038:(e,t,i)=>{var n=i(77840);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=i(54402).Z;o("d01bb67a",n,!0,{sourceMap:!1,shadowMode:!1})},3754:(e,t,i)=>{"use strict";function n(){return new Worker(i.p+"static/js/css.0988847cc1dfc760.worker.js")}i.d(t,{Z:()=>n})},32343:(e,t,i)=>{"use strict";function n(){return new Worker(i.p+"static/js/editor.cc0c9f7db5e86773.worker.js")}i.d(t,{Z:()=>n})},84551:(e,t,i)=>{"use strict";function n(){return new Worker(i.p+"static/js/html.b1766c1108c2535c.worker.js")}i.d(t,{Z:()=>n})},27657:(e,t,i)=>{"use strict";function n(){return new Worker(i.p+"static/js/json.d4b5da2c9dfe1de7.worker.js")}i.d(t,{Z:()=>n})},76610:(e,t,i)=>{"use strict";e.exports=i.p+"static/fonts/codicon.adf6e809.ttf"},98761:(e,t,i)=>{"use strict";function n(e){return e>47&&e<58}function o(e,t,i){return t=t||65,i=i||90,e&=-33,e>=t&&e<=i}function r(e){return n(e)||s(e)}function s(e){return 95===e||o(e)}function a(e){return 196===e||214==e||220===e||228===e||246===e||252===e}function c(e){return 32===e||9===e||160===e}function l(e){return c(e)||10===e||13===e}function d(e){return 39===e||34===e}i.d(t,{Kl:()=>Sr,ZP:()=>Mr,h4:()=>co,nI:()=>Go,ok:()=>Hn});class u{constructor(e,t,i){null==i&&"string"===typeof e&&(i=e.length),this.string=e,this.pos=this.start=t||0,this.end=i||0}eof(){return this.pos>=this.end}limit(e,t){return new u(this.string,e,t)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(e){const t=this.peek(),i="function"===typeof e?e(t):t===e;return i&&this.next(),i}eatWhile(e){const t=this.pos;while(!this.eof()&&this.eat(e));return this.pos!==t}backUp(e){this.pos-=e||1}current(){return this.substring(this.start,this.pos)}substring(e,t){return this.string.slice(e,t)}error(e,t=this.pos){return new h(`${e} at ${t+1}`,t,this.string)}}class h extends Error{constructor(e,t,i){super(e),this.pos=t,this.string=i}}function g(e){return{tokens:e,start:0,pos:0,size:e.length}}function p(e){return e.tokens[e.pos]}function m(e){return e.tokens[e.pos++]}function f(e,t=e.start,i=e.pos){return e.tokens.slice(t,i)}function v(e){return e.pos<e.size}function _(e,t){const i=p(e);return!(!i||!t(i))&&(e.pos++,!0)}function b(e,t,i=p(e)){i&&null!=i.start&&(t+=` at ${i.start}`);const n=new Error(t);return n["pos"]=i&&i.start,n}function y(e,t={}){const i=g(e),n=w(i,t);if(v(i))throw b(i,"Unexpected character");return n}function w(e,t){const i={type:"TokenGroup",elements:[]};let n,o=i;const r=[];while(v(e)){if(!(n=S(e,t)||C(e,t)))break;if(o.elements.push(n),_(e,Q))r.push(o),o=n;else{if(_(e,Z))continue;if(_(e,Y))do{r.length&&(o=r.pop())}while(_(e,Y))}}return i}function C(e,t){if(_(e,K)){const i=w(e,t),n=m(e);return E(n,"group",!1)&&(i.repeat=L(e)),i}}function S(e,t){let i;const n={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};D(e,t)&&(n.name=f(e));while(v(e))if(e.start=e.pos,n.repeat||G(n)||!_(e,W))if(!n.value&&M(e))n.value=P(e);else{if(!(i=k(e,"id",t)||k(e,"class",t)||x(e))){!G(n)&&_(e,J)&&(n.selfClose=!0,!n.repeat&&_(e,W)&&(n.repeat=e.tokens[e.pos-1]));break}n.attributes?n.attributes=n.attributes.concat(i):n.attributes=Array.isArray(i)?i.slice():[i]}else n.repeat=e.tokens[e.pos-1];return G(n)?void 0:n}function x(e){if(_(e,U)){const t=[];let i;while(v(e))if(i=N(e))t.push(i);else{if(_(e,j))break;if(!_(e,O))throw b(e,`Unexpected "${p(e).type}" token`)}return t}}function k(e,t,i){if(A(p(e),t)){e.pos++;let n=1;while(A(p(e),t))e.pos++,n++;const o={name:[q(t)]};return n>1&&(o.multiple=!0),i.jsx&&M(e)?(o.value=P(e),o.expression=!0):o.value=R(e)?f(e):void 0,o}}function N(e){if(I(e))return{value:f(e)};if(R(e,!0)){const t=f(e);let i;return _(e,F)&&(I(e)||R(e,!0))&&(i=f(e)),{name:t,value:i}}}function L(e){return W(p(e))?e.tokens[e.pos++]:void 0}function I(e){const t=e.pos,i=p(e);if(T(i)){e.pos++;while(v(e))if(T(m(e),i.single))return e.start=t,!0;throw b(e,"Unclosed quote",i)}return!1}function R(e,t){const i=e.pos,n={attribute:0,expression:0,group:0};while(v(e)){const i=p(e);if(n.expression)E(i,"expression")&&(n[i.context]+=i.open?1:-1);else{if(T(i)||A(i)||O(i)||W(i))break;if(E(i)){if(!t)break;if(i.open)n[i.context]++;else{if(!n[i.context])break;n[i.context]--}}}e.pos++}return i!==e.pos&&(e.start=i,!0)}function D(e,t){const i=e.pos;if(t.jsx&&_(e,H))while(v(e)){const{pos:t}=e;if(!_(e,z)||!_(e,H)){e.pos=t;break}}while(v(e)&&_(e,V));return e.pos!==i&&(e.start=i,!0)}function M(e){const t=e.pos;if(_(e,$)){let i=0;while(v(e)){const t=m(e);if(E(t,"expression"))if(t.open)i++;else{if(!i)break;i--}}return e.start=t,!0}return!1}function P(e){let t=e.start,i=e.pos;return E(e.tokens[t],"expression",!0)&&t++,E(e.tokens[i-1],"expression",!1)&&i--,f(e,t,i)}function E(e,t,i){return Boolean(e&&"Bracket"===e.type&&(!t||e.context===t)&&(null==i||e.open===i))}function A(e,t){return Boolean(e&&"Operator"===e.type&&(!t||e.operator===t))}function T(e,t){return Boolean(e&&"Quote"===e.type&&(null==t||e.single===t))}function O(e){return Boolean(e&&"WhiteSpace"===e.type)}function F(e){return A(e,"equal")}function W(e){return Boolean(e&&"Repeater"===e.type)}function B(e){return"Literal"===e.type}function H(e){if(B(e)){const t=e.value.charCodeAt(0);return t>=65&&t<=90}return!1}function V(e){return"Literal"===e.type||"RepeaterNumber"===e.type||"RepeaterPlaceholder"===e.type}function z(e){return A(e,"class")}function U(e){return E(e,"attribute",!0)}function j(e){return E(e,"attribute",!1)}function $(e){return E(e,"expression",!0)}function K(e){return E(e,"group",!0)}function q(e){return{type:"Literal",value:e}}function G(e){return!e.name&&!e.value&&!e.attributes}function Q(e){return A(e,"child")}function Z(e){return A(e,"sibling")}function Y(e){return A(e,"climb")}function J(e){return A(e,"close")}var X;function ee(e){return!!e.eat(X.Escape)&&(e.start=e.pos,e.eof()||e.pos++,!0)}function te(e){const t=new u(e),i=[],n={group:0,attribute:0,expression:0,quote:0};let o,r=0;while(!t.eof()){if(r=t.peek(),o=ie(t,n),!o)throw t.error("Unexpected character");i.push(o),"Quote"===o.type?n.quote=r===n.quote?0:r:"Bracket"===o.type&&(n[o.context]+=o.open?1:-1)}return i}function ie(e,t){return ue(e,t)||le(e)||de(e)||ce(e)||oe(e)||ne(e,t)||ae(e)||re(e)||se(e)}function ne(e,t){const i=e.pos,o=t.expression;let r="";while(!e.eof()){if(ee(e)){r+=e.current();continue}const i=e.peek();if(i===X.Slash&&!t.quote&&!t.expression&&!t.attribute){const t=e.string.charCodeAt(e.pos-1),i=e.string.charCodeAt(e.pos+1);if(n(t)&&n(i)){r+=e.string[e.pos++];continue}}if(i===t.quote||i===X.Dollar||ge(i,t))break;if(o){if(i===X.CurlyBracketOpen)t.expression++;else if(i===X.CurlyBracketClose){if(!(t.expression>o))break;t.expression--}}else if(!t.quote){if(!t.attribute&&!be(i))break;if(pe(i,t)||me(i,t)||d(i)||fe(i))break}r+=e.string[e.pos++]}if(i!==e.pos)return e.start=i,{type:"Literal",value:r,start:i,end:e.pos}}function oe(e){const t=e.pos;if(e.eatWhile(l))return{type:"WhiteSpace",start:t,end:e.pos,value:e.substring(t,e.pos)}}function re(e){const t=e.peek();if(d(t))return{type:"Quote",single:t===X.SingleQuote,start:e.pos++,end:e.pos}}function se(e){const t=e.peek(),i=fe(t);if(i)return{type:"Bracket",open:_e(t),context:i,start:e.pos++,end:e.pos}}function ae(e){const t=ve(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function ce(e){const t=e.pos;if(e.eat(X.Asterisk)){e.start=e.pos;let i=1,o=!1;return e.eatWhile(n)?i=Number(e.current()):o=!0,{type:"Repeater",count:i,value:0,implicit:o,start:t,end:e.pos}}}function le(e){const t=e.pos;if(e.eat(X.Dollar)&&e.eat(X.Hash))return{type:"RepeaterPlaceholder",value:void 0,start:t,end:e.pos};e.pos=t}function de(e){const t=e.pos;if(e.eatWhile(X.Dollar)){const i=e.pos-t;let o=!1,r=1,s=0;if(e.eat(X.At)){while(e.eat(X.Climb))s++;o=e.eat(X.Dash),e.start=e.pos,e.eatWhile(n)&&(r=Number(e.current()))}return e.start=t,{type:"RepeaterNumber",size:i,reverse:o,base:r,parent:s,start:t,end:e.pos}}}function ue(e,t){const i=e.pos;if((t.expression||t.attribute)&&e.eat(X.Dollar)&&e.eat(X.CurlyBracketOpen)){let t;e.start=e.pos;let r="";if(e.eatWhile(n)?(t=Number(e.current()),r=e.eat(X.Colon)?he(e):""):o(e.peek())&&(r=he(e)),e.eat(X.CurlyBracketClose))return{type:"Field",index:t,name:r,start:i,end:e.pos};throw e.error("Expecting }")}e.pos=i}function he(e){const t=[];e.start=e.pos;while(!e.eof())if(e.eat(X.CurlyBracketOpen))t.push(e.pos);else if(e.eat(X.CurlyBracketClose)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function ge(e,t){const i=ve(e);return!(!i||t.quote||t.expression)&&(!t.attribute||"equal"===i)}function pe(e,t){return l(e)&&!t.expression}function me(e,t){return e===X.Asterisk&&!t.attribute&&!t.expression}function fe(e){return e===X.RoundBracketOpen||e===X.RoundBracketClose?"group":e===X.SquareBracketOpen||e===X.SquareBracketClose?"attribute":e===X.CurlyBracketOpen||e===X.CurlyBracketClose?"expression":void 0}function ve(e){return(e===X.Child?"child":e===X.Sibling&&"sibling")||e===X.Climb&&"climb"||e===X.Dot&&"class"||e===X.Hash&&"id"||e===X.Slash&&"close"||e===X.Equals&&"equal"||void 0}function _e(e){return e===X.CurlyBracketOpen||e===X.SquareBracketOpen||e===X.RoundBracketOpen}function be(e){return r(e)||a(e)||e===X.Dash||e===X.Colon||e===X.Excl}(function(e){e[e["CurlyBracketOpen"]=123]="CurlyBracketOpen",e[e["CurlyBracketClose"]=125]="CurlyBracketClose",e[e["Escape"]=92]="Escape",e[e["Equals"]=61]="Equals",e[e["SquareBracketOpen"]=91]="SquareBracketOpen",e[e["SquareBracketClose"]=93]="SquareBracketClose",e[e["Asterisk"]=42]="Asterisk",e[e["Hash"]=35]="Hash",e[e["Dollar"]=36]="Dollar",e[e["Dash"]=45]="Dash",e[e["Dot"]=46]="Dot",e[e["Slash"]=47]="Slash",e[e["Colon"]=58]="Colon",e[e["Excl"]=33]="Excl",e[e["At"]=64]="At",e[e["Underscore"]=95]="Underscore",e[e["RoundBracketOpen"]=40]="RoundBracketOpen",e[e["RoundBracketClose"]=41]="RoundBracketClose",e[e["Sibling"]=43]="Sibling",e[e["Child"]=62]="Child",e[e["Climb"]=94]="Climb",e[e["SingleQuote"]=39]="SingleQuote",e[e["DoubleQuote"]=34]="DoubleQuote"})(X||(X={}));const ye={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},we={Literal(e){return e.value},Quote(e){return e.single?"'":'"'},Bracket(e){return"attribute"===e.context?e.open?"[":"]":"expression"===e.context?e.open?"{":"}":e.open?"(":"}"},Operator(e){return ye[e.operator]},Field(e,t){return null!=e.index?e.name?`\${${e.index}:${e.name}}`:`\${${e.index}`:e.name?t.getVariable(e.name):""},RepeaterPlaceholder(e,t){let i;for(let n=t.repeaters.length-1;n>=0;n--)if(t.repeaters[n].implicit){i=t.repeaters[n];break}return t.inserted=!0,t.getText(i&&i.value)},RepeaterNumber(e,t){let i=1;const n=t.repeaters.length-1,o=t.repeaters[n];if(o&&(i=e.reverse?e.base+o.count-o.value-1:e.base+o.value,e.parent)){const r=Math.max(0,n-e.parent);if(r!==n){const e=t.repeaters[r];i+=o.count*e.value}}let r=String(i);while(r.length<e.size)r="0"+r;return r},WhiteSpace(e){return e.value}};function Ce(e,t){if(!we[e.type])throw new Error(`Unknown token ${e.type}`);return we[e.type](e,t)}const Se=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,xe=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/;function ke(e,t={}){let i,n=!1;t.text&&(i=Array.isArray(t.text)?t.text.filter((e=>e.trim())):t.text);const o={type:"Abbreviation",children:Ie(e,{inserted:!1,repeaters:[],text:t.text,cleanText:i,repeatGuard:t.maxRepeat||Number.POSITIVE_INFINITY,getText(e){var o;let r;if(n=!0,Array.isArray(t.text)){if(void 0!==e&&e>=0&&e<i.length)return i[e];r=void 0!==e?t.text[e]:t.text.join("\n")}else r=null!==(o=t.text)&&void 0!==o?o:"";return r},getVariable(e){const i=t.variables&&t.variables[e];return null!=i?i:e}})};if(null!=t.text&&!n){const e=Te(Ae(o.children));if(e){const i=Array.isArray(t.text)?t.text.join("\n"):t.text;Oe(e,i),"a"===e.name&&t.href&&Fe(e,i)}}return o}function Ne(e,t){let i=[];if(e.repeat){const n=e.repeat,o=Object.assign({},n);let r;o.count=o.implicit&&Array.isArray(t.text)?t.cleanText.length:o.count||1,t.repeaters.push(o);for(let s=0;s<o.count;s++){if(o.value=s,e.repeat=o,r=Pe(e)?Ie(e,t):Le(e,t),o.implicit&&!t.inserted){const e=Ae(r),i=e&&Te(e);i&&Oe(i,t.getText(o.value))}if(i=i.concat(r),--t.repeatGuard<=0)break}t.repeaters.pop(),e.repeat=n,o.implicit&&(t.inserted=!0)}else i=i.concat(Pe(e)?Ie(e,t):Le(e,t));return i}function Le(e,t){let i=[];const n={type:"AbbreviationNode",name:e.name&&De(e.name,t),value:e.value&&Me(e.value,t),attributes:void 0,children:i,repeat:e.repeat&&Object.assign({},e.repeat),selfClosing:e.selfClose};let o=[n];for(const r of e.elements)i=i.concat(Ne(r,t));if(e.attributes){n.attributes=[];for(const i of e.attributes)n.attributes.push(Re(i,t))}return n.name||n.attributes||!n.value||n.value.some(Ee)?n.children=i:o=o.concat(i),o}function Ie(e,t){let i=[];for(const n of e.elements)i=i.concat(Ne(n,t));return e.repeat&&(i=We(i,e.repeat)),i}function Re(e,t){let i,n=!1,o=!1,r=e.expression?"expression":"raw";const s=e.name&&De(e.name,t);if(s&&"!"===s[0]&&(n=!0),s&&"."===s[s.length-1]&&(o=!0),e.value){const n=e.value.slice();if(T(n[0])){const e=n.shift();n.length&&Ae(n).type===e.type&&n.pop(),r=e.single?"singleQuote":"doubleQuote"}else E(n[0],"expression",!0)&&(r="expression",n.shift(),E(Ae(n),"expression",!1)&&n.pop());i=Me(n,t)}return{name:o||n?s.slice(n?1:0,o?-1:void 0):s,value:i,boolean:o,implied:n,valueType:r,multiple:e.multiple}}function De(e,t){let i="";for(let n=0;n<e.length;n++)i+=Ce(e[n],t);return i}function Me(e,t){const i=[];let n="";for(let o,r=0;r<e.length;r++)o=e[r],Ee(o)?(n&&(i.push(n),n=""),i.push(o)):n+=Ce(o,t);return n&&i.push(n),i}function Pe(e){return"TokenGroup"===e.type}function Ee(e){return"object"===typeof e&&"Field"===e.type&&null!=e.index}function Ae(e){return e[e.length-1]}function Te(e){return e.children.length?Te(Ae(e.children)):e}function Oe(e,t){if(e.value){const i=Ae(e.value);"string"===typeof i?e.value[e.value.length-1]+=t:e.value.push(t)}else e.value=[t]}function Fe(e,t){var i;let n="";Se.test(t)?(n=t,/\w+:/.test(n)||n.startsWith("//")||(n=`http://${n}`)):xe.test(t)&&(n=`mailto:${t}`);const o=null===(i=e.attributes)||void 0===i?void 0:i.find((e=>"href"===e.name));o?o.value||(o.value=[n]):(e.attributes||(e.attributes=[]),e.attributes.push({name:"href",value:[n],valueType:"doubleQuote"}))}function We(e,t){for(const i of e)i.repeat||(i.repeat=Object.assign({},t));return e}function Be(e,t){try{const i="string"===typeof e?te(e):e;return ke(y(i,t),t)}catch(i){throw i instanceof h&&"string"===typeof e&&(i.message+=`\n${e}\n${"-".repeat(i.pos)}^`),i}}var He,Ve;function ze(e,t){let i,n=0;const o=new u(e),r=[];while(!o.eof()){if(i=Ue(o,0===n&&!t),!i)throw o.error("Unexpected character");if("Bracket"===i.type&&(!n&&i.open&&ut(o,r),n+=i.open?1:-1,n<0))throw o.error("Unexpected bracket",i.start);r.push(i),dt(i)&&(i=tt(o))&&r.push(i)}return r}function Ue(e,t){return je(e)||Xe(e)||Ge(e)||Ze(e)||Qe(e)||et(e)||tt(e)||Je(e)||Ke(e,t)}function je(e){const t=e.pos;if(e.eat(Ve.Dollar)&&e.eat(Ve.CurlyBracketOpen)){let i;e.start=e.pos;let r="";if(e.eatWhile(n)?(i=Number(e.current()),r=e.eat(Ve.Colon)?$e(e):""):o(e.peek())&&(r=$e(e)),e.eat(Ve.CurlyBracketClose))return{type:"Field",index:i,name:r,start:t,end:e.pos};throw e.error("Expecting }")}e.pos=t}function $e(e){const t=[];e.start=e.pos;while(!e.eof())if(e.eat(Ve.CurlyBracketOpen))t.push(e.pos);else if(e.eat(Ve.CurlyBracketClose)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function Ke(e,t){const i=e.pos;if(e.eat(nt)?e.eatWhile(i?st:ct):e.eat(s)?e.eatWhile(t?ct:st):(e.eat(Ve.Dot),e.eatWhile(ct)),i!==e.pos)return e.start=i,qe(e,e.start=i)}function qe(e,t=e.start,i=e.pos){return{type:"Literal",value:e.substring(t,i),start:t,end:i}}function Ge(e){const t=e.pos;if(it(e)){e.start=t;const i=e.current();return e.start=e.pos,e.eat(Ve.Percent)||e.eatWhile(s),{type:"NumberValue",value:Number(i),rawValue:i,unit:e.current(),start:t,end:e.pos}}}function Qe(e){const t=e.peek(),i=e.pos;let n=!1;if(d(t)){e.pos++;while(!e.eof()){if(e.eat(t)){n=!0;break}e.pos++}return e.start=i,{type:"StringValue",value:e.substring(i+1,e.pos-(n?1:0)),quote:t===Ve.SingleQuote?"single":"double",start:i,end:e.pos}}}function Ze(e){const t=e.pos;if(e.eat(Ve.Hash)){const i=e.pos;let n="",o="";if(e.eatWhile(rt)?(n=e.substring(i,e.pos),o=Ye(e)):e.eat(Ve.Transparent)?(n="0",o=Ye(e)||"0"):o=Ye(e),n||o||e.eof()){const{r:i,g:r,b:s,a}=lt(n,o);return{type:"ColorValue",r:i,g:r,b:s,a,raw:e.substring(t+1,e.pos),start:t,end:e.pos}}return qe(e,t)}e.pos=t}function Ye(e){const t=e.pos;return e.eat(Ve.Dot)?(e.start=t,e.eatWhile(n)?e.current():"1"):""}function Je(e){const t=e.pos;if(e.eatWhile(l))return{type:"WhiteSpace",start:t,end:e.pos}}function Xe(e){const t=e.pos;if(e.eat(Ve.Dash)&&e.eat(Ve.Dash))return e.start=t,e.eatWhile(st),{type:"CustomProperty",value:e.current(),start:t,end:e.pos};e.pos=t}function et(e){const t=e.peek();if(at(t))return{type:"Bracket",open:t===Ve.RoundBracketOpen,start:e.pos++,end:e.pos}}function tt(e){const t=ot(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function it(e){const t=e.pos;e.eat(Ve.Dash);const i=e.pos,o=e.eatWhile(n),r=e.pos;if(e.eat(Ve.Dot)){const t=e.eatWhile(n);o||t||(e.pos=r)}return e.pos===i&&(e.pos=t),e.pos!==t}function nt(e){return e===Ve.At||e===Ve.Dollar}function ot(e){return e===Ve.Sibling&&He.Sibling||e===Ve.Excl&&He.Important||e===Ve.Comma&&He.ArgumentDelimiter||e===Ve.Colon&&He.PropertyDelimiter||e===Ve.Dash&&He.ValueDelimiter||void 0}function rt(e){return n(e)||o(e,65,70)}function st(e){return r(e)||e===Ve.Dash}function at(e){return e===Ve.RoundBracketOpen||e===Ve.RoundBracketClose}function ct(e){return s(e)||e===Ve.Percent||e===Ve.Slash}function lt(e,t){let i="0",n="0",o="0",r=Number(null!=t&&""!==t?t:1);if("t"===e)r=0;else switch(e.length){case 0:break;case 1:i=n=o=e+e;break;case 2:i=n=o=e;break;case 3:i=e[0]+e[0],n=e[1]+e[1],o=e[2]+e[2];break;default:e+=e,i=e.slice(0,2),n=e.slice(2,4),o=e.slice(4,6)}return{r:parseInt(i,16),g:parseInt(n,16),b:parseInt(o,16),a:r}}function dt(e){return"ColorValue"===e.type||"NumberValue"===e.type&&!e.unit}function ut(e,t){let i=0,n=0;while(t.length){const e=ht(t);if("Literal"!==e.type&&"NumberValue"!==e.type)break;i=e.start,n||(n=e.end),t.pop()}i!==n&&t.push(qe(e,i,n))}function ht(e){return e[e.length-1]}function gt(e){return{tokens:e,start:0,pos:0,size:e.length}}function pt(e){return e.tokens[e.pos]}function mt(e){return e.pos<e.size}function ft(e,t){return!!t(pt(e))&&(e.pos++,!0)}function vt(e,t,i=pt(e)){i&&null!=i.start&&(t+=` at ${i.start}`);const n=new Error(t);return n["pos"]=i&&i.start,n}function _t(e,t={}){const i=gt(e),n=[];let o;while(mt(i))if(o=bt(i,t))n.push(o);else if(!ft(i,It))throw vt(i,"Unexpected token");return n}function bt(e,t){let i,n,o=!1;const r=[],s=pt(e),a=!!t.value;a||!Ct(s)||At(e)||(e.pos++,i=s.value,ft(e,Et)),a&&ft(e,Nt);while(mt(e))if(ft(e,Mt))o=!0;else if(n=yt(e,a))r.push(n);else if(!ft(e,Dt))break;if(i||r.length||o)return{name:i,value:r,important:o}}function yt(e,t){const i=[];let n,o;while(mt(e))if(n=pt(e),Pt(n))e.pos++,Ct(n)&&(o=wt(e))?i.push({type:"FunctionCall",name:n.value,arguments:o}):i.push(n);else{if(!(Et(n)||t&&Nt(n)))break;e.pos++}return i.length?{type:"CSSValue",value:i}:void 0}function wt(e){const t=e.pos;if(ft(e,xt)){const i=[];let n;while(mt(e)&&!ft(e,kt))if(n=yt(e,!0))i.push(n);else if(!ft(e,Nt)&&!ft(e,Rt))throw vt(e,"Unexpected token");return e.start=t,i}}function Ct(e){return e&&"Literal"===e.type}function St(e,t){return e&&"Bracket"===e.type&&(null==t||e.open===t)}function xt(e){return St(e,!0)}function kt(e){return St(e,!1)}function Nt(e){return e&&"WhiteSpace"===e.type}function Lt(e,t){return e&&"Operator"===e.type&&(!t||e.operator===t)}function It(e){return Lt(e,He.Sibling)}function Rt(e){return Lt(e,He.ArgumentDelimiter)}function Dt(e){return Rt(e)}function Mt(e){return Lt(e,He.Important)}function Pt(e){return"StringValue"===e.type||"ColorValue"===e.type||"NumberValue"===e.type||"Literal"===e.type||"Field"===e.type||"CustomProperty"===e.type}function Et(e){return Lt(e,He.PropertyDelimiter)||Lt(e,He.ValueDelimiter)}function At(e){const t=e.tokens[e.pos],i=e.tokens[e.pos+1];return t&&i&&Ct(t)&&"Bracket"===i.type}function Tt(e,t){try{const i="string"===typeof e?ze(e,t&&t.value):e;return _t(i,t)}catch(i){throw i instanceof h&&"string"===typeof e&&(i.message+=`\n${e}\n${"-".repeat(i.pos)}^`),i}}function Ot(e,t){if(!e.attributes)return;const i=[],n={};for(const o of e.attributes)if(o.name){const e=o.name;if(e in n){const i=n[e];"class"===e?i.value=Ft(i.value,o.value," "):Wt(i,o,t)}else i.push(n[e]=Object.assign({},o))}else i.push(o);e.attributes=i}function Ft(e,t,i){if(e&&t){e.length&&i&&Bt(e,i);for(const i of t)Bt(e,i);return e}const n=e||t;return n&&n.slice()}function Wt(e,t,i){return e.name=t.name,i.options["output.reverseAttributes"]||(e.value=t.value),e.implied||(e.implied=t.implied),e.boolean||(e.boolean=t.boolean),"expression"!==e.valueType&&(e.valueType=t.valueType),e}function Bt(e,t){const i=e.length-1;"string"===typeof e[i]&&"string"===typeof t?e[i]+=t:e.push(t)}function Ht(e,t,i){const n=[e],o=e=>{t(e,n,i),n.push(e),e.children.forEach(o),n.pop()};e.children.forEach(o)}function Vt(e){let t;while(e.children.length)t=e,e=e.children[e.children.length-1];return{parent:t,node:e}}function zt(e){return"AbbreviationNode"===e.type}function Ut(e,t){const i=[],n=t.options["output.reverseAttributes"],o=e=>{const r=e.name&&t.snippets[e.name];if(!r||i.includes(r))return null;const s=Be(r,t);i.push(r),jt(s,o),i.pop();for(const t of s.children){if(e.attributes){const i=t.attributes||[],o=e.attributes||[];t.attributes=n?o.concat(i):i.concat(o)}$t(e,t)}return s};return jt(e,o),e}function jt(e,t,i){let n=[];for(const o of e.children){const e=t(o);if(e){n=n.concat(e.children);const i=Vt(e);zt(i.node)&&(i.node.children=i.node.children.concat(jt(o,t)))}else n.push(o),o.children=jt(o,t)}return e.children=n}function $t(e,t){e.selfClosing&&(t.selfClosing=!0),null!=e.value&&(t.value=e.value),e.repeat&&(t.repeat=e.repeat)}(function(e){e["Sibling"]="+",e["Important"]="!",e["ArgumentDelimiter"]=",",e["ValueDelimiter"]="-",e["PropertyDelimiter"]=":"})(He||(He={})),function(e){e[e["Hash"]=35]="Hash",e[e["Dollar"]=36]="Dollar",e[e["Dash"]=45]="Dash",e[e["Dot"]=46]="Dot",e[e["Colon"]=58]="Colon",e[e["Comma"]=44]="Comma",e[e["Excl"]=33]="Excl",e[e["At"]=64]="At",e[e["Percent"]=37]="Percent",e[e["Underscore"]=95]="Underscore",e[e["RoundBracketOpen"]=40]="RoundBracketOpen",e[e["RoundBracketClose"]=41]="RoundBracketClose",e[e["CurlyBracketOpen"]=123]="CurlyBracketOpen",e[e["CurlyBracketClose"]=125]="CurlyBracketClose",e[e["Sibling"]=43]="Sibling",e[e["SingleQuote"]=39]="SingleQuote",e[e["DoubleQuote"]=34]="DoubleQuote",e[e["Transparent"]=116]="Transparent",e[e["Slash"]=47]="Slash"}(Ve||(Ve={}));const Kt="{",qt="}";function Gt(e,t=0){return{options:e,value:"",level:t,offset:0,line:0,column:0}}function Qt(e,t){const i=e.options["output.text"];ai(e,i(t,e.offset,e.line,e.column))}function Zt(e,t){const i=si(t);for(let n=0,o=i.length-1;n<=o;n++)Qt(e,i[n]),n!==o&&Yt(e,!0)}function Yt(e,t){const i=e.options["output.baseIndent"],n=e.options["output.newline"];Qt(e,n+i),e.line++,e.column=i.length,t&&Jt(e,!0===t?e.level:t)}function Jt(e,t=e.level){const i=e.options["output.indent"];Qt(e,i.repeat(Math.max(t,0)))}function Xt(e,t,i){const n=e.options["output.field"];ai(e,n(t,i,e.offset,e.line,e.column))}function ei(e,t){return ci(e,t.options["output.tagCase"])}function ti(e,t){return ci(e,t.options["output.attributeCase"])}function ii(e,t,i){return"expression"===e.valueType?i?Kt:qt:"single"===t.options["output.attributeQuotes"]?"'":'"'}function ni(e,t){return e.boolean||t.options["output.booleanAttributes"].includes((e.name||"").toLowerCase())}function oi(e){switch(e.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function ri(e,t){return"string"===typeof e?t.options.inlineElements.includes(e.toLowerCase()):e.name?ri(e.name,t):Boolean(e.value&&!e.attributes)}function si(e){return e.split(/\r\n|\r|\n/g)}function ai(e,t){e.value+=t,e.offset+=t.length,e.column+=t.length}function ci(e,t){return t?"upper"===t?e.toUpperCase():e.toLowerCase():e}const li={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function di(e,t,i){!e.name&&e.attributes&&ui(e,t,i)}function ui(e,t,i){const n=gi(t),o=i.context?i.context.name:"",r=hi(n?n.name:o);e.name=li[r]||(ri(r,i)?"span":"div")}function hi(e){return(e||"").toLowerCase()}function gi(e){for(let t=e.length-1;t>=0;t--){const i=e[t];if(zt(i))return i}}var pi={common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},mi={common:["-","","",""," ",""," ","","",""],words:[""," ","","",""," ","","","","","","","",""," ","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","lorem","ipsum","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fi={common:["mujer","uno","dolor","ms","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pao","suntuoso","molde","namibia","planeador","mirar","dems","oficinista","excepcin","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","curum","dignsimo","facilismo","letra","nihilista","expedicin","alma","alveolar","aparte","len","animal","como","paria","belleza","modo","natividad","justo","ataque","squito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asuncin","incidente","marejada","placenta","amanecer","fuga","previsor","presentacin","lejos","necesariamente","sospechoso","adiposidad","quindo","pcima","voluble","dbito","sinti","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","mnima","mayores","repugnante","dulce","obcecado","montaa","enigma","total","deletreo","dcima","cbala","fotografa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magnfico","distincin","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crepsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abada","analfabeto","remo","fugacidad","oficio","en","almcigo","vos","pan","represin","nmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patrn","explcito","paloma","sndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","apndice","arquitecto","columna","yugo","computador","mula","a","propsito","fantasa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]};const vi={ru:mi,sp:fi,latin:pi},_i=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function bi(e,t,i){let n;if(e.name&&(n=e.name.match(_i))){const o=vi[n[1]]||vi.latin,r=n[2]?Math.max(1,Number(n[2])):30,s=n[3]?Math.max(r,Number(n[3].slice(1))):r,a=yi(r,s),c=e.repeat||Li(t);e.name=e.attributes=void 0,e.value=[Ni(o,a,!c||0===c.value)],e.repeat&&t.length>1&&ui(e,t,i)}}function yi(e,t){return Math.floor(Math.random()*(t-e)+e)}function wi(e,t){const i=e.length,n=Math.min(i,t),o=[];while(o.length<n){const t=e[yi(0,i)];o.includes(t)||o.push(t)}return o}function Ci(e){return e[yi(0,e.length-1)]}function Si(e,t){return e.length&&(e=[xi(e[0])].concat(e.slice(1))),e.join(" ")+(t||Ci("?!..."))}function xi(e){return e[0].toUpperCase()+e.slice(1)}function ki(e){if(e.length<2)return e;e=e.slice();const t=e.length,i=/,$/;let n=0;n=t>3&&t<=6?yi(0,1):t>6&&t<=12?yi(0,2):yi(1,4);for(let o,r=0;r<n;r++)o=yi(0,t-2),i.test(e[o])||(e[o]+=",");return e}function Ni(e,t,i){const n=[];let o,r=0;i&&e.common&&(o=e.common.slice(0,t),r+=o.length,n.push(Si(ki(o),".")));while(r<t)o=wi(e.words,Math.min(yi(2,30),t-r)),r+=o.length,n.push(Si(ki(o)));return n.join(" ")}function Li(e){for(let t=e.length-1;t>=0;t--){const i=e[t];if("AbbreviationNode"===i.type&&i.repeat)return i.repeat}}function Ii(e){Di(e.name)&&e.attributes&&(e.children.length||e.value)&&(e.attributes=e.attributes.filter(Ri))}function Ri(e){return"select"!==e.name}function Di(e){return"xsl:variable"===e||"xsl:with-param"===e}const Mi=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Pi=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,Ei=e=>/^[a-z]\-/i.test(e),Ai=e=>/^[a-z]/i.test(e);function Ti(e,t,i){Oi(e),Fi(e,t,i)}function Oi(e){const t=Wi(e),i=[];for(const n of t.classNames){const e=n.indexOf("_");e>0&&!n.startsWith("-")?(i.push(n.slice(0,e)),i.push(n.slice(e))):i.push(n)}i.length&&(t.classNames=i.filter(Ki),t.block=zi(t.classNames),ji(e,t.classNames.join(" ")))}function Fi(e,t,i){const n=Wi(e),o=[],{options:r}=i,s=t.slice(1).concat(e);for(let c of n.classNames){let e,t="";const n=c;(e=c.match(Mi))&&(t=Vi(s,e[1].length,i.context)+r["bem.element"]+e[2],o.push(t),c=c.slice(e[0].length)),(e=c.match(Pi))&&(t||(t=Vi(s,e[1].length),o.push(t)),o.push(`${t}${r["bem.modifier"]}${e[2]}`),c=c.slice(e[0].length)),c===n&&o.push(n)}const a=o.filter(Ki);a.length&&ji(e,a.join(" "))}function Wi(e){if(!e._bem){let t="";if(e.attributes)for(const i of e.attributes)if("class"===i.name&&i.value){t=$i(i.value);break}e._bem=Hi(t)}return e._bem}function Bi(e){return e._bem||(e._bem=Hi(e.attributes&&e.attributes.class||"")),e._bem}function Hi(e){const t=e?e.split(/\s+/):[];return{classNames:t,block:zi(t)}}function Vi(e,t=0,i){const n=0;let o=Math.max(e.length-t,n);do{const t=e[o];if(t){const e=Wi(t);if(e.block)return e.block}}while(n<o--);if(i){const e=Bi(i);if(e.block)return e.block}return""}function zi(e){return Ui(e,Ei)||Ui(e,Ai)||void 0}function Ui(e,t){for(const i of e){if(Mi.test(i)||Pi.test(i))break;if(t(i))return i}}function ji(e,t){for(const i of e.attributes)if("class"===i.name){i.value=[t];break}}function $i(e){let t="";for(const i of e)t+="string"===typeof i?i:i.name;return t}function Ki(e,t,i){return!!e&&i.indexOf(e)===t}function qi(e,t,i){const n=(e,n,r)=>{const{parent:s,current:a}=i;i.parent=a,i.current=e,t(e,n,r,i,o),i.current=a,i.parent=s},o=(e,t,o)=>{i.ancestors.push(i.current),n(e,t,o),i.ancestors.pop()};e.children.forEach(n)}function Gi(e){return{current:null,parent:void 0,ancestors:[],config:e,field:1,out:Gt(e.options)}}const Qi=[{type:"Field",index:0,name:""}];function Zi(e){return!!e&&(!e.name&&!e.attributes)}function Yi(e,t){return!!e&&ri(e,t)}function Ji(e){return"object"===typeof e&&"Field"===e.type}function Xi(e,t){const{out:i}=t;let n=-1;for(const o of e)"string"===typeof o?Zt(i,o):(Xt(i,t.field+o.index,o.name),o.index>n&&(n=o.index));-1!==n&&(t.field+=n+1)}function en(e){const t=[];let i=[];for(const n of e)if("string"===typeof n){const e=n.split(/\r\n?|\n/g);i.push(e.shift()||"");while(e.length)t.push(i),i=[e.shift()||""]}else i.push(n);return i.length&&t.push(i),t}function tn(e){return!e.implied||"raw"!==e.valueType||!!e.value&&e.value.length>0}var nn;function on(e){const t=[],i={pos:0,text:e};let n,o=i.pos,r=i.pos;while(i.pos<i.text.length)r=i.pos,(n=rn(i))?(o!==i.pos&&t.push(e.slice(o,r)),t.push(n),o=i.pos):i.pos++;return o!==i.pos&&t.push(e.slice(o)),t}function rn(e){if(sn(e)===nn.Start){const t=++e.pos;let i=t,n=t,o=1;while(e.pos<e.text.length){const r=sn(e);if(an(r)){i=e.pos;while(cn(sn(e)))e.pos++;n=e.pos}else{if(r===nn.Start)o++;else if(r===nn.End&&0===--o)return{before:e.text.slice(t,i),after:e.text.slice(n,e.pos++),name:e.text.slice(i,n)};e.pos++}}}}function sn(e,t=e.pos){return e.text.charCodeAt(t)}function an(e){return e>=65&&e<=90}function cn(e){return an(e)||e>47&&e<58||e===nn.Underscore||e===nn.Dash}function ln(e){const{options:t}=e;return{enabled:t["comment.enabled"],trigger:t["comment.trigger"],before:t["comment.before"]?on(t["comment.before"]):void 0,after:t["comment.after"]?on(t["comment.after"]):void 0}}function dn(e,t){hn(e,t)&&t.comment.before&&gn(e,t.comment.before,t)}function un(e,t){hn(e,t)&&t.comment.after&&gn(e,t.comment.after,t)}function hn(e,t){const{comment:i}=t;if(!i.enabled||!i.trigger||!e.name||!e.attributes)return!1;for(const n of e.attributes)if(n.name&&i.trigger.includes(n.name))return!0;return!1}function gn(e,t,i){const n={},{out:o}=i;for(const r of e.attributes)r.name&&r.value&&(n[r.name.toUpperCase()]=r.value);for(const r of t)"string"===typeof r?Zt(o,r):n[r.name]&&(Zt(o,r.before),Xi(n[r.name],i),Zt(o,r.after))}(function(e){e[e["Start"]=91]="Start",e[e["End"]=93]="End",e[e["Underscore"]=95]="Underscore",e[e["Dash"]=45]="Dash"})(nn||(nn={}));const pn=/^<([\w\-:]+)[\s>]/,mn=new Set(["for","while","of","async","await","const","let","var","continue","break","debugger","do","export","import","in","instanceof","new","return","switch","this","throw","try","catch","typeof","void","with","yield"]);function fn(e,t){const i=Gi(t);return i.comment=ln(t),qi(e,vn,i),i.out.value}function vn(e,t,i,n,o){const{out:r,config:s}=n,a=yn(e,t,i,n),c=wn(n);if(r.level+=c,a&&Yt(r,!0),e.name){const t=ei(e.name,s);if(dn(e,n),Zt(r,`<${t}`),e.attributes)for(const i of e.attributes)tn(i)&&_n(i,n);if(!e.selfClosing||e.children.length||e.value){if(Zt(r,">"),!bn(e,n,o)){if(e.value){const t=e.value.some(Cn)||Sn(e.value,s);t&&Yt(n.out,++r.level),Xi(e.value,n),t&&Yt(n.out,--r.level)}if(e.children.forEach(o),!e.value&&!e.children.length){const t=s.options["output.formatLeafNode"]||s.options["output.formatForce"].includes(e.name);t&&Yt(n.out,++r.level),Xi(Qi,n),t&&Yt(n.out,--r.level)}}Zt(r,`</${t}>`),un(e,n)}else Zt(r,`${oi(s)}>`)}else!bn(e,n,o)&&e.value&&(Xi(e.value,n),e.children.forEach(o));if(a&&t===i.length-1&&n.parent){const e=Zi(n.parent)?0:1;Yt(r,r.level-e)}r.level-=c}function _n(e,t){const{out:i,config:n}=t;if(e.name){const o=n.options["markup.attributes"],r=n.options["markup.valuePrefix"];let{name:s,value:a}=e,c=ii(e,n,!0),l=ii(e,n);o&&(s=xn(s,o,e.multiple)||s),s=ti(s,n);const d=r?xn(e.name,r,e.multiple):null;if(d&&1===(null===a||void 0===a?void 0:a.length)&&"string"===typeof a[0]){const e=a[0];a=[kn(e)?`${d}.${e}`:`${d}['${e}']`],n.options["jsx.enabled"]&&(c=Kt,l=qt)}ni(e,n)&&!a?n.options["output.compactBoolean"]||(a=[s]):a||(a=Qi),Zt(i," "+s),a?(Zt(i,"="+c),Xi(a,t),Zt(i,l)):"html"!==n.options["output.selfClosingStyle"]&&Zt(i,"="+c+l)}}function bn(e,t,i){if(e.value&&e.children.length){const n=e.value.findIndex(Ji);if(-1!==n){Xi(e.value.slice(0,n),t);const o=t.out.line;let r=n+1;return e.children.forEach(i),t.out.line!==o&&"string"===typeof e.value[r]&&Zt(t.out,e.value[r++].trimLeft()),Xi(e.value.slice(r),t),!0}}return!1}function yn(e,t,i,n){const{config:o,parent:r}=n;if(!o.options["output.format"])return!1;if(0===t&&!r)return!1;if(r&&Zi(r)&&1===i.length)return!1;if(Zi(e)){const n=Zi(i[t-1])||Zi(i[t+1])||e.value.some(Cn)||e.value.some(Ji)&&e.children.length;if(n)return!0}if(ri(e,o)){if(0===t){for(let e=0;e<i.length;e++)if(!ri(i[e],o))return!0}else if(!ri(i[t-1],o))return!0;if(o.options["output.inlineBreak"]){let e=1,n=t,r=t;while(Yi(i[--n],o))e++;while(Yi(i[++r],o))e++;if(e>=o.options["output.inlineBreak"])return!0}for(let t=0,i=e.children.length;t<i;t++)if(yn(e.children[t],t,e.children,n))return!0;return!1}return!0}function wn(e){const{config:t,parent:i}=e;return!i||Zi(i)||i.name&&t.options["output.formatSkip"].includes(i.name)?0:1}function Cn(e){return"string"===typeof e&&/\r|\n/.test(e)}function Sn(e,t){if(e.length&&"string"===typeof e[0]){const i=pn.exec(e[0]);if((null===i||void 0===i?void 0:i.length)&&!t.options["inlineElements"].includes(i[1].toLowerCase()))return!0}return!1}function xn(e,t,i){return i&&t[`${e}*`]||t[e]}function kn(e){return!mn.has(e)&&/^[a-zA-Z_$][\w_$]*$/.test(e)}function Nn(e,t,i){const n=Gi(t);return n.options=i||{},qi(e,Ln,n),n.out.value}function Ln(e,t,i,n,o){const{out:r,options:s}=n,{primary:a,secondary:c}=In(e),l=n.parent?1:0;r.level+=l,An(e,t,i,n)&&Yt(r,!0),!e.name||"div"===e.name&&a.length||Zt(r,(s.beforeName||"")+e.name+(s.afterName||"")),Rn(a,n),Dn(c.filter(tn),n),!e.selfClosing||e.value||e.children.length?(Mn(e,n),e.children.forEach(o)):n.options.selfClose&&Zt(r,n.options.selfClose),r.level-=l}function In(e){const t=[],i=[];if(e.attributes)for(const n of e.attributes)Pn(n)?t.push(n):i.push(n);return{primary:t,secondary:i}}function Rn(e,t){for(const i of e)if(i.value)if("class"===i.name){Zt(t.out,".");const e=i.value.map((e=>"string"===typeof e?e.replace(/\s+/g,"."):e));Xi(e,t)}else Zt(t.out,"#"),Xi(i.value,t)}function Dn(e,t){if(e.length){const{out:i,config:n,options:o}=t;o.beforeAttribute&&Zt(i,o.beforeAttribute);for(let r=0;r<e.length;r++){const s=e[r];Zt(i,ti(s.name||"",n)),ni(s,n)&&!s.value?!n.options["output.compactBoolean"]&&o.booleanValue&&Zt(i,"="+o.booleanValue):(Zt(i,"="+ii(s,n,!0)),Xi(s.value||Qi,t),Zt(i,ii(s,n))),r!==e.length-1&&o.glueAttribute&&Zt(i,o.glueAttribute)}o.afterAttribute&&Zt(i,o.afterAttribute)}}function Mn(e,t){if(!e.value&&e.children.length)return;const i=e.value||Qi,n=en(i),{out:o,options:r}=t;if(1===n.length)(e.name||e.attributes)&&Qt(o," "),Xi(i,t);else{const e=[];let i=0;for(const t of n){const n=En(t);e.push(n),n>i&&(i=n)}o.level++;for(let s=0;s<n.length;s++)Yt(o,!0),r.beforeTextLine&&Qt(o,r.beforeTextLine),Xi(n[s],t),r.afterTextLine&&(Qt(o," ".repeat(i-e[s])),Qt(o,r.afterTextLine));o.level--}}function Pn(e){return"class"===e.name||"id"===e.name}function En(e){let t=0;for(const i of e)t+="string"===typeof i?i.length:i.name.length;return t}function An(e,t,i,n){return!(!n.parent&&0===t)&&!Zi(e)}function Tn(e,t){return Nn(e,t,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function On(e,t){return Nn(e,t,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function Fn(e,t){return Nn(e,t,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:"xml"===t.options["output.selfClosingStyle"]?"/":""})}const Wn={html:fn,haml:Tn,slim:On,pug:Fn};function Bn(e,t){let i;if("string"===typeof e){const n=Object.assign({},t);t.options["jsx.enabled"]&&(n.jsx=!0),t.options["markup.href"]&&(n.href=!0),e=Be(e,n),i=t.text,t.text=void 0}return e=Ut(e,t),Ht(e,Vn,t),t.text=null!==i&&void 0!==i?i:t.text,e}function Hn(e,t){const i=Wn[t.syntax]||fn;return i(e,t)}function Vn(e,t,i){di(e,t,i),Ot(e,i),bi(e,t,i),"xsl"===i.syntax&&Ii(e),i.options["bem.enabled"]&&Ti(e,t,i)}var zn;(function(e){e["Raw"]="Raw",e["Property"]="Property"})(zn||(zn={}));const Un=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,jn={value:!0};function $n(e,t){const i=t.match(Un);if(i){const t={},n=i[2]?i[2].split("|").map(Gn):[];for(const e of n)for(const i of e)Zn(i,t);return{type:zn.Property,key:e,property:i[1],value:n,keywords:t,dependencies:[]}}return{type:zn.Raw,key:e,value:t}}function Kn(e){e=e.slice().sort(qn);const t=[];let i;for(const n of e.filter(Qn)){while(t.length){if(i=t[t.length-1],n.property.startsWith(i.property)&&45===n.property.charCodeAt(i.property.length)){i.dependencies.push(n),t.push(n);break}t.pop()}t.length||t.push(n)}return e}function qn(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function Gn(e){return Tt(e.trim(),jn)[0].value}function Qn(e){return e.type===zn.Property}function Zn(e,t){for(const i of e.value)if("Literal"===i.type)t[i.value]=i;else if("FunctionCall"===i.type)t[i.name]=i;else if("Field"===i.type){const e=i.name.trim();e&&(t[e]={type:"Literal",value:e})}}function Yn(e,t,i=!1){if(e=e.toLowerCase(),t=t.toLowerCase(),e===t)return 1;if(!e||!t||e.charCodeAt(0)!==t.charCodeAt(0))return 0;const n=e.length,o=t.length;if(!i&&n>o)return 0;const r=Math.min(n,o),s=Math.max(n,o);let a=1,c=1,l=s,d=0,u=0,h=!1,g=!1;while(a<n){d=e.charCodeAt(a),h=!1,g=!1;while(c<o){if(u=t.charCodeAt(c),d===u){h=!0,l+=s-(g?a:c);break}g=45===u,c++}if(!h){if(!i)return 0;break}a++}const p=a/s,m=s-r,f=Jn(s)-Jn(m);return l*p/f}function Jn(e){return e*(e+1)/2}function Xn(e,t){return e.r||e.g||e.b||e.a?1===e.a?eo(e,t):to(e):"transparent"}function eo(e,t){const i=t&&no(e.r)&&no(e.g)&&no(e.b)?oo:ro;return"#"+i(e.r)+i(e.g)+i(e.b)}function to(e){const t=[e.r,e.g,e.b];return 1!==e.a&&t.push(io(e.a,8)),`${3===t.length?"rgb":"rgba"}(${t.join(", ")})`}function io(e,t=4){return e.toFixed(t).replace(/\.?0+$/,"")}function no(e){return!(e%17)}function oo(e){return(e>>4).toString(16)}function ro(e){return so(e.toString(16),2)}function so(e,t){while(e.length<t)e="0"+e;return e}const ao={Global:"@@global",Section:"@@section",Property:"@@property",Value:"@@value"};function co(e,t){var i;const n=Gt(t.options),o=t.options["output.format"];(null===(i=t.context)||void 0===i?void 0:i.name)===ao.Section&&(e=e.filter((e=>e.snippet)));for(let r=0;r<e.length;r++)o&&0!==r&&Yt(n,!0),lo(e[r],n,t);return n.value}function lo(e,t,i){const n=i.options["stylesheet.json"];if(e.name){const o=n?fo(e.name):e.name;Zt(t,o+i.options["stylesheet.between"]),e.value.length?uo(e,t,i):Xt(t,0,""),n?Qt(t,","):(ho(e,t,!0),Qt(t,i.options["stylesheet.after"]))}else{for(const n of e.value)for(const e of n.value)po(e,t,i);ho(e,t,e.value.length>0)}}function uo(e,t,i){const n=i.options["stylesheet.json"],o=n?mo(e):null;if(!o||o.unit&&"px"!==o.unit){const o=vo(i);n&&Qt(t,o);for(let n=0;n<e.value.length;n++)0!==n&&Qt(t,", "),go(e.value[n],t,i);n&&Qt(t,o)}else Qt(t,String(o.value))}function ho(e,t,i){e.important&&(i&&Qt(t," "),Qt(t,"!important"))}function go(e,t,i){for(let n=0,o=-1;n<e.value.length;n++){const r=e.value[n];0===n||"Field"===r.type&&r.start===o||Qt(t," "),po(r,t,i),o=r["end"]}}function po(e,t,i){if("ColorValue"===e.type)Qt(t,Xn(e,i.options["stylesheet.shortHex"]));else if("Literal"===e.type||"CustomProperty"===e.type)Zt(t,e.value);else if("NumberValue"===e.type)Zt(t,io(e.value,4)+e.unit);else if("StringValue"===e.type){const i="double"===e.quote?'"':"'";Zt(t,i+e.value+i)}else if("Field"===e.type)Xt(t,e.index,e.name);else if("FunctionCall"===e.type){Qt(t,e.name+"(");for(let n=0;n<e.arguments.length;n++)n&&Qt(t,", "),go(e.arguments[n],t,i);Qt(t,")")}}function mo(e){if(1===e.value.length){const t=e.value[0];if(1===t.value.length&&"NumberValue"===t.value[0].type)return t.value[0]}}function fo(e){return e.replace(/\-(\w)/g,((e,t)=>t.toUpperCase()))}function vo(e){return e.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}const _o="lg";function bo(e,t){var i;const n=(null===(i=t.cache)||void 0===i?void 0:i.stylesheetSnippets)||yo(t.snippets);t.cache&&(t.cache.stylesheetSnippets=n),"string"===typeof e&&(e=Tt(e,{value:Oo(t)}));const o=Fo(n,t);for(const r of e)wo(r,o,t);return e}function yo(e){const t=[];for(const i of Object.keys(e))t.push($n(i,e[i]));return Kn(t)}function wo(e,t,i){if(!Co(e,i)){const n=i.options["stylesheet.fuzzySearchMinScore"];if(Oo(i)){const o=i.context.name,r=t.find((e=>e.type===zn.Property&&e.property===o));xo(e,i,r,n),e.snippet=r}else if(e.name){const o=No(e.name,t,n,!0);e.snippet=o,o&&(o.type===zn.Property?So(e,o,i):ko(e,o))}}return(e.name||i.context)&&Do(e,i),e}function Co(e,t){let i=null;const n=1===e.value.length?e.value[0]:null;if(n&&1===n.value.length){const e=n.value[0];"FunctionCall"===e.type&&e.name===_o&&(i=e)}return!(!i&&e.name!==_o)&&(i=i?Object.assign(Object.assign({},i),{name:"linear-gradient"}):{type:"FunctionCall",name:"linear-gradient",arguments:[Mo(Eo(0,""))]},t.context||(e.name="background-image"),e.value=[Mo(i)],!0)}function So(e,t,i){const n=e.name,o=Io(n,t.key);if(o){if(e.value.length)return e;const n=Ro(o,i,t);if(!n)return e;e.value.push(Mo(n))}if(e.name=t.property,e.value.length)xo(e,i,t);else if(t.value.length){const n=t.value[0];e.value=1===t.value.length||n.some(Ao)?n:n.map((e=>To(e,i)))}return e}function xo(e,t,i,n){for(const o of e.value){const e=[];for(const r of o.value)if("Literal"===r.type)e.push(Ro(r.value,t,i,n)||r);else if("FunctionCall"===r.type){const o=Ro(r.name,t,i,n);o&&"FunctionCall"===o.type?e.push(Object.assign(Object.assign({},o),{arguments:r.arguments.concat(o.arguments.slice(r.arguments.length))})):e.push(r)}else e.push(r);o.value=e}}function ko(e,t){let i,n=0;const o=/\$\{(\d+)(:[^}]+)?\}/g,r=e.value[0],s=[];while(i=o.exec(t.value))n!==i.index&&s.push(Po(t.value.slice(n,i.index))),n=i.index+i[0].length,r&&r.value.length?s.push(r.value.shift()):s.push(Eo(Number(i[1]),i[2]?i[2].slice(1):""));const a=t.value.slice(n);return a&&s.push(Po(a)),e.name=void 0,e.value=[Mo(...s)],e}function No(e,t,i=0,n=!1){let o=null,r=0;for(const s of t){const t=Yn(e,Lo(s),n);if(1===t)return s;t&&t>=r&&(r=t,o=s)}return r>=i?o:null}function Lo(e){return"string"===typeof e?e:e.key}function Io(e,t){for(let i=0,n=0;i<e.length;i++){if(n=t.indexOf(e[i],n),-1===n)return e.slice(i);n++}return""}function Ro(e,t,i,n){let o;if(i){if(o=No(e,Object.keys(i.keywords),n))return i.keywords[o];for(const t of i.dependencies)if(o=No(e,Object.keys(t.keywords),n))return t.keywords[o]}return(o=No(e,t.options["stylesheet.keywords"],n))?Po(o):null}function Do(e,t){const i=t.options["stylesheet.unitAliases"],n=t.options["stylesheet.unitless"];for(const o of e.value)for(const r of o.value)"NumberValue"===r.type&&(r.unit?r.unit=i[r.unit]||r.unit:0===r.value||n.includes(e.name)||(r.unit=r.rawValue.includes(".")?t.options["stylesheet.floatUnit"]:t.options["stylesheet.intUnit"]))}function Mo(...e){return{type:"CSSValue",value:e}}function Po(e){return{type:"Literal",value:e}}function Eo(e,t){return{type:"Field",index:e,name:t}}function Ao(e){for(const t of e.value)if("Field"===t.type||"FunctionCall"===t.type&&t.arguments.some(Ao))return!0;return!1}function To(e,t,i={index:1}){let n=[];for(const o of e.value)switch(o.type){case"ColorValue":n.push(Eo(i.index++,Xn(o,t.options["stylesheet.shortHex"])));break;case"Literal":n.push(Eo(i.index++,o.value));break;case"NumberValue":n.push(Eo(i.index++,`${o.value}${o.unit}`));break;case"StringValue":const e="single"===o.quote?"'":'"';n.push(Eo(i.index++,e+o.value+e));break;case"FunctionCall":n.push(Eo(i.index++,o.name),Po("("));for(let r=0,s=o.arguments.length;r<s;r++)n=n.concat(To(o.arguments[r],t,i).value),r!==s-1&&n.push(Po(", "));n.push(Po(")"));break;default:n.push(o)}return Object.assign(Object.assign({},e),{value:n})}function Oo(e){return!!e.context&&(e.context.name===ao.Value||!e.context.name.startsWith("@@"))}function Fo(e,t){if(t.context){if(t.context.name===ao.Section)return e.filter((e=>e.type===zn.Raw));if(t.context.name===ao.Property)return e.filter((e=>e.type===zn.Property))}return e}var Wo={a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:refresh":"meta[http-equiv=refresh content='${1:5}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]","script:module":"script[type=module src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{\x3c!-- ${0} --\x3e}","cc:ie":"{\x3c!--[if IE]>${0}<![endif]--\x3e}","cc:noie":"{\x3c!--[if !IE]>\x3c!--\x3e${0}\x3c!--<![endif]--\x3e}"},Bo={"@f":"@font-face {\n\tfont-family: ${1};\n\tsrc: url(${2});\n}","@ff":"@font-face {\n\tfont-family: '${1:FontName}';\n\tsrc: url('${2:FileName}.eot');\n\tsrc: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n\t\t url('${2:FileName}.woff') format('woff'),\n\t\t url('${2:FileName}.ttf') format('truetype'),\n\t\t url('${2:FileName}.svg#${1:FontName}') format('svg');\n\tfont-style: ${3:normal};\n\tfont-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n\t${2}\n}","@m|@media":"@media ${1:screen} {\n\t${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}","bg:n":"background: none",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:${1:#fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|contents|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",g:"gap",gtc:"grid-template-columns:repeat(${0})|minmax()",gtr:"grid-template-rows:repeat(${0})|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},Ho={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}","!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},Vo={"!!!":"{doctype html}"},zo={lang:"en",locale:"en-US",charset:"UTF-8",indentation:"\t",newline:"\n"};const Uo={markup:"html",stylesheet:"css"},jo={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"\t","output.baseIndent":"","output.newline":"\n","output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(e,t)=>t,"output.text":e=>e,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":"\n\x3c!-- /[#ID][.CLASS] --\x3e","bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},$o={type:"markup",syntax:"html",variables:zo,snippets:{},options:jo},Ko={markup:{snippets:qo(Wo)},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:qo(Ho),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0,"markup.attributes":{class:"className","class*":"styleName",for:"htmlFor"},"markup.valuePrefix":{"class*":"styles"}}},vue:{options:{"markup.attributes":{"class*":":class"}}},svelte:{options:{"jsx.enabled":!0}},pug:{snippets:qo(Vo)},stylesheet:{snippets:qo(Bo)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function qo(e){const t={};return Object.keys(e).forEach((i=>{for(const n of i.split("|"))t[n]=e[i]})),t}function Go(e={},t={}){const i=e.type||"markup",n=e.syntax||Uo[i];return Object.assign(Object.assign(Object.assign({},$o),e),{type:i,syntax:n,variables:Qo(i,n,"variables",e,t),snippets:Qo(i,n,"snippets",e,t),options:Qo(i,n,"options",e,t)})}function Qo(e,t,i,n,o={}){const r=Ko[e],s=o[e],a=Ko[t],c=o[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$o[i]),r&&r[i]),a&&a[i]),s&&s[i]),c&&c[i]),n[i])}function Zo(e,t=0){return{text:e,start:t,pos:e.length}}function Yo(e){return e.pos===e.start}function Jo(e,t=0){return e.text.charCodeAt(e.pos-1+t)}function Xo(e){if(!Yo(e))return e.text.charCodeAt(--e.pos)}function er(e,t){if(Yo(e))return!1;const i="function"===typeof t?t(Jo(e)):t===Jo(e);return i&&e.pos--,!!i}function tr(e,t){const i=e.pos;while(er(e,t));return e.pos<i}var ir,nr;function or(e){return e===ir.SingleQuote||e===ir.DoubleQuote}function rr(e){const t=e.pos,i=Xo(e);if(or(i))while(!Yo(e))if(Xo(e)===i&&Jo(e)!==ir.Escape)return!0;return e.pos=t,!1}(function(e){e[e["SingleQuote"]=39]="SingleQuote",e[e["DoubleQuote"]=34]="DoubleQuote",e[e["Escape"]=92]="Escape"})(ir||(ir={})),function(e){e[e["SquareL"]=91]="SquareL",e[e["SquareR"]=93]="SquareR",e[e["RoundL"]=40]="RoundL",e[e["RoundR"]=41]="RoundR",e[e["CurlyL"]=123]="CurlyL",e[e["CurlyR"]=125]="CurlyR"}(nr||(nr={}));const sr={[nr.SquareL]:nr.SquareR,[nr.RoundL]:nr.RoundR,[nr.CurlyL]:nr.CurlyR};var ar;function cr(e){const t=e.pos;if(!er(e,ar.AngleRight))return!1;let i=!1;er(e,ar.Slash);while(!Yo(e)){if(tr(e,fr),hr(e)){if(er(e,ar.Slash)){i=er(e,ar.AngleLeft);break}if(er(e,ar.AngleLeft)){i=!0;break}if(er(e,fr))continue;if(er(e,ar.Equals)){if(hr(e))continue;break}if(ur(e)){i=!0;break}break}if(!lr(e))break}return e.pos=t,i}function lr(e){return dr(e)||ur(e)}function dr(e){const t=e.pos;return!!(rr(e)&&er(e,ar.Equals)&&hr(e))||(e.pos=t,!1)}function ur(e){const t=e.pos,i=[];while(!Yo(e)){const t=Jo(e);if(br(t))i.push(t);else if(_r(t)){if(i.pop()!==sr[t])break}else if(!vr(t))break;e.pos--}return!(t===e.pos||!er(e,ar.Equals)||!hr(e))||(e.pos=t,!1)}function hr(e){return tr(e,gr)}function gr(e){return e===ar.Colon||e===ar.Dash||pr(e)||mr(e)}function pr(e){return e&=-33,e>=65&&e<=90}function mr(e){return e>47&&e<58}function fr(e){return e===ar.Space||e===ar.Tab}function vr(e){return!isNaN(e)&&e!==ar.Equals&&!fr(e)&&!or(e)}function _r(e){return e===nr.CurlyL||e===nr.RoundL||e===nr.SquareL}function br(e){return e===nr.CurlyR||e===nr.RoundR||e===nr.SquareR}(function(e){e[e["Tab"]=9]="Tab",e[e["Space"]=32]="Space",e[e["Dash"]=45]="Dash",e[e["Slash"]=47]="Slash",e[e["Colon"]=58]="Colon",e[e["Equals"]=61]="Equals",e[e["AngleLeft"]=60]="AngleLeft",e[e["AngleRight"]=62]="AngleRight"})(ar||(ar={}));const yr=e=>e.charCodeAt(0),wr="#.*:$-_!@%^+>/".split("").map(yr),Cr={type:"markup",lookAhead:!0,prefix:""};function Sr(e,t=e.length,i={}){const n=Object.assign(Object.assign({},Cr),i);let o;t=Math.min(e.length,Math.max(0,null==t?e.length:t)),n.lookAhead&&(t=xr(e,t,n));const r=kr(e,t,n.prefix||"");if(-1===r)return;const s=Zo(e,r);s.pos=t;const a=[];while(!Yo(s)){if(o=Jo(s),a.includes(nr.CurlyR)){if(o===nr.CurlyR){a.push(o),s.pos--;continue}if(o!==nr.CurlyL){s.pos--;continue}}if(Dr(o,n.type))a.push(o);else if(Rr(o,n.type)){if(a.pop()!==sr[o])break}else{if(a.includes(nr.SquareR)||a.includes(nr.CurlyR)){s.pos--;continue}if(cr(s)||!Ir(o))break}s.pos--}if(!a.length&&s.pos!==t){const n=e.slice(s.pos,t).replace(/^[*+>^]+/,"");return{abbreviation:n,location:t-n.length,start:i.prefix?r-i.prefix.length:t-n.length,end:t}}}function xr(e,t,i){or(e.charCodeAt(t))&&t++;while(Dr(e.charCodeAt(t),i.type))t++;return t}function kr(e,t,i){if(!i)return 0;const n=Zo(e),o=i.split("").map(yr);let r;n.pos=t;while(!Yo(n))if(!Nr(n,nr.SquareR,nr.SquareL)&&!Nr(n,nr.CurlyR,nr.CurlyL)){if(r=n.pos,Lr(n,o))return r;n.pos--}return-1}function Nr(e,t,i){const n=e.pos;if(er(e,t))while(!Yo(e)){if(er(e,i))return!0;e.pos--}return e.pos=n,!1}function Lr(e,t){const i=e.pos;let n=!1;for(let o=t.length-1;o>=0&&!Yo(e);o--){if(!er(e,t[o]))break;n=0===o}return n||(e.pos=i),n}function Ir(e){return e>64&&e<91||e>96&&e<123||e>47&&e<58||wr.includes(e)}function Rr(e,t){return e===nr.RoundL||"markup"===t&&(e===nr.SquareL||e===nr.CurlyL)}function Dr(e,t){return e===nr.RoundR||"markup"===t&&(e===nr.SquareR||e===nr.CurlyR)}function Mr(e,t){const i=Go(t);return"stylesheet"===i.type?Er(e,i):Pr(e,i)}function Pr(e,t){return Hn(Bn(e,t),t)}function Er(e,t){return co(bo(e,t),t)}}}]);